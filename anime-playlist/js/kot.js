function addCommas(e) {
    e += "", x = e.split("."), x1 = x[0], x2 = x.length > 1 ? "." + x[1] : "";
    for (var t = /(\d+)(\d{3})/; t.test(x1);) x1 = x1.replace(t, "$1,$2");
    return x1 + x2
}

function submitSearch(e) {
    var t = $("#siteSearch-input").val();
    "" !== t && (track("Search", e, t.toLowerCase()), $("#siteSearch").submit())
}

function bindSearchAutoComplete() {
    $("#siteSearch-input").apcomplete($("#siteSearch").find("select").val(), !1, !0).on("autocompleteselect", function(e, t) {
        window.location = t.item.url, track("Search", "autocomplete", t.item.name.toLowerCase())
    })
}

function defaultBlur() {
    "" != $(this).val() && $(this).val() != $(this).attr("title") || $(this).addClass("default-field").val($(this).attr("title"))
}

function defaultFocus() {
    var e = $(this);
    e.val() == e.attr("title") ? e.removeClass("default-field").val("") : e.removeClass("default-field").prev("label").hide()
}

function fadeToHidden(e, t, i) {
    i = i || 500, t && (e.css("opacity", 0), e.css("visibility", "visible")), e.fadeTo(i, t ? 1 : 0, function() {
        t || $(this).css("visibility", "hidden")
    })
}

function changeTitleSearchType() {
    var e = $("#title-search"),
        t = e.val() == e.attr("title") ? "" : e.val();
    t && (window.location = "/" + $(this).val() + "/all?" + $.param({
        name: t
    }))
}

function showMessage(e, t, i) {
    var o = e.find(".alert");
    o.empty().removeClass("error success").addClass(i ? "success" : "error"), o.html("<p>" + t + "</p>").fadeIn("fast")
}

function showModal(e, t, i, o) {
    if (e.stopPropagation(), e.preventDefault(), !0 === e.handled) return !1;
    var n = $("#tooltipModal");
    if ("null" == i && !n.dialog) return !0;
    "null" != i ? n.dialog({
        modal: !0,
        width: 440,
        title: i,
        hide: {
            effect: "fade",
            easing: "easeInBack"
        },
        show: {
            effect: o ? "show" : "scale",
            easing: "easeOutBack"
        },
        dialogClass: o ? "" : "fullInfo",
        open: function() {
            n.html(t), $(".ui-widget-overlay,.close-button").on("click", function() {
                n.dialog("close")
            })
        }
    }).dialog() : n.dialog({
        modal: !0,
        width: 440,
        hide: {
            effect: "fade",
            easing: "easeInBack"
        },
        show: {
            effect: o ? "show" : "scale",
            easing: "easeOutBack"
        },
        dialogClass: o ? "onboarder" : "fullInfo",
        open: function() {
            n.html(t), $(".ui-widget-overlay,.close-button").on("click", function() {
                n.dialog("close")
            })
        }
    }).dialog(), e.handled = !0
}

function submitFauxForm(e, t) {
    var i = $('<form method="POST"' + (t ? "action=" + t : "") + ">" + e + "</form>");
    $("body").append(i), $(i).submit()
}

function updatePerPage(e) {
    track("Page", "per page", e.value), window.location = "?per_page=" + e.value
}

function track(e, t, i) {
    ga("send", "event", e, t, i)
}

function PillPharmacy() {
    function e(e, t, i, o) {
        return void 0 == o && (o = e), $("<a class='pill " + o + (void 0 != i ? "' data-field='" + i : "") + "' data-type='" + e + "'>" + t + "</a>")
    }
    return this.pillFilters = $(".pillFilters"), this.pillBottle = this.pillFilters.find(".pillBottle"), this.createPill = function(t, i, o) {
        var n = this.findPill(t.attr("id"));
        if (t.val()) {
            var a = (void 0 != t.data("name") ? t.data("name") : "") + (void 0 != i ? i : t.val());
            0 == n.length ? this.dispensePill(this.pillBottle, e(t.attr("id"), a, o)) : n.text() != a && (n.text(a).removeClass("selected"), this.showApply())
        } else this.removePill(n)
    }, this.createPillFromButton = function(t, i, o) {
        var n = this.findPill(t.attr("id"), o);
        i = i.replace("- ", "<i class='fa fa-minus'></i> ").replace("+ ", "<i class='fa fa-plus'></i> "), i = (void 0 != t.data("name") ? t.data("name") : "") + i, 0 == n.length ? this.dispensePill(this.pillBottle, e(o, i, t.attr("id"), t.attr("id"))) : (n.html(i).removeClass("selected").data("type", o), this.showApply())
    }, this.removePill = function(e) {
        var t = e.data("type");
        if (void 0 != t) {
            var i = " #" + e.data("field");
            if ("include_types" == t) $(".af-filters" + i).removeClass("include");
            else if ("rating_less" == t) $("#rating_less").val(5), $("#rating-slider").slider("option", "values", [100 * $("#rating_greater").val(), 500]);
            else if ("rating_greater" == t) $("#rating_greater").val(0), $("#rating-slider").slider("option", "values", [0, 100 * $("#rating_less").val()]);
            else if ("incTag" == t) $(".filterTagList" + i).removeClass("include");
            else if ("excTag" == t) $(".filterTagList" + i).removeClass("exclude");
            else if (0 == t.indexOf("single-")) {
                var o = t.substring(t.indexOf("single-"));
                0 == this.pillBottle.find("a." + o).length && ($("#" + o).val(""), this.removePill($("#to_" + o))), 0 == this.pillBottle.find("a.to_" + o).length && ($("#to_" + o).val(""), this.removePill($("#" + o)))
            } else $("#" + t).val("");
            e.remove(), this.showApply(), 1 == this.pillBottle.find("a").length && this.pillFilters.slideUp()
        }
    }, this.removeAllPills = function() {
        var e = this;
        this.pillBottle.find("a").each(function() {
            e.removePill($(this))
        })
    }, this.dispensePill = function(e, t) {
        this.showApply(), (1 == e.find("a").length || e.is(":hidden")) && this.pillFilters.slideDown(), e.prepend(t)
    }, this.combinePills = function(t, i, o) {
        var n = this.findPill(i),
            a = "to_" + i,
            s = "single-" + o,
            r = this.findPill(s);
        if ($("#" + i).val() == $("#" + a).val())
            if (t.val()) {
                if (0 == r.length) {
                    var l = i.charAt(0).toUpperCase() + i.slice(1) + " = " + t.val();
                    this.pillBottle.prepend(e(s, l)), n.remove(), this.findPill(a).remove()
                }
            } else this.removePill(this.findPill(t.attr("id")));
        else r.length > 0 ? (r.remove(), this.createPill($("#" + i)), this.createPill($("#" + a))) : this.createPill(t);
        this.showApply()
    }, this.findPill = function(e, t) {
        return void 0 == t ? this.pillFilters.find("a." + e) : "excTag" == t || "incTag" == t ? this.pillFilters.find("a." + e + "[data-type$='Tag']") : this.pillFilters.find("a." + e + "[data-type='" + t + "']")
    }, this.showApply = function() {
        var e = $(".pillLabel");
        e.find("button").show(), e.find("span").hide()
    }, this
}

function displayBadges(e) {
    if (e && e.badges) {
        var t = e.more_added,
            i = e.badges,
            o = 0,
            n = 0;
        if (i.length) {
            var a = $("#achievementDialog"),
                s = $("#badgeBlockHTML div.badgeBlock");
            parseInt(t) > 0 ? a.find(".badgeAdditional").show().find(".additionalNum").html(t) : a.find(".badgeAdditional").hide(), $("#badgeContainer").empty(), $.each(i, function(e, t) {
                var i = s.clone();
                t.is_added ? o++ : n++, i.find(".badgeLink").attr("href", "/badges/" + t.url_slug).last().html(t.is_added ? t.name : "<strong>LOST</strong>: " + t.name), i.find(".badgeDescription").html(t.description), i.find(".badgeImage").attr("src", "/images/badges/" + t.image_path + ".png").attr("alt", t.name), t.gift_from_user_id && (i.find(".badgeFromUser a").attr("href", "/users/" + t.gift_from_user_name).last().html(t.gift_from_user_name), i.find(".badgeFromUser").show(), t.gift_message && i.find(".badgeGiftMessage").html(t.gift_message).show()), i.appendTo("#badgeContainer")
            }), n > 0 && o < 1 && a.find("h2").text("You've Lost Badges!"), $("#achievementDialog").dialog({
                modal: !0,
                width: 500,
                dialogClass: "achievement",
                open: function() {
                    $(".ui-widget-overlay").on("click", function() {
                        $("#achievementDialog").dialog("close")
                    })
                }
            }).dialog()
        }
    }
}

function initMyListBar(e) {
    var t = e || $("body");
    t.off("change").on("change", ".changeStatus", function(e) {
        set_status(!1, e.target.value, $(e.target).closest("form"))
    }), t.on("change", ".timeswatched", function(e) {
        getData($(e.target).closest("form"), "times", e.target.value, function(e, t) {
            t.find(".timeswatched").val(e.times_watched)
        })
    }), t.on("change", ".episodes", function(e) {
        getData($(e.target).closest("form"), "update", e.target.value, function(e, t) {
            var i = t.parent().siblings().find(".incEps");
            if (e.success) {
                t.find(".episodes").val(e.episodes);
                var o = t.find(".totalEps");
                fadeToHidden(o.add(i), e.episodes != o.text().replace("+", "").replace(/[\t\s]/g, ""));
                var n = "eps";
                e.episodes || (n = t.find(".changeStatus").find(":selected").text()), t.trigger("EpsChanged", [e.episodes, t.find(".episodes").data("eps"), n, t.data("id")])
            }
        })
    }), t.on("change", ".volumes, .chapters", function(e) {
        if (form = $(e.target).closest("form"), readSet = $(this).hasClass("volumes") ? "volumes" : "chapters", readUnset = "volumes" == readSet ? "chapters" : "volumes", incEps = form.parent().parent().find(".incEps"), 0 != form.find("." + readUnset)[0].value) {
            if (!confirm("You can only keep track of chapters OR volumes for each manga. If you continue, " + readSet + "  will be reset to 0.")) return void form.find("." + readSet).val(0);
            form.find("." + readUnset).val(0)
        }
        getData(form, "update", form.find(".chapters").val() + "/" + form.find(".volumes").val(), function(e, t) {
            if (e.success) {
                t.find("." + readSet).val(e.amountRead), t.find("." + readUnset).val(0);
                var i = t.find(".changeStatus").find(":selected").text();
                e.amountRead ? (i = "volumes" == readSet ? "vol" : "ch", fadeToHidden(incEps, e.amountRead != form.find("." + readSet).data("eps")), incEps.data("episode-type", readSet).text(i), e.amountRead > 1 && (i += "s")) : incEps.fadeOut(), totalEps = 0, t.find("." + readSet).children().each(function() {
                    value = parseInt($(this).val()), value > totalEps && (totalEps = value)
                }), t.trigger("EpsChanged", [e.amountRead, totalEps, i, t.data("id")]), track("Lists", "updated read " + readSet, "manga", t.data("id"))
            }
        })
    }), t.on("click", ".incEps", function(e) {
        if (!0 !== e.handled) {
            $(this).addClass("working");
            var t = $(this).parent().siblings(".entryRating").find("form");
            switch (t.data("mode")) {
                case "anime":
                    eps = t.find(".episodes"), data = parseInt(eps.val()) + 1;
                    break;
                case "manga":
                    "volumes" == $(this).data("episode-type") ? (eps = t.find(".volumes"), data = "0/" + (parseInt(eps.val()) + 1)) : "chapters" == $(this).data("episode-type") && (eps = t.find(".chapters"), data = parseInt(eps.val()) + 1 + "/0")
            }
            eps.val() != eps.data("eps") ? getData(t, "update", data, function(e, i) {
                var o = i.parent().siblings("td").find(".incEps.working").removeClass("working");
                i.find(".progress-img").remove(), e.success && ("anime" == t.data("mode") ? (eps.val(e.episodes), e.episodes == i.find(".totalEps").text().replace("+", "").replace(/[\t\s]/g, "") && fadeToHidden(i.find(".totalEps").add(o))) : (e.amountRead == eps.data("eps") && fadeToHidden(o), eps.val(e.amountRead)), track("Lists", "incr eps", "anime", t.data("id")))
            }) : (t.find(".progress-img").remove(), $(this).removeClass("working").effect("shake", {
                distance: 2
            })), e.handled = !0
        }
    })
}

function tt_status(e, t, i) {
    var o = e + t;
    return addWorking($("a." + o).parents(".myListBar")), $.getJSON("/api/list/status/" + e + "/" + t + "/" + i + "/" + TOKEN, function(i) {
        $("a." + o).parent().siblings(".progress-img").remove(), i.success && ($(".rated." + o).toggleClass("selected off"), $(".tooltip." + o).tooltip("option", "content", $(".ui-tooltip-content").html()), $(document).trigger("rated", [{
            mode: e,
            id: t
        }]), $(".tooltip." + o).tooltip("close"), track("Lists", "updated status from tooltip", e, t))
    }), !1
}

function status_anime(e, t) {
    var i = t.find(".episodes"),
        o = t.find(".timeswatched"),
        n = t.find(".totalEps"),
        a = t.find(".starrating"),
        s = t.parent().siblings().find(".incEps");
    switch (e) {
        case 0:
        case 4:
        case 6:
            o.fadeOut(function() {
                fadeToHidden(i.val(0).add(n))
            }), s.fadeOut(), a.fadeOut().children(".cancel").triggerHandler("click", !0);
            break;
        case 1:
            var r = t.parents("td").length;
            if (1 == i.find("option").length)
                for (var l = 0; l < i.data("eps"); l++) i.append($("<option>", {
                    value: l + 1,
                    text: l + 1
                }));
            for (var d = 1; d < 100; d++) o.append($("<option>", {
                value: d,
                text: d + "x"
            }));
            n.fadeOut(), i.attr("disabled", !0).fadeTo(500, r ? 0 : 1, function() {
                r && $(this).css("visibility", "hidden"), o.fadeIn().find(">option:eq(0)").attr("selected", "selected"), s.fadeOut()
            }).find(">option:last-child").attr("selected", "selected"), a.fadeIn();
            break;
        case 2:
        case 3:
        case 5:
            if (1 == i.find("option").length)
                for (var l = 0; l < i.data("eps"); l++) i.append($("<option>", {
                    value: l + 1,
                    text: l + 1
                }));
            o.fadeOut(function() {
                fadeToHidden(i.attr("disabled", !1).add(n), !0), i.data("eps") == n.text().replace("+", "") ? fadeToHidden(n, !1, 200) : s.fadeIn(), a.fadeIn()
            })
    }
}

function status_manga(e, t) {
    var i = t.find(".volumes"),
        o = t.find(".chapters"),
        n = t.find(".starrating");
    switch (incEps = t.parent().parent().find(".incEps"), e) {
        case 0:
        case 4:
        case 6:
            i.add(o).val(0).fadeOut(), n.fadeOut().children(".cancel").triggerHandler("click", !0), incEps.fadeOut();
            break;
        case 1:
            n.fadeIn(), o.val() > 0 ? (i.fadeIn().val(0).prop("disabled", !0), o.prop("disabled", !0).show().find(">option:last-child").attr("selected", "selected")) : (o.fadeIn().val(0).prop("disabled", !0), i.prop("disabled", !0).show().find(">option:last-child").attr("selected", "selected")), incEps.fadeOut();
            break;
        case 2:
        case 3:
        case 5:
            i.add(o).fadeIn().prop("disabled", !1), n.fadeIn(), o.val() > 0 && o.val() != o.data("eps") ? (incEps.data("episode-type", "chapters").text("ch"), incEps.fadeIn()) : i.val() > 0 && i.val() != i.data("eps") && (incEps.data("episode-type", "volumes").text("vol"), incEps.fadeIn())
    }
}

function set_rating(e, t) {
    getData($(t).closest("form"), "rate", e, function(e, t) {
        if (e.success && 0 != e.rating) {
            var i = 2 * parseFloat(e.rating) - 1;
            t.find(".star").eq(i).triggerHandler("click", !0), track("Lists", "rated", e.type, t.data("id"))
        } else t.find(".starrating").find(".cancel").triggerHandler("click", !0);
        t.find(".starrating").find("div").first().attr("name", e.rating), t.trigger("Rated", [e.id, e.type, e.rating])
    })
}

function set_status(e, t, i) {
    getData(i || $("form." + e), "status", t, function(e, t) {
        if (e.success) {
            var i = parseInt(e.status_id);
            t.find(".display").attr("class", "display status" + i), "anime" == e.type ? status_anime(i, t) : status_manga(i, t), t.find(".changeStatus").val(i), t.trigger("StatusChanged", {
                id: e.id,
                mode: e.type,
                status: i,
                statusname: t.find(".changeStatus").find(":selected").text(),
                rating: t.find(".starrating > div:first-child").attr("name")
            }), track("Lists", "changed status", e.type, e.id)
        }
    })
}

function getData(e, t, i, o) {
    addWorking(e), $.getJSON("/api/list/" + t + "/" + e.data("mode") + "/" + e.data("id") + "/" + i + "/" + TOKEN, function(e) {
        var t = $("form." + e.type + e.id);
        t.find(".progress-img").remove(), o(e, t), e.error ? alert(e.error) : (displayChallenges(e.challenge_popups), displayBadges(e.badges))
    })
}

function addWorking(e) {
    e.append($("<div class='progress-img'></div>").show())
}

function displayChallenges(e) {
    if (e && e.length) {
        for (var t = e.length, i = "", o = 0; o < t; o++) e[o].current_tier ? i += '<img src="/inc/img/big-' + e[o].current_tier + '.png" class="big-icon"/><h4>' + e[o].title + "</h4><p>" + e[o].body + "</p>" : i += '<h1 style="margin-top:0">' + e[o].title + "</h1>" + e[o].body;
        $("#challengeNotificationContainer").html(i), $("#challengeDialog").dialog({
            modal: !0,
            width: 500,
            dialogClass: "achievement",
            open: function() {
                $(".ui-widget-overlay").on("click", function() {
                    $("#challengeDialog").dialog("close")
                }), $("#challengeDialog > .dialogButton > button").on("click", function() {
                    $("#challengeDialog").dialog("close")
                })
            }
        }).dialog()
    }
}

function toggle_favorite(e, t, i, o, n) {
    var a = $("." + e + t),
        s = "remove";
    n || !a.hasClass(o) ? (s = "love" == o ? "like" : "dislike", a.removeClass("hate love").addClass(o)) : a.removeClass("hate love"), favorite_item(e, t, s, i, !1)
}

function toggle_love(e, t, i) {
    favorite_item(e, t, i || !$("." + e + t).hasClass("selected") ? "like" : "remove", 0, !0)
}

function favorite_item(e, t, i, o, n) {
    var a = $("." + e + t),
        s = $("#soLonely");
    set_fav_styles(a, i, n, s), $.getJSON("/api/user/favorite/" + e + "/" + t + "/" + i + "/" + o + "/" + TOKEN, function(e) {
        e.success ? (n ? a.html(addCommas(e.counts.num_likes)) : ($(".like-count").html(addCommas(e.counts.num_likes) + " " + (1 == e.counts.num_likes ? "person" : "people")), e.can_dislike && $(".dislike-count").html(addCommas(e.counts.num_dislikes) + " " + (1 == e.counts.num_dislikes ? "person" : "people"))), displayBadges(e.badges), a.trigger("FavChanged", [{
            action: e.action
        }])) : (set_fav_styles(a, e.action, e.doSelect, s), alert(e.error)), n || $(".tooltip." + e.favorite_id).tooltip("option", "content", $(".ui-tooltip-content").html()), track("Users", e.action || "unset hate/love", "Clicked heart button")
    })
}

function set_fav_styles(e, t, i, o) {
    e.find("a").removeClass("pulse"), "like" == t ? (i ? e.addClass("selected") : e.addClass("love").removeClass("hate").find(".heartOn").addClass("pulse"), o.css("background-image", "url(/inc/img/megusta.png)").find("h3").text("You like...me?"), o.find("p").text("Senpai noticed me!")) : "dislike" == t ? (e.addClass("hate").removeClass("love"), o.css("background-image", "url(/inc/img/yuno.jpg)").find("h3").text("Y U no like me?"), o.find("p").text("I don't like you either... b.... baka!!!")) : e.removeClass("selected love hate")
}

function toggle_follow(e, t) {
    var i = $(".friend" + e),
        o = t || !i.hasClass("selected") ? "add" : "remove";
    $.getJSON("/api/user/follow/" + e + "/" + o + "/" + TOKEN, function(e) {
        e.success ? ("remove" == e.action ? i.removeClass("selected").html("Follow") : i.addClass("selected").html("Following"), displayBadges(e.badges), track("Users", (o ? "" : "un") + "follow user")) : alert(e.error)
    })
}

function confirmDelete(e) {
    return track("Users", "click", "delete " + e), confirm("Are you sure you want to delete this " + e + "? This can't be undone.")
}

function confirmBlockUser() {
    return track("Users", "click", "block user"), confirm("Are you sure you want to block this user? Any profile comments they've left you will be removed. You can't undo this action at the moment, but will be able to in the future.")
}

function ImageChooser(e) {
    function t(e) {
        $.post("/api/" + s + "/upload/" + l + "/" + (r ? r + "/" : "") + TOKEN, {
            params: e
        }, function(e) {
            a(e.status ? e : {
                longdetail: "Unable to complete request.",
                innerException: e
            })
        }, "json")
    }

    function i(e, t) {
        if (null == e) return "That image does not meet our upload requirements.";
        var i = t.importRanges.width.min || 0,
            o = t.importRanges.width.max || 1e5,
            n = t.importRanges.height.min || 0,
            a = t.importRanges.height.max || 1e5;
        if (t.constrainGIFs && "gif" == e.src.substring(11, 14)) {
            var s = e.width / t.width,
                r = e.height / t.height;
            return s == r && e.width <= o && e.width >= i ? "" : s != r ? "GIF images must be square." : e.width > o || e.width < i ? "GIF images must be no smaller than " + i + "px across." : "That image does not meet our upload requirements."
        }
        return e.width < i || e.height < n ? "Minimum image dimensions are " + i + " x " + n + " pixels" : e.width > o || e.height > a ? "Maximum image dimensions are " + o + " x " + a + " pixels" : ""
    }
    "undefined" == typeof aspect && (aspect = 1);
    var o, n, a, s, r, l, d = this;
    d.cropper = null, d.chooserElem = null, d.setOnLoad = function(e, t) {
        o = function(o, n, a) {
            var s = new Image;
            s.onload = function() {
                var o = i(s, e);
                if ("" == o)
                    if ("gif" !== s.src.substring(11, 14)) {
                        new Loader(s, {
                            done: function(e) {
                                t(e, d)
                            }
                        })
                    } else t(s, d);
                else $(a.target).trigger("verifyfailed", {
                    message: o
                })
            }, s.src = o.target.result
        }
    }, d.setPost = function(e, t, i, o) {
        a = i, s = t, l = e, r = o
    }, d.handleFileSelect = function(e) {
        $(".editableBanner").find(".alert").removeClass("error").html("");
        var t = e.target.files,
            i = t[t.length - 1];
        if (i && i.type.match("image.*")) {
            var n = new FileReader;
            n.onload = function(t) {
                return function(i) {
                    o(i, t, e)
                }
            }(i), n.readAsDataURL(i), null == $(e.target).data("no-disable") && $(e.target).attr("disabled", !0).trigger("isloading").on("verifyfailed saved cancelled", function() {
                $(this).attr("disabled", !1)
            })
        }
    }, d.prepareImage = function(e, i, o, a, s) {
        i ? (n = new Image, n.onload = function() {
            var e = $("<canvas/>").hide().appendTo("body"),
                i = e.get(0).getContext("2d"),
                n = ($('<a download="cropped-image" title="click to download the image" />'), d.cropper.getCroppedCanvas()),
                s = n.getContext("2d");
            s.mozImageSmoothingEnabled = !0, s.webkitImageSmoothingEnabled = !0, s.msImageSmoothingEnabled = !0, s.imageSmoothingEnabled = !0, e.get(0).width = n.width, e.get(0).height = n.height, i.drawImage(n, 0, 0), n.width = o, n.height = a, s.drawImage(e.get(0), 0, 0, e.get(0).width, e.get(0).height, 0, 0, o, a);
            for (var r = s.getImageData(0, 0, o, a).data, l = !1, c = 0; c < r.length; c += 4)
                if (r[c + 3] < 255) {
                    l = !0;
                    break
                }
            var p = l ? n.toDataURL("image/png") : n.toDataURL("image/jpeg");
            e.remove(), t(p)
        }, n.src = e.src) : t(e.src)
    }, this.setChangeListener = function(e) {
        d.chooserElem = "string" == typeof e ? $("#" + e) : e, d.chooserElem.on("change", this.handleFileSelect)
    }, this.setChangeListener(e)
}

function EditProfileImages() {
    function e(e) {
        return "gif" == e.src.substring(11, 14)
    }

    function t(e) {
        a.hide(), r.displayCropTools(c.width / c.height), $(".editableBanner").find(".croppedImage").siblings(".jwc_controls").children("a").remove(), r.bindSave(e, "background", o)
    }

    function i(t, i) {
        var n = i.find(".croppedImage");
        i.find("#avatarChooser").hide(), "gif" !== t.src.substring(11, 14) && (i.find(".cropContainer").parent().removeClass("sm-7-24"), i.find(".EditInformation").hide()), i.find("#user-avatar, .delete").hide(), e(t) ? n.addClass("gif-preview") : n.removeClass("gif-preview").load(function() {
            l.displayCropTools(1)
        }), l.bindSave(t, "avatar", o, i)
    }

    function o(e, t, i) {
        "avatar" == t && ($("#user-avatar, #profile-avatar, .loggedIn .avatar").attr("src", e), void 0 !== i && (i.find(".croppedImage").attr("src", ""), i.dialog("close"))), "background" == t && a.css("background-image", "url('" + e + "')").fadeIn()
    }

    function n(e, t, i) {
        e.preventDefault(), confirm("Are you sure you want to delete your image? Delete happens immediately and can't be undone.") && $.get("/api/user/delete_image/" + t + "/users/" + i + "/" + TOKEN, function(t) {
            "Success" == t ? ($(e.target).hide(), "main" == i ? (o($(e.target).data("default"), "avatar"), void 0 !== $(".croppedImage").getjWindowCrop() && ($(".croppedImage").getjWindowCrop().destroy(), $(".croppedImage").hide(), $("#user-avatar").show())) : a.css("backgroundImage", "")) : "main" == i ? showMessage(s, "Couldn't delete your avatar", !1) : $(".editableBanner").find(".alert").text("Couldn't delete header image")
        })
    }
    var a = $("#profileBackground"),
        s = $("#avatarModal"),
        r = new InlineImageEditor,
        l = new InlineImageEditor,
        d = {
            type: "avatar",
            width: 450,
            height: 450,
            maxSize: 256e3,
            importRanges: {
                width: {
                    min: 140
                },
                height: {
                    min: 140
                }
            },
            constrainGIFs: !0
        },
        c = {
            type: "background",
            width: 1226,
            height: 300,
            maxSize: 204800,
            importRanges: {
                width: {
                    min: 500,
                    max: 4e3
                },
                height: {
                    min: 150,
                    max: 4e3
                }
            }
        };
    return this.Init = function(e) {
        l.Init("avatarChooser", d, i, s), r.Init("bgfile", c, t, $(".editableBanner")), $(".profile-avatar").on("click", ".edit", function(t) {
            t.preventDefault();
            var i = s.clone();
            i.data("userid", e), l.setModal(i, n)
        }), $(".editableBanner").find(".delete").click(function(t) {
            n(t, e, "background")
        })
    }, this
}

function EditBanner() {
    function e(e) {
        i.displayCropTools(3.42), t.find("h1").css("position", "absolute"), i.bindSave(e, "banner", function(e) {
            t.css("background-image", "url('" + e + "')").fadeIn().find("h1").css("position", "relative")
        })
    }
    var t, i = new InlineImageEditor,
        o = {
            width: 1026,
            height: 300,
            maxSize: 204800,
            importRanges: {
                width: {
                    min: 500,
                    max: 2e3
                },
                height: {
                    min: 130,
                    max: 2e3
                }
            }
        };
    this.Init = function() {
        t = $(".editableBanner"), i.Init("bgfile", o, e, t)
    }
}

function InlineImageEditor() {
    var e, t, i, o, n;
    return this.Init = function(a, s, r, l) {
        e = s, t = l, n = t.find(".croppedImage"), o = r, Cropper.setDefaults({
            dragMode: "move",
            viewMode: 2,
            background: !0,
            rotatable: !1,
            scalable: !1,
            modal: !0,
            center: !1
        }), t.hasClass("editableBanner") && (t.on("click", ".edit-background", function(e) {
            e.preventDefault(), e.stopPropagation(), $(e.target).hasClass("delete") || $("#" + a).click()
        }), t.on("click", ".reset", function() {
            n.hide(), t.find("h1").css("position", "relative"), t.find(".save-controls").fadeOut(), t.find("input[type=file]").trigger("cancelled"), i.cropper.destroy(), $("#profileBackground").show()
        })), t.on("verifyfailed", function(e, i) {
            t.find(".alert").html("<p>" + i.message + "</p>").addClass("error").fadeIn()
        }), i = new ImageChooser(a), i.setOnLoad(e, function(e) {
            t.find(".alert").removeClass("error").html(""), t.find(".disclaimer").text(""), n.attr("src", e.src).show(), t.find(".save-controls").fadeIn();
            var a = {
                zoomable: !0
            };
            "background" === s.type && (a.zoomOnWheel = !1, a.zoomOnTouch = !1), "gif" !== e.src.substring(11, 14) && (i.cropper = new Cropper(n.get(0), a), n.get(0).addEventListener("ready", function() {
                var e = i.cropper.getContainerData(),
                    t = i.cropper.getImageData();
                "background" == s.type && (i.cropper.zoomTo(e.width / t.naturalWidth), i.cropper.setCropBoxData({
                    left: 0,
                    top: 0,
                    width: e.width,
                    height: e.height
                })), n.hide()
            })), o(e, t)
        }, t)
    }, this.setModal = function(e, o) {
        e.find(".delete").click(function(e) {
            t.deleteCallback(e, t.data("userid"), "main")
        }), e.dialog({
            title: "Edit Avatar",
            modal: !0,
            width: 590,
            open: function() {
                var t = e.get(0).offsetWidth - 20;
                $(".cropContainer").css({
                    "max-width": t,
                    "max-height": t
                }), $(".ui-widget-overlay").on("click", function() {
                    e.dialog("close")
                })
            }
        }).dialog(), t = e, t.deleteCallback = o, n = t.find(".croppedImage"), i.setChangeListener(e.find("#avatarChooser")), e.on("isloading", function() {
            e.find(".disclaimer").html('Loading image... <div class="progress-img" style="display:inline-block"></div>')
        }), e.on("verifyfailed", function(i, o) {
            t.find(".alert").html("<p>" + o.message + "</p>").addClass("error").fadeIn(), e.find(".disclaimer").html("")
        })
    }, this.displayCropTools = function(e) {
        i.cropper.setAspectRatio(e)
    }, this.bindSave = function(o, n, a, s) {
        var r = t.find(".save-image").unbind("click").click(function() {
            r.attr("disabled", !0).parent(".save-controls").hide(), void 0 !== s && s.find(".containerImage").attr("src", "");
            var l = t.find(".saving").fadeIn();
            i.setPost(n, "banner" == n ? "admin" : "user", function(e) {
                l.fadeOut(), r.attr("disabled", !1).show(), null != e && void 0 != e.status && "success" == e.status ? (a(e.updatedImage, n, s), t.find(".delete").show()) : (t.find(".save-controls").fadeIn(), t.find(".alert").html("Something went wrong: " + e.longdetail)), i.cropper && i.cropper.destroy(), $(i.chooserElem).trigger("saved"), t.find("#avatarChooser").show()
            }, "banner" == n ? t.data("id") : ""), i.prepareImage(o, !("avatar" == n && "gif" == o.src.substring(11, 14)), e.width, e.height, void 0)
        })
    }, this
}

function getRateDesc(e) {
    return e < 1 ? "Bad" : e < 2 ? "Ok" : e < 3 ? "Fair" : e < 4 ? "Good" : "Great"
}

function buildRateCell(e, t) {
    return "<td class='starrating" + (t == e ? " selected" : "") + "'><div class='rateme" + (e ? " nocan" : "") + " r" + e.toString().replace(".", "") + "' data-rate='" + e + "'></div></td>"
}

function initRating(e) {
    $(e).on("mouseover", ".myListBar .starrating", function() {
        var e = $(this).find(".rateme:visible");
        if (e.length) {
            $(this).off("mouseover");
            var t = $(e).attr("name");
            t || (t = 0), $(e).parent().html("<div id='rate" + $(e).attr("id").substring(3) + "' name='" + t + "'> </div>").rating({
                increment: .5,
                curvalue: t
            })
        }
    })
}

function doRating(e) {
    if (!0 === e.handled) return !1;
    e.preventDefault(), e.stopPropagation(), $(".touchRateTable").find("td").removeClass("selected"), set_rating($(e.target).closest("td").addClass("selected").find(".rateme").data("rate"), $(e.target).parents("form")), $(".ui-dialog-titlebar-close").click(), e.handled = !0
}

function updateTableRating(e, t, i, o) {
    var n = $("table").not(".touchRateTable").find("form." + i + t).find(".starrating"),
        a = n.find(".rateme").attr("name");
    n.html(n.html().replace(new RegExp(a, "g"), o).replace("not rated", o)), o || n.contents().last().remove(), n.find(".rateme").attr("class", "rateme r" + (o ? o.toString().replace(".", "") : 0)), 0 == a && n.find(".rateme").after(" " + o)
}

function updateRec(e, t, i) {
    var o = {};
    o.totype = i.attr("totype"), o.toid = i.attr("toid"), o.fromtype = i.attr("fromtype"), o.fromid = i.attr("fromid"), o.reason = t, o.both_ways = e.find(":checkbox").is(":checked"), o.rec_location = "popup", $.post("/api/rec/add/" + TOKEN, o, function(i) {
        if (e.find(".progress-img").hide(), i.success) {
            showMessage(e, "Your recommendation was saved.", !0);
            var n = $(".expandButton[data-totype='" + o.totype + "'][data-toid='" + o.toid + "'][data-fromtype='" + o.fromtype + "'][data-fromid='" + o.fromid + "']");
            if (n.data("isown")) {
                var a = n.parent().siblings(".tableReason");
                if (a.length || (a = n.parent(".recoCta")), a.length && a.find("[data-isown]").length) {
                    var s = a.find(".tooltip").attr("title").split("</h5>");
                    a.find(".tooltip").attr("title", (s.length > 1 ? s[0] + "</h5>" : "") + t)
                }
            } else n.addClass("selected").html("Edit your rec");
            track("Users", "submit", "Save rec from popup")
        } else showMessage(e, i.errors.join("<br/>"), !1)
    }, "json")
}! function(e) {
    e.fn.extend({
        apcomplete: function(t, i, o) {
            if (!e.fn.autocomplete) return this;
            var n = this.autocomplete({
                minLength: 3,
                delay: 300,
                source: function(o, n) {
                    e.get("/autocomplete.php?type=" + t + (i ? "" : "&show_slug=false"), {
                        q: o.term
                    }, function(t, i) {
                        n(e.parseJSON(t))
                    })
                }
            }).keydown(function(t) {
                13 === t.keyCode && (e(this).siblings("button").click(), e(this).autocomplete("close"))
            }).on("autocompleteselect", function(e, t) {
                t.item.value = t.item.name
            });
            return null != n && null != n.data("ui-autocomplete") && n.each(function() {
                e(this).data("ui-autocomplete")._renderItem = function(t, n) {
                    return e("<li></li>").data("ui-autocomplete-item", n).append((!i && n.img ? (o ? "<a href='" + n.url + "'>" : "") + "<span><img src='" + n.img + "' /></span>" : "") + String(n.name).replace(new RegExp(this.term, "gi"), "<b>$&</b>") + (o ? "</a>" : "")).appendTo(t)
                }
            }), n
        }
    })
}(jQuery),
function(e) {
    e.fn.circliful = function(t, i) {
        var o = e.extend({
            foregroundColor: "#3498DB",
            backgroundColor: "#ccc",
            pointColor: "none",
            fillColor: "none",
            foregroundBorderWidth: 15,
            backgroundBorderWidth: 15,
            pointSize: 28.5,
            fontColor: "#aaa",
            percent: 75,
            animation: 1,
            animationStep: 5,
            icon: "none",
            iconSize: "30",
            iconColor: "#ccc",
            iconPosition: "top",
            target: 0,
            start: 0,
            showPercent: 1,
            percentageTextSize: 22,
            textAdditionalCss: "",
            targetPercent: 0,
            targetTextSize: 17,
            targetColor: "#2980B9",
            text: null,
            textStyle: null,
            textColor: "#666",
            multiPercentage: 0,
            percentages: null,
            textBelow: !1,
            noPercentageSign: !1,
            replacePercentageByText: null,
            halfCircle: !1,
            animateInView: !1
        }, t);
        return this.each(function() {
            function t() {
                var e = window.setInterval(function() {
                    w >= T ? (window.clearInterval(e), b = 1, "function" == typeof i && i.call(this)) : (w += y, x += k), w / 3.6 >= d && 1 == b && (w = 3.6 * d), x > o.target && 1 == b && (x = o.target), null == o.replacePercentageByText && (C = o.halfCircle ? parseInt(100 * w / 360 * 2) : parseInt(100 * w / 360)), g.attr("stroke-dasharray", w + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%")) : m.text(x)
                }.bind(g), v)
            }

            function n() {
                var t = -1 != navigator.userAgent.toLowerCase().indexOf("webkit") ? "body" : "html",
                    i = e(t).scrollTop(),
                    o = i + e(window).height(),
                    n = Math.round(g.offset().top),
                    a = n + g.height();
                return n < o && a > i
            }

            function a() {
                g.hasClass("start") || n(g) && (g.addClass("start"), setTimeout(t, 250))
            }
            var s, r, l = e(this),
                d = o.percent,
                c = 83,
                p = 100,
                h = 100,
                u = 100,
                f = o.backgroundBorderWidth;
            if (o.halfCircle ? "left" == o.iconPosition ? (p = 80, c = 100, u = 117, h = 100) : o.halfCircle && (c = 80, h = 100) : "bottom" == o.iconPosition ? (c = 124, h = 95) : "left" == o.iconPosition ? (p = 80, c = 110, u = 117) : "middle" == o.iconPosition ? 1 == o.multiPercentage ? "object" == typeof o.percentages ? f = 30 : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 228, h = 47) : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 175, h = 35) : "right" == o.iconPosition && (p = 120, c = 110, u = 80), o.targetPercent > 0 && (h = 95, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>', s += '<text text-anchor="middle" x="' + u + '" y="120" style="font-size: ' + o.targetTextSize + 'px;" fill="' + o.targetColor + '">' + o.targetPercent + (o.noPercentageSign && null == o.replacePercentageByText ? "" : "%") + "</text>", s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.backgroundColor + '" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />', s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.targetColor + '" stroke-width="3" stroke-dasharray="' + 3.6 * o.targetPercent + ', 20000" transform="rotate(-90,100,100)" />'), null != o.text && (o.halfCircle ? o.textBelow ? s += '<text text-anchor="middle" x="100" y="120" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>") : o.textBelow ? s += '<text text-anchor="middle" x="100" y="190" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>")), "none" != o.icon && (r = '<text text-anchor="middle" x="' + p + '" y="' + c + '" class="icon" style="font-size: ' + o.iconSize + 'px" fill="' + o.iconColor + '">&#x' + o.icon + "</text>"), o.halfCircle) {
                l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-180,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"))
            } else l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"));
            var g = l.find(".circle"),
                m = l.find(".timer"),
                v = 30,
                w = 0,
                y = o.animationStep,
                b = 0,
                x = 0,
                k = 0,
                C = d,
                T = 3.6 * d;
            o.halfCircle && (T = 3.6 * d / 2), null != o.replacePercentageByText && (C = o.replacePercentageByText), o.start > 0 && o.target > 0 && (d = o.start / (o.target / 100), k = o.target / 100), 1 == o.animation ? o.animateInView ? e(window).scroll(function() {
                a()
            }) : t() : (g.attr("stroke-dasharray", T + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign ? "" : "%")) : m.text(o.target))
        })
    }
}(jQuery), eval(function(e, t, i, o, n, a) {
        if (n = function(e) {
                return (e < 62 ? "" : n(parseInt(e / 62))) + ((e %= 62) > 35 ? String.fromCharCode(e + 29) : e.toString(36))
            }, !"".replace(/^/, String)) {
            for (; i--;) a[n(i)] = o[i] || n(i);
            o = [function(e) {
                return a[e]
            }], n = function() {
                return "\\w+"
            }, i = 1
        }
        for (; i--;) o[i] && (e = e.replace(new RegExp("\\b" + n(i) + "\\b", "g"), o[i]));
        return e
    }("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});", 0, 74, "||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"), 0, {})),
    function(e, t, i, o) {
        "use strict";
        var n = i(e),
            a = i(t),
            s = i.fancybox = function() {
                s.open.apply(this, arguments)
            },
            r = navigator.userAgent.match(/msie/i),
            l = null,
            d = void 0 !== t.createTouch,
            c = function(e) {
                return e && e.hasOwnProperty && e instanceof i
            },
            p = function(e) {
                return e && "string" === i.type(e)
            },
            h = function(e) {
                return p(e) && e.indexOf("%") > 0
            },
            u = function(e) {
                return e && !(e.style.overflow && "hidden" === e.style.overflow) && (e.clientWidth && e.scrollWidth > e.clientWidth || e.clientHeight && e.scrollHeight > e.clientHeight)
            },
            f = function(e, t) {
                var i = parseInt(e, 10) || 0;
                return t && h(e) && (i = s.getViewport()[t] / 100 * i), Math.ceil(i)
            },
            g = function(e, t) {
                return f(e, t) + "px"
            };
        i.extend(s, {
            version: "2.1.4",
            defaults: {
                padding: 15,
                margin: 20,
                width: 800,
                height: 600,
                minWidth: 100,
                minHeight: 100,
                maxWidth: 9999,
                maxHeight: 9999,
                autoSize: !0,
                autoHeight: !1,
                autoWidth: !1,
                autoResize: !0,
                autoCenter: !d,
                fitToView: !0,
                aspectRatio: !1,
                topRatio: .5,
                leftRatio: .5,
                scrolling: "yes",
                arrows: !0,
                closeBtn: !0,
                closeClick: !1,
                nextClick: !1,
                mouseWheel: !0,
                preload: 3,
                loop: !0,
                ajax: {
                    dataType: "html",
                    headers: {
                        "X-fancyBox": !0
                    }
                },
                keys: {
                    next: {
                        13: "left",
                        34: "up",
                        39: "left",
                        40: "up"
                    },
                    prev: {
                        8: "right",
                        33: "down",
                        37: "right",
                        38: "down"
                    },
                    close: [27],
                    toggle: [70]
                },
                direction: {
                    next: "left",
                    prev: "right"
                },
                scrollOutside: !0,
                index: 0,
                type: "image",
                href: null,
                content: null,
                title: null,
                tpl: {
                    wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                    image: '<img class="fancybox-image" src="{href}" alt="{alt}" />',
                    error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                    closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                    next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                    prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
                },
                openEffect: "elastic",
                openSpeed: 250,
                openEasing: "swing",
                openMethod: "zoomIn",
                closeSpeed: 250,
                closeEasing: "swing",
                closeOpacity: !0,
                closeMethod: "zoomOut",
                nextMethod: "changeIn",
                prevEffect: "none",
                prevSpeed: 250,
                prevEasing: "swing",
                prevMethod: "changeOut",
                helpers: {
                    overlay: !0,
                    title: !0
                },
                onCancel: i.noop,
                beforeLoad: i.noop,
                afterLoad: i.noop,
                beforeShow: i.noop,
                afterShow: i.noop,
                beforeChange: i.noop,
                beforeClose: i.noop,
                afterClose: i.noop
            },
            group: {},
            opts: {},
            previous: null,
            coming: null,
            current: null,
            isActive: !1,
            isOpen: !1,
            isOpened: !1,
            wrap: null,
            skin: null,
            outer: null,
            inner: null,
            imgPreload: null,
            transitions: {},
            helpers: {},
            open: function(e, t) {
                if (e && (i.isPlainObject(t) || (t = {}), !1 !== s.close(!0))) return i.isArray(e) || (e = c(e) ? i(e).get() : [e]), i.each(e, function(o, n) {
                    var a, s, r, l, d = {};
                    "object" === i.type(n) && (n.nodeType && (n = i(n)), d = c(n) ? {
                        href: n.data("fancybox-href") || n.attr("href"),
                        title: n.data("fancybox-title") || n.attr("title"),
                        isDom: !0,
                        element: n
                    } : n), a = t.href || d.href || (p(n) ? n : null), s = void 0 !== t.title ? t.title : d.title || "", r = t.content || d.content, l = r ? "html" : t.type || d.type, r || ("inline" === l ? a ? r = i(p(a) ? a.replace(/.*(?=#[^\s]+$)/, "") : a) : d.isDom && (r = n) : "html" === l ? r = a : l || a || !d.isDom || (l = "inline", r = n)), i.extend(d, {
                        href: a,
                        type: l,
                        content: r,
                        title: s,
                        selector: void 0
                    }), e[o] = d
                }), s.opts = i.extend(!0, {}, s.defaults, t), void 0 !== t.keys && (s.opts.keys = !!t.keys && i.extend({}, s.defaults.keys, t.keys)), s.group = e, s._start(s.opts.index)
            },
            cancel: function() {
                var e = s.coming;
                e && !1 !== s.trigger("onCancel") && (s.hideLoading(), s.imgPreload && (s.imgPreload.onload = s.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), s.coming = null, s.current || s._afterZoomOut(e))
            },
            close: function(e) {
                s.cancel(), !1 !== s.trigger("beforeClose") && (s.unbindEvents(), s.isActive && (s.isOpen && !0 !== e ? (s.isOpen = s.isOpened = !1, s.isClosing = !0, i(".fancybox-item, .fancybox-nav").remove(), s.wrap.stop(!0, !0).removeClass("fancybox-opened"), s.transitions[s.current.closeMethod]()) : (i(".fancybox-wrap").stop(!0).trigger("onReset").remove(), s._afterZoomOut())))
            },
            next: function(e) {
                var t = s.current;
                t && (p(e) || (e = t.direction.next), s.jumpto(t.index + 1, e, "next"))
            },
            prev: function(e) {
                var t = s.current;
                t && (p(e) || (e = t.direction.prev), s.jumpto(t.index - 1, e, "prev"))
            },
            jumpto: function(e, t, i) {
                var o = s.current;
                o && (e = f(e), s.direction = t || o.direction[e >= o.index ? "next" : "prev"], s.router = i || "jumpto", o.loop && (e < 0 && (e = o.group.length + e % o.group.length), e %= o.group.length), void 0 !== o.group[e] && (s.cancel(), s._start(e)))
            },
            reposition: function(e, t) {
                var o, n = s.current,
                    a = n ? n.wrap : null;
                a && (o = s._getPosition(t), e && "scroll" === e.type ? (delete o.position, a.stop(!0, !0).animate(o, 200)) : (a.css(o), n.pos = i.extend({}, n.dim, o)))
            },
            update: function(e) {
                var t = e && e.type,
                    i = !t || "orientationchange" === t;
                i && (clearTimeout(l), l = null), s.isOpen && !l && (l = setTimeout(function() {
                    var o = s.current;
                    o && !s.isClosing && (s.wrap.removeClass("fancybox-tmp"), (i || "load" === t || "resize" === t && o.autoResize) && s._setDimension(), "scroll" === t && o.canShrink || s.reposition(e), s.trigger("onUpdate"), l = null)
                }, i && !d ? 0 : 300))
            },
            toggle: function(e) {
                s.isOpen && (s.current.fitToView = "boolean" === i.type(e) ? e : !s.current.fitToView, d && (s.wrap.removeAttr("style").addClass("fancybox-tmp"), s.trigger("onUpdate")), s.update())
            },
            hideLoading: function() {
                a.unbind(".loading"), i("#fancybox-loading").remove()
            },
            showLoading: function() {
                s.hideLoading(), i('<div id="fancybox-loading"><div></div></div>').appendTo("body"), a.bind("keydown.loading", function(e) {
                    27 === (e.which || e.keyCode) && (e.preventDefault(), s.cancel())
                })
            },
            getViewport: function() {
                var t = s.current && s.current.locked || !1,
                    i = {
                        x: n.scrollLeft(),
                        y: n.scrollTop()
                    };
                return t ? (i.w = t[0].clientWidth, i.h = t[0].clientHeight) : (i.w = d && e.innerWidth ? e.innerWidth : n.width(), i.h = d && e.innerHeight ? e.innerHeight : n.height()), i
            },
            unbindEvents: function() {
                s.wrap && c(s.wrap) && s.wrap.unbind(".fb"), a.unbind(".fb"), n.unbind(".fb")
            },
            bindEvents: function() {
                var e, t = s.current;
                t && (n.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), s.update), e = t.keys, e && a.bind("keydown.fb", function(o) {
                    var n = o.which || o.keyCode,
                        a = o.target || o.srcElement;
                    if (27 === n && s.coming) return !1;
                    o.ctrlKey || o.altKey || o.shiftKey || o.metaKey || a && (a.type || i(a).is("[contenteditable]")) || i.each(e, function(e, a) {
                        return t.group.length > 1 && void 0 !== a[n] ? (s[e](a[n]), o.preventDefault(), !1) : i.inArray(n, a) > -1 ? (s[e](), o.preventDefault(), !1) : void 0
                    })
                }), i.fn.mousewheel && t.mouseWheel && s.wrap.bind("mousewheel.fb", function(e, o, n, a) {
                    for (var r = e.target || null, l = i(r), d = !1; l.length && !(d || l.is(".fancybox-skin") || l.is(".fancybox-wrap"));) d = u(l[0]), l = i(l).parent();
                    0 === o || d || s.group.length > 1 && !t.canShrink && (a > 0 || n > 0 ? s.prev(a > 0 ? "down" : "left") : (a < 0 || n < 0) && s.next(a < 0 ? "up" : "right"), e.preventDefault())
                }))
            },
            trigger: function(e, t) {
                var o = t || s.coming || s.current;
                if (o) {
                    if (i.isFunction(o[e]) && !1 === o[e].apply(o, Array.prototype.slice.call(arguments, 1))) return !1;
                    o.helpers && i.each(o.helpers, function(t, n) {
                        n && s.helpers[t] && i.isFunction(s.helpers[t][e]) && (n = i.extend(!0, {}, s.helpers[t].defaults, n), s.helpers[t][e](n, o))
                    }), a.trigger(e)
                }
            },
            isImage: function(e) {
                return p(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)
            },
            _start: function(e) {
                var t, o, n, a, r = {};
                return e = f(e), !!(t = s.group[e] || null) && (r = i.extend(!0, {}, s.opts, t), n = r.margin, a = r.padding, r.margin = [n, n, n, n], r.padding = [a, a, a, a], r.autoSize && (r.autoWidth = r.autoHeight = !0), "auto" === r.width && (r.autoWidth = !0), "auto" === r.height && (r.autoHeight = !0), r.group = s.group, r.index = e, s.coming = r, !1 === s.trigger("beforeLoad") ? void(s.coming = null) : (o = r.type, r.href, o ? (s.isActive = !0, r.autoHeight = r.autoWidth = !1, r.scrolling = "visible", r.aspectRatio = !0, r.wrap = i(r.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + o + " fancybox-tmp ").appendTo(r.parent || "body"), i.extend(r, {
                    skin: i(".fancybox-skin", r.wrap),
                    outer: i(".fancybox-outer", r.wrap),
                    inner: i(".fancybox-inner", r.wrap)
                }), i.each(["Top", "Right", "Bottom", "Left"], function(e, t) {
                    r.skin.css("padding" + t, g(r.padding[e]))
                }), s.trigger("onReady"), void s._loadImage()) : (s.coming = null, !(!s.current || !s.router || "jumpto" === s.router) && (s.current.index = e, s[s.router](s.direction)))))
            },
            _error: function(e) {
                i.extend(s.coming, {
                    type: "html",
                    autoWidth: !0,
                    autoHeight: !0,
                    minWidth: 0,
                    minHeight: 0,
                    scrolling: "no",
                    hasError: e,
                    content: s.coming.tpl.error
                }), s._afterLoad()
            },
            _loadImage: function() {
                var e = s.imgPreload = new Image;
                e.onload = function() {
                    this.onload = this.onerror = null, s.coming.width = this.width, s.coming.height = this.height, s._afterLoad()
                }, e.onerror = function() {
                    this.onload = this.onerror = null, s._error("image")
                }, e.src = s.coming.href, !0 !== e.complete && s.showLoading()
            },
            _preloadImages: function() {
                var e, t, i = s.group,
                    o = s.current,
                    n = i.length,
                    a = o.preload ? Math.min(o.preload, n - 1) : 0;
                for (t = 1; t <= a; t += 1) e = i[(o.index + t) % n], e.href && ((new Image).src = e.href)
            },
            _afterLoad: function() {
                var e, t, o, n, a = s.coming,
                    r = s.current;
                if (s.hideLoading(), a && !1 !== s.isActive) {
                    if (!1 === s.trigger("afterLoad", a, r)) return a.wrap.stop(!0).trigger("onReset").remove(), void(s.coming = null);
                    r && (s.trigger("beforeChange", r), r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), s.unbindEvents(), e = a, t = a.content, a.type, o = a.scrolling, i.extend(s, {
                        wrap: e.wrap,
                        skin: e.skin,
                        outer: e.outer,
                        inner: e.inner,
                        current: e,
                        previous: r
                    }), n = e.href, t = e.tpl.image.replace("{href}", n).replace("{alt}", e.alt), c(t) && t.parent().is(e.inner) || e.inner.append(t), s.trigger("beforeShow"), e.inner.css("overflow", "yes" === o ? "scroll" : "no" === o ? "hidden" : o), s._setDimension(), s.reposition(), s.isOpen = !1, s.coming = null, s.bindEvents(), s.isOpened ? r.prevMethod && s.transitions[r.prevMethod]() : i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(), s.transitions[s.isOpened ? e.nextMethod : e.openMethod](), s._preloadImages()
                }
            },
            _setDimension: function() {
                var e, t, o, n, a, r, l, d, c, p, u, m, v, w = s.getViewport(),
                    y = 0,
                    b = !1,
                    x = !1,
                    k = s.wrap,
                    C = s.skin,
                    T = s.inner,
                    S = s.current,
                    $ = S.width,
                    M = S.height,
                    E = S.minWidth,
                    A = S.minHeight,
                    P = S.maxWidth,
                    O = S.maxHeight,
                    H = S.scrolling,
                    I = S.scrollOutside ? S.scrollbarWidth : 0,
                    D = S.margin,
                    B = f(D[1] + D[3]),
                    L = f(D[0] + D[2]);
                if (k.add(C).add(T).width("auto").height("auto").removeClass("fancybox-tmp"), e = f(C.outerWidth(!0) - C.width()), t = f(C.outerHeight(!0) - C.height()), o = B + e, n = L + t, a = h($) ? (w.w - o) * f($) / 100 : $, r = h(M) ? (w.h - n) * f(M) / 100 : M, (S.autoWidth || S.autoHeight) && (T.addClass("fancybox-tmp"), S.autoWidth || T.width(a), S.autoHeight || T.height(r), S.autoWidth && (a = T.width()), S.autoHeight && (r = T.height()), T.removeClass("fancybox-tmp")), $ = f(a), M = f(r), c = a / r, E = f(h(E) ? f(E, "w") - o : E), P = f(h(P) ? f(P, "w") - o : P), A = f(h(A) ? f(A, "h") - n : A), O = f(h(O) ? f(O, "h") - n : O), l = P, d = O, S.fitToView && (P = Math.min(w.w - o, P), O = Math.min(w.h - n, O)), m = w.w - B, v = w.h - L, S.aspectRatio ? ($ > P && ($ = P, M = f($ / c)), M > O && (M = O, $ = f(M * c)), $ < E && ($ = E, M = f($ / c)), M < A && (M = A, $ = f(M * c))) : ($ = Math.max(E, Math.min($, P)), S.autoHeight && "iframe" !== S.type && (T.width($), M = T.height()), M = Math.max(A, Math.min(M, O))), S.fitToView)
                    if (T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), S.aspectRatio)
                        for (;
                            (p > m || u > v) && $ > E && M > A && !(y++ > 19);) M = Math.max(A, Math.min(O, M - 10)), $ = f(M * c), $ < E && ($ = E, M = f($ / c)), $ > P && ($ = P, M = f($ / c)), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height();
                    else $ = Math.max(E, Math.min($, $ - (p - m))), M = Math.max(A, Math.min(M, M - (u - v)));
                I && "auto" === H && M < r && $ + e + I < m && ($ += I), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), b = (p > m || u > v) && $ > E && M > A, x = S.aspectRatio ? $ < l && M < d && $ < a && M < r : ($ < l || M < d) && ($ < a || M < r), i.extend(S, {
                    dim: {
                        width: g(p),
                        height: g(u)
                    },
                    origWidth: a,
                    origHeight: r,
                    canShrink: b,
                    canExpand: x,
                    wPadding: e,
                    hPadding: t,
                    wrapSpace: u - C.outerHeight(!0),
                    skinSpace: C.height() - M
                }), S.autoHeight && M > A && M < O && !x && T.height("auto")
            },
            _getPosition: function(e) {
                var t = s.current,
                    i = s.getViewport(),
                    o = t.margin,
                    n = s.wrap.width() + o[1] + o[3],
                    a = s.wrap.height() + o[0] + o[2],
                    r = {
                        position: "absolute",
                        top: o[0],
                        left: o[3]
                    };
                return t.autoCenter && t.fixed && !e && a <= i.h && n <= i.w ? r.position = "fixed" : t.locked || (r.top += i.y, r.left += i.x), r.top = g(Math.max(r.top, r.top + (i.h - a) * t.topRatio)), r.left = g(Math.max(r.left, r.left + (i.w - n) * t.leftRatio)), r
            },
            _afterZoomIn: function() {
                var e = s.current;
                e && (s.isOpen = s.isOpened = !0, s.wrap.css("overflow", "visible").addClass("fancybox-opened"), s.update(), (e.closeClick || e.nextClick && s.group.length > 1) && s.inner.css("cursor", "pointer").bind("click.fb", function(t) {
                    i(t.target).is("a") || i(t.target).parent().is("a") || (t.preventDefault(), s[e.closeClick ? "close" : "next"]())
                }), e.closeBtn && i(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb", function(e) {
                    e.preventDefault(), s.close()
                }), e.arrows && s.group.length > 1 && ((e.loop || e.index > 0) && i(e.tpl.prev).appendTo(s.outer).bind("click.fb", s.prev), (e.loop || e.index < s.group.length - 1) && i(e.tpl.next).appendTo(s.outer).bind("click.fb", s.next)), s.trigger("afterShow"))
            },
            _afterZoomOut: function(e) {
                e = e || s.current, i(".fancybox-wrap").trigger("onReset").remove(), i.extend(s, {
                    group: {},
                    opts: {},
                    router: !1,
                    current: null,
                    isActive: !1,
                    isOpened: !1,
                    isOpen: !1,
                    isClosing: !1,
                    wrap: null,
                    skin: null,
                    outer: null,
                    inner: null
                }), s.trigger("afterClose", e)
            }
        }), s.transitions = {
            getOrigPosition: function() {
                var e = s.current,
                    t = e.element,
                    i = e.orig,
                    o = {},
                    n = 50,
                    a = 50,
                    r = e.hPadding,
                    l = e.wPadding,
                    d = s.getViewport();
                return !i && e.isDom && t.is(":visible") && (i = t.find("img:first"), i.length || (i = t)), c(i) ? (o = i.offset(), i.is("img") && (n = i.outerWidth(), a = i.outerHeight())) : (o.top = d.y + (d.h - a) * e.topRatio, o.left = d.x + (d.w - n) * e.leftRatio), ("fixed" === s.wrap.css("position") || e.locked) && (o.top -= d.y, o.left -= d.x), o = {
                    top: g(o.top - r * e.topRatio),
                    left: g(o.left - l * e.leftRatio),
                    width: g(n + l),
                    height: g(a + r)
                }
            },
            step: function(e, t) {
                var i, o, n, a = t.prop,
                    r = s.current,
                    l = r.wrapSpace,
                    d = r.skinSpace;
                "width" !== a && "height" !== a || (i = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), s.isClosing && (i = 1 - i), o = "width" === a ? r.wPadding : r.hPadding, n = e - o, s.skin[a](f("width" === a ? n : n - l * i)), s.inner[a](f("width" === a ? n : n - l * i - d * i)))
            },
            zoomIn: function() {
                var e = s.current,
                    t = e.pos,
                    o = i.extend({
                        opacity: 1
                    }, t);
                delete o.position, t = this.getOrigPosition(), t.opacity = .1, s.wrap.css(t).animate(o, {
                    duration: e.openSpeed,
                    easing: e.openEasing,
                    step: this.step,
                    complete: s._afterZoomIn
                })
            },
            zoomOut: function() {
                var e = s.current,
                    t = this.getOrigPosition();
                t.opacity = .1, s.wrap.animate(t, {
                    duration: e.closeSpeed,
                    easing: e.closeEasing,
                    step: this.step,
                    complete: s._afterZoomOut
                })
            },
            changeIn: function() {
                s.current.pos.opacity = .1, s._afterZoomIn()
            },
            changeOut: function() {
                var e = s.previous,
                    t = {
                        opacity: .1
                    };
                e.wrap.animate(t, {
                    duration: 0,
                    easing: e.prevEasing,
                    complete: function() {
                        i(this).trigger("onReset").remove()
                    }
                })
            }
        }, s.helpers.overlay = {
            defaults: {
                closeClick: !0,
                speedOut: 200,
                showEarly: !0,
                css: {},
                locked: !1,
                fixed: !0
            },
            overlay: null,
            fixed: !0,
            create: function(e) {
                e = i.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = i('<div class="fancybox-overlay fancybox-overlay-fixed"></div>').appendTo("body")
            },
            open: function(e) {
                var t = this;
                e = i.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.overlay.bind("click.overlay", function(e) {
                    i(e.target).hasClass("fancybox-overlay") && (s.isActive ? s.close() : t.close())
                }), this.overlay.css(e.css).show()
            },
            close: function() {
                i(".fancybox-overlay").remove(), n.unbind("resize.overlay"), this.overlay = null, !1 !== this.margin && (i("body").css("margin-right", this.margin), this.margin = !1), this.el && this.el.removeClass("fancybox-lock")
            },
            update: function() {
                var e, i = "100%";
                this.overlay.width(i).height("100%"), r ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), a.width() > e && (i = a.width())) : a.width() > n.width() && (i = a.width()), this.overlay.width(i).height(a.height())
            },
            onReady: function(e, o) {
                i(".fancybox-overlay").stop(!0, !0), this.overlay || (this.margin = (a.height() > n.height() || "scroll" === i("body").css("overflow-y")) && i("body").css("margin-right"), this.el = i(t.all && !t.querySelector ? "html" : "body"), this.create(e)), e.locked && this.fixed && (o.locked = this.overlay.append(o.wrap), o.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments)
            },
            beforeShow: function(e, t) {
                this.open(e)
            },
            onUpdate: function() {},
            afterClose: function(e) {
                this.overlay && !s.isActive && this.overlay.fadeOut(e.speedOut, i.proxy(this.close, this))
            }
        }, s.helpers.title = {
            defaults: {
                type: "float",
                position: "bottom"
            },
            beforeShow: function(e) {
                var t, o = s.current,
                    n = o.title,
                    a = e.type,
                    r = s.inner;
                i.isFunction(n) && (n = n.call(o.element, o)), p(n) && "" !== i.trim(n) && (t = i('<div class="fancybox-title fancybox-title-' + a + '-wrap">' + n + "</div>"), t["top" === e.position ? "prependTo" : "appendTo"](r))
            }
        }, i.fn.fancybox = function(e) {
            var t, o = i(this),
                n = this.selector || "",
                r = function(a) {
                    var r, l, d = i(this).blur(),
                        c = t;
                    a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || d.is(".fancybox-wrap") || (r = e.groupAttr || "data-fancybox-group", l = d.attr(r), l || (r = "rel", l = d.get(0)[r]), l && "" !== l && "nofollow" !== l && (d = n.length ? i(n) : o, d = d.filter("[" + r + '="' + l + '"]'), c = d.index(this)), e.index = c, !1 !== s.open(d, e) && a.preventDefault())
                };
            return e = e || {}, t = e.index || 0, n && !1 !== e.live ? a.undelegate(n, "click.fb-start").delegate(n + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", r) : o.unbind("click.fb-start").bind("click.fb-start", r), this.filter("[data-fancybox-start=1]").trigger("click"), this
        }, a.ready(function() {
            void 0 === i.scrollbarWidth && (i.scrollbarWidth = function() {
                var e = i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
                    t = e.children(),
                    o = t.innerWidth() - t.height(99).innerWidth();
                return e.remove(), o
            }), void 0 === i.support.fixedPosition && (i.support.fixedPosition = function() {
                var e = i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
                    t = 20 === e[0].offsetTop || 15 === e[0].offsetTop;
                return e.remove(), t
            }()), i.extend(s.defaults, {
                scrollbarWidth: i.scrollbarWidth(),
                fixed: i.support.fixedPosition,
                parent: i("body")
            })
        })
    }(window, document, jQuery),
    function(e) {
        function t(t) {
            var i = t || window.event,
                o = [].slice.call(arguments, 1),
                n = 0,
                a = 0,
                s = 0,
                t = e.event.fix(i);
            return t.type = "mousewheel", i.wheelDelta && (n = i.wheelDelta / 120), i.detail && (n = -i.detail / 3), s = n, void 0 !== i.axis && i.axis === i.HORIZONTAL_AXIS && (s = 0, a = -1 * n), void 0 !== i.wheelDeltaY && (s = i.wheelDeltaY / 120), void 0 !== i.wheelDeltaX && (a = -1 * i.wheelDeltaX / 120), o.unshift(t, n, a, s), (e.event.dispatch || e.event.handle).apply(this, o)
        }
        var i = ["DOMMouseScroll", "mousewheel"];
        if (e.event.fixHooks)
            for (var o = i.length; o;) e.event.fixHooks[i[--o]] = e.event.mouseHooks;
        e.event.special.mousewheel = {
            setup: function() {
                if (this.addEventListener)
                    for (var e = i.length; e;) this.addEventListener(i[--e], t, !1);
                else this.onmousewheel = t
            },
            teardown: function() {
                if (this.removeEventListener)
                    for (var e = i.length; e;) this.removeEventListener(i[--e], t, !1);
                else this.onmousewheel = null
            }
        }, e.fn.extend({
            mousewheel: function(e) {
                return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
            },
            unmousewheel: function(e) {
                return this.unbind("mousewheel", e)
            }
        })
    }(jQuery), new function(e) {
        var t = e.separator || "&",
            i = !!e.spaces,
            o = !1 !== e.prefix,
            n = o ? !0 === e.hash ? "#" : "?" : "",
            a = !1 !== e.numbers;
        $.query = new function() {
            var e = function(e, t) {
                    return void 0 != e && (!t || e.constructor == t)
                },
                o = function(e) {
                    for (var t, i = /\[([^[]*)\]/g, o = /^([^[]+)(\[.*\])?$/.exec(e), n = o[1], a = []; t = i.exec(o[2]);) a.push(t[1]);
                    return [n, a]
                },
                s = function(t, i, o) {
                    var n = i.shift();
                    if ("object" != typeof t && (t = null), "" === n)
                        if (t || (t = []), e(t, Array)) t.push(0 == i.length ? o : s(null, i.slice(0), o));
                        else if (e(t, Object)) {
                        for (var a = 0; null != t[a++];);
                        t[--a] = 0 == i.length ? o : s(t[a], i.slice(0), o)
                    } else t = [], t.push(0 == i.length ? o : s(null, i.slice(0), o));
                    else if (n && n.match(/^\s*[0-9]+\s*$/)) {
                        var r = parseInt(n, 10);
                        t || (t = []), t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                    } else {
                        if (!n) return o;
                        var r = n.replace(/^\s*|\s*$/g, "");
                        if (t || (t = {}), e(t, Array)) {
                            for (var l = {}, a = 0; a < t.length; ++a) l[a] = t[a];
                            t = l
                        }
                        t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                    }
                    return t
                },
                r = function(e) {
                    var t = this;
                    return t.keys = {}, e.queryObject ? $.each(e.get(), function(e, i) {
                        t.SET(e, i)
                    }) : $.each(arguments, function() {
                        var e = "" + this;
                        e = e.replace(/^[?#]/, ""), e = e.replace(/[;&]$/, ""), i && (e = e.replace(/[+]/g, " ")), $.each(e.split(/[&;]/), function() {
                            var e = decodeURIComponent(this.split("=")[0] || ""),
                                i = decodeURIComponent(this.split("=")[1] || "");
                            e && (a && (/^[+-]?[0-9]+\.[0-9]*$/.test(i) ? i = parseFloat(i) : /^[+-]?[0-9]+$/.test(i) && (i = parseInt(i, 10))), i = !i && 0 !== i || i, t.SET(e, i))
                        })
                    }), t
                };
            return r.prototype = {
                queryObject: !0,
                has: function(t, i) {
                    return e(this.get(t), i)
                },
                GET: function(t) {
                    if (!e(t)) return this.keys;
                    for (var i = o(t), n = i[0], a = i[1], s = this.keys[n]; null != s && 0 != a.length;) s = s[a.shift()];
                    return "number" == typeof s ? s : s || ""
                },
                get: function(t) {
                    var i = this.GET(t);
                    return e(i, Object) ? $.extend(!0, {}, i) : e(i, Array) ? i.slice(0) : i
                },
                SET: function(t, i, n) {
                    if (i && n != i) {
                        var a = o(t),
                            r = a[0];
                        this.keys[r] = s(this.keys[r], a[1].slice(0), e(i) ? i : null)
                    }
                    return this
                },
                EMPTY: function() {
                    var e = this;
                    return $.each(e.keys, function(t) {
                        delete e.keys[t]
                    }), e
                },
                copy: function() {
                    return new r(this)
                },
                toString: function() {
                    var o = [],
                        a = [],
                        s = function(e) {
                            return e += "", i && (e = e.replace(/ /g, "+")), encodeURIComponent(e).replace(/%2C/g, ",").replace(/%21/g, "!").replace(/%27/g, "'").replace(/%28/g, "(").replace(/%29/g, ")").replace(/%2A/g, "*")
                        },
                        r = function(t, i, o) {
                            if (e(o) && !1 !== o) {
                                var n = [s(i)];
                                !0 !== o && (n.push("="), n.push(s(o))), t.push(n.join(""))
                            }
                        },
                        l = function(e, t) {
                            var i = function(e) {
                                return t && "" != t ? [t, "[", e, "]"].join("") : [e].join("")
                            };
                            $.each(e, function(e, t) {
                                "object" == typeof t ? l(t, i(e)) : r(a, i(e), t)
                            })
                        };
                    return l(this.keys), a.length > 0 && o.push(n), o.push(a.join(t)), o.join("")
                }
            }, new r(location.search, location.hash)
        }
    }(jQuery.query || {}),
    function(e) {
        "use strict";
        "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
    }(function(e) {
        "use strict";
        var t = window.Slick || {};
        t = function() {
            function t(t, o) {
                var n, a = this;
                a.defaults = {
                    accessibility: !0,
                    adaptiveHeight: !1,
                    appendArrows: e(t),
                    appendDots: e(t),
                    arrows: !0,
                    asNavFor: null,
                    prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                    nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                    autoplay: !1,
                    autoplaySpeed: 3e3,
                    centerMode: !1,
                    centerPadding: "50px",
                    cssEase: "ease",
                    customPaging: function(t, i) {
                        return e('<button type="button" />').text(i + 1)
                    },
                    dots: !1,
                    dotsClass: "slick-dots",
                    draggable: !0,
                    easing: "linear",
                    edgeFriction: .35,
                    fade: !1,
                    focusOnSelect: !1,
                    focusOnChange: !1,
                    infinite: !0,
                    initialSlide: 0,
                    lazyLoad: "ondemand",
                    mobileFirst: !1,
                    pauseOnHover: !0,
                    pauseOnFocus: !0,
                    pauseOnDotsHover: !1,
                    respondTo: "window",
                    responsive: null,
                    rows: 1,
                    rtl: !1,
                    slide: "",
                    slidesPerRow: 1,
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    speed: 500,
                    swipe: !0,
                    swipeToSlide: !1,
                    touchMove: !0,
                    touchThreshold: 5,
                    useCSS: !0,
                    useTransform: !0,
                    variableWidth: !1,
                    vertical: !1,
                    verticalSwiping: !1,
                    waitForAnimate: !0,
                    zIndex: 1e3
                }, a.initials = {
                    animating: !1,
                    dragging: !1,
                    autoPlayTimer: null,
                    currentDirection: 0,
                    currentLeft: null,
                    currentSlide: 0,
                    direction: 1,
                    $dots: null,
                    listWidth: null,
                    listHeight: null,
                    loadIndex: 0,
                    $nextArrow: null,
                    $prevArrow: null,
                    scrolling: !1,
                    slideCount: null,
                    slideWidth: null,
                    $slideTrack: null,
                    $slides: null,
                    sliding: !1,
                    slideOffset: 0,
                    swipeLeft: null,
                    swiping: !1,
                    $list: null,
                    touchObject: {},
                    transformsEnabled: !1,
                    unslicked: !1
                }, e.extend(a, a.initials), a.activeBreakpoint = null, a.animType = null, a.animProp = null, a.breakpoints = [], a.breakpointSettings = [], a.cssTransitions = !1, a.focussed = !1, a.interrupted = !1, a.hidden = "hidden", a.paused = !0, a.positionProp = null, a.respondTo = null, a.rowCount = 1, a.shouldClick = !0, a.$slider = e(t), a.$slidesCache = null, a.transformType = null, a.transitionType = null, a.visibilityChange = "visibilitychange", a.windowWidth = 0, a.windowTimer = null, n = e(t).data("slick") || {}, a.options = e.extend({}, a.defaults, o, n), a.currentSlide = a.options.initialSlide, a.originalSettings = a.options, void 0 !== document.mozHidden ? (a.hidden = "mozHidden", a.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (a.hidden = "webkitHidden", a.visibilityChange = "webkitvisibilitychange"), a.autoPlay = e.proxy(a.autoPlay, a), a.autoPlayClear = e.proxy(a.autoPlayClear, a), a.autoPlayIterator = e.proxy(a.autoPlayIterator, a), a.changeSlide = e.proxy(a.changeSlide, a), a.clickHandler = e.proxy(a.clickHandler, a), a.selectHandler = e.proxy(a.selectHandler, a), a.setPosition = e.proxy(a.setPosition, a), a.swipeHandler = e.proxy(a.swipeHandler, a), a.dragHandler = e.proxy(a.dragHandler, a), a.keyHandler = e.proxy(a.keyHandler, a), a.instanceUid = i++, a.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, a.registerBreakpoints(), a.init(!0)
            }
            var i = 0;
            return t
        }(), t.prototype.activateADA = function() {
            this.$slideTrack.find(".slick-active").attr({
                "aria-hidden": "false"
            }).find("a, input, button, select").attr({
                tabindex: "0"
            })
        }, t.prototype.addSlide = t.prototype.slickAdd = function(t, i, o) {
            var n = this;
            if ("boolean" == typeof i) o = i, i = null;
            else if (i < 0 || i >= n.slideCount) return !1;
            n.unload(), "number" == typeof i ? 0 === i && 0 === n.$slides.length ? e(t).appendTo(n.$slideTrack) : o ? e(t).insertBefore(n.$slides.eq(i)) : e(t).insertAfter(n.$slides.eq(i)) : !0 === o ? e(t).prependTo(n.$slideTrack) : e(t).appendTo(n.$slideTrack), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slides.each(function(t, i) {
                e(i).attr("data-slick-index", t)
            }), n.$slidesCache = n.$slides, n.reinit()
        }, t.prototype.animateHeight = function() {
            var e = this;
            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                e.$list.animate({
                    height: t
                }, e.options.speed)
            }
        }, t.prototype.animateSlide = function(t, i) {
            var o = {},
                n = this;
            n.animateHeight(), !0 === n.options.rtl && !1 === n.options.vertical && (t = -t), !1 === n.transformsEnabled ? !1 === n.options.vertical ? n.$slideTrack.animate({
                left: t
            }, n.options.speed, n.options.easing, i) : n.$slideTrack.animate({
                top: t
            }, n.options.speed, n.options.easing, i) : !1 === n.cssTransitions ? (!0 === n.options.rtl && (n.currentLeft = -n.currentLeft), e({
                animStart: n.currentLeft
            }).animate({
                animStart: t
            }, {
                duration: n.options.speed,
                easing: n.options.easing,
                step: function(e) {
                    e = Math.ceil(e), !1 === n.options.vertical ? (o[n.animType] = "translate(" + e + "px, 0px)", n.$slideTrack.css(o)) : (o[n.animType] = "translate(0px," + e + "px)", n.$slideTrack.css(o))
                },
                complete: function() {
                    i && i.call()
                }
            })) : (n.applyTransition(), t = Math.ceil(t), !1 === n.options.vertical ? o[n.animType] = "translate3d(" + t + "px, 0px, 0px)" : o[n.animType] = "translate3d(0px," + t + "px, 0px)", n.$slideTrack.css(o), i && setTimeout(function() {
                n.disableTransition(), i.call()
            }, n.options.speed))
        }, t.prototype.getNavTarget = function() {
            var t = this,
                i = t.options.asNavFor;
            return i && null !== i && (i = e(i).not(t.$slider)), i
        }, t.prototype.asNavFor = function(t) {
            var i = this,
                o = i.getNavTarget();
            null !== o && "object" == typeof o && o.each(function() {
                var i = e(this).slick("getSlick");
                i.unslicked || i.slideHandler(t, !0)
            })
        }, t.prototype.applyTransition = function(e) {
            var t = this,
                i = {};
            !1 === t.options.fade ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
        }, t.prototype.autoPlay = function() {
            var e = this;
            e.autoPlayClear(), e.slideCount > e.options.slidesToShow && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed))
        }, t.prototype.autoPlayClear = function() {
            var e = this;
            e.autoPlayTimer && clearInterval(e.autoPlayTimer)
        }, t.prototype.autoPlayIterator = function() {
            var e = this,
                t = e.currentSlide + e.options.slidesToScroll;
            e.paused || e.interrupted || e.focussed || (!1 === e.options.infinite && (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1 ? e.direction = 0 : 0 === e.direction && (t = e.currentSlide - e.options.slidesToScroll, e.currentSlide - 1 == 0 && (e.direction = 1))), e.slideHandler(t))
        }, t.prototype.buildArrows = function() {
            var t = this;
            !0 === t.options.arrows && (t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow"), t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow"), t.slideCount > t.options.slidesToShow ? (t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.prependTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), !0 !== t.options.infinite && t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({
                "aria-disabled": "true",
                tabindex: "-1"
            }))
        }, t.prototype.buildDots = function() {
            var t, i, o = this;
            if (!0 === o.options.dots && o.slideCount > o.options.slidesToShow) {
                for (o.$slider.addClass("slick-dotted"), i = e("<ul />").addClass(o.options.dotsClass), t = 0; t <= o.getDotCount(); t += 1) i.append(e("<li />").append(o.options.customPaging.call(this, o, t)));
                o.$dots = i.appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active")
            }
        }, t.prototype.buildOut = function() {
            var t = this;
            t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function(t, i) {
                e(i).attr("data-slick-index", t).data("originalStyling", e(i).attr("style") || "")
            }), t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), !0 !== t.options.centerMode && !0 !== t.options.swipeToSlide || (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), !0 === t.options.draggable && t.$list.addClass("draggable")
        }, t.prototype.buildRows = function() {
            var e, t, i, o, n, a, s, r = this;
            if (o = document.createDocumentFragment(), a = r.$slider.children(), r.options.rows > 0) {
                for (s = r.options.slidesPerRow * r.options.rows, n = Math.ceil(a.length / s), e = 0; e < n; e++) {
                    var l = document.createElement("div");
                    for (t = 0; t < r.options.rows; t++) {
                        var d = document.createElement("div");
                        for (i = 0; i < r.options.slidesPerRow; i++) {
                            var c = e * s + (t * r.options.slidesPerRow + i);
                            a.get(c) && d.appendChild(a.get(c))
                        }
                        l.appendChild(d)
                    }
                    o.appendChild(l)
                }
                r.$slider.empty().append(o), r.$slider.children().children().children().css({
                    width: 100 / r.options.slidesPerRow + "%",
                    display: "inline-block"
                })
            }
        }, t.prototype.checkResponsive = function(t, i) {
            var o, n, a, s = this,
                r = !1,
                l = s.$slider.width(),
                d = window.innerWidth || e(window).width();
            if ("window" === s.respondTo ? a = d : "slider" === s.respondTo ? a = l : "min" === s.respondTo && (a = Math.min(d, l)), s.options.responsive && s.options.responsive.length && null !== s.options.responsive) {
                n = null;
                for (o in s.breakpoints) s.breakpoints.hasOwnProperty(o) && (!1 === s.originalSettings.mobileFirst ? a < s.breakpoints[o] && (n = s.breakpoints[o]) : a > s.breakpoints[o] && (n = s.breakpoints[o]));
                null !== n ? null !== s.activeBreakpoint ? (n !== s.activeBreakpoint || i) && (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t), r = n), t || !1 === r || s.$slider.trigger("breakpoint", [s, r])
            }
        }, t.prototype.changeSlide = function(t, i) {
            var o, n, a, s = this,
                r = e(t.currentTarget);
            switch (r.is("a") && t.preventDefault(), r.is("li") || (r = r.closest("li")), a = s.slideCount % s.options.slidesToScroll != 0, o = a ? 0 : (s.slideCount - s.currentSlide) % s.options.slidesToScroll, t.data.message) {
                case "previous":
                    n = 0 === o ? s.options.slidesToScroll : s.options.slidesToShow - o, s.slideCount > s.options.slidesToShow && s.slideHandler(Math.max(0, s.currentSlide - n), !1, i);
                    break;
                case "next":
                    n = 0 === o ? s.options.slidesToScroll : o, s.slideCount > s.options.slidesToShow && (n = Math.min(s.slideCount - s.currentSlide - n, n), s.slideHandler(s.currentSlide + n, !1, i));
                    break;
                case "index":
                    var l = 0 === t.data.index ? 0 : t.data.index || r.index() * s.options.slidesToScroll;
                    s.slideHandler(s.checkNavigable(l), !1, i), r.children().trigger("focus");
                    break;
                default:
                    return
            }
        }, t.prototype.checkNavigable = function(e) {
            var t, i, o = this;
            if (t = o.getNavigableIndexes(), i = 0, e > t[t.length - 1]) e = t[t.length - 1];
            else
                for (var n in t) {
                    if (e < t[n]) {
                        e = i;
                        break
                    }
                    i = t[n]
                }
            return e
        }, t.prototype.cleanUpEvents = function() {
            var t = this;
            t.options.dots && null !== t.$dots && (e("li", t.$dots).off("click.slick", t.changeSlide).off("mouseenter.slick", e.proxy(t.interrupt, t, !0)).off("mouseleave.slick", e.proxy(t.interrupt, t, !1)), !0 === t.options.accessibility && t.$dots.off("keydown.slick", t.keyHandler)), t.$slider.off("focus.slick blur.slick"), !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide), t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide), !0 === t.options.accessibility && (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler), t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))), t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler), t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler), t.$list.off("touchend.slick mouseup.slick", t.swipeHandler), t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler), t.$list.off("click.slick", t.clickHandler), e(document).off(t.visibilityChange, t.visibility), t.cleanUpSlideEvents(), !0 === t.options.accessibility && t.$list.off("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().off("click.slick", t.selectHandler), e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange), e(window).off("resize.slick.slick-" + t.instanceUid, t.resize), e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault), e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition)
        }, t.prototype.cleanUpSlideEvents = function() {
            var t = this;
            t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1))
        }, t.prototype.cleanUpRows = function() {
            var e, t = this;
            t.options.rows > 0 && (e = t.$slides.children().children(), e.removeAttr("style"), t.$slider.empty().append(e))
        }, t.prototype.clickHandler = function(e) {
            !1 === this.shouldClick && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault())
        }, t.prototype.destroy = function(t) {
            var i = this;
            i.autoPlayClear(), i.touchObject = {}, i.cleanUpEvents(), e(".slick-cloned", i.$slider).detach(), i.$dots && i.$dots.remove(), i.$prevArrow && i.$prevArrow.length && (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()), i.$nextArrow && i.$nextArrow.length && (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()), i.$slides && (i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
                e(this).attr("style", e(this).data("originalStyling"))
            }), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.detach(), i.$list.detach(), i.$slider.append(i.$slides)), i.cleanUpRows(), i.$slider.removeClass("slick-slider"), i.$slider.removeClass("slick-initialized"), i.$slider.removeClass("slick-dotted"), i.unslicked = !0, t || i.$slider.trigger("destroy", [i])
        }, t.prototype.disableTransition = function(e) {
            var t = this,
                i = {};
            i[t.transitionType] = "", !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
        }, t.prototype.fadeSlide = function(e, t) {
            var i = this;
            !1 === i.cssTransitions ? (i.$slides.eq(e).css({
                zIndex: i.options.zIndex
            }), i.$slides.eq(e).animate({
                opacity: 1
            }, i.options.speed, i.options.easing, t)) : (i.applyTransition(e), i.$slides.eq(e).css({
                opacity: 1,
                zIndex: i.options.zIndex
            }), t && setTimeout(function() {
                i.disableTransition(e), t.call()
            }, i.options.speed))
        }, t.prototype.fadeSlideOut = function(e) {
            var t = this;
            !1 === t.cssTransitions ? t.$slides.eq(e).animate({
                opacity: 0,
                zIndex: t.options.zIndex - 2
            }, t.options.speed, t.options.easing) : (t.applyTransition(e), t.$slides.eq(e).css({
                opacity: 0,
                zIndex: t.options.zIndex - 2
            }))
        }, t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
            var t = this;
            null !== e && (t.$slidesCache = t.$slides, t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit())
        }, t.prototype.focusHandler = function() {
            var t = this;
            t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", function(i) {
                i.stopImmediatePropagation();
                var o = e(this);
                setTimeout(function() {
                    t.options.pauseOnFocus && (t.focussed = o.is(":focus"), t.autoPlay())
                }, 0)
            })
        }, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
            return this.currentSlide
        }, t.prototype.getDotCount = function() {
            var e = this,
                t = 0,
                i = 0,
                o = 0;
            if (!0 === e.options.infinite)
                if (e.slideCount <= e.options.slidesToShow) ++o;
                else
                    for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
            else if (!0 === e.options.centerMode) o = e.slideCount;
            else if (e.options.asNavFor)
                for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
            else o = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
            return o - 1
        }, t.prototype.getLeft = function(e) {
            var t, i, o, n, a = this,
                s = 0;
            return a.slideOffset = 0, i = a.$slides.first().outerHeight(!0), !0 === a.options.infinite ? (a.slideCount > a.options.slidesToShow && (a.slideOffset = a.slideWidth * a.options.slidesToShow * -1, n = -1, !0 === a.options.vertical && !0 === a.options.centerMode && (2 === a.options.slidesToShow ? n = -1.5 : 1 === a.options.slidesToShow && (n = -2)), s = i * a.options.slidesToShow * n), a.slideCount % a.options.slidesToScroll != 0 && e + a.options.slidesToScroll > a.slideCount && a.slideCount > a.options.slidesToShow && (e > a.slideCount ? (a.slideOffset = (a.options.slidesToShow - (e - a.slideCount)) * a.slideWidth * -1, s = (a.options.slidesToShow - (e - a.slideCount)) * i * -1) : (a.slideOffset = a.slideCount % a.options.slidesToScroll * a.slideWidth * -1, s = a.slideCount % a.options.slidesToScroll * i * -1))) : e + a.options.slidesToShow > a.slideCount && (a.slideOffset = (e + a.options.slidesToShow - a.slideCount) * a.slideWidth, s = (e + a.options.slidesToShow - a.slideCount) * i), a.slideCount <= a.options.slidesToShow && (a.slideOffset = 0, s = 0), !0 === a.options.centerMode && a.slideCount <= a.options.slidesToShow ? a.slideOffset = a.slideWidth * Math.floor(a.options.slidesToShow) / 2 - a.slideWidth * a.slideCount / 2 : !0 === a.options.centerMode && !0 === a.options.infinite ? a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2) - a.slideWidth : !0 === a.options.centerMode && (a.slideOffset = 0, a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2)), t = !1 === a.options.vertical ? e * a.slideWidth * -1 + a.slideOffset : e * i * -1 + s, !0 === a.options.variableWidth && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, !0 === a.options.centerMode && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow + 1), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, t += (a.$list.width() - o.outerWidth()) / 2)), t
        }, t.prototype.getOption = t.prototype.slickGetOption = function(e) {
            return this.options[e]
        }, t.prototype.getNavigableIndexes = function() {
            var e, t = this,
                i = 0,
                o = 0,
                n = [];
            for (!1 === t.options.infinite ? e = t.slideCount : (i = -1 * t.options.slidesToScroll, o = -1 * t.options.slidesToScroll, e = 2 * t.slideCount); i < e;) n.push(i), i = o + t.options.slidesToScroll, o += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
            return n
        }, t.prototype.getSlick = function() {
            return this
        }, t.prototype.getSlideCount = function() {
            var t, i, o = this;
            return i = !0 === o.options.centerMode ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) : 0, !0 === o.options.swipeToSlide ? (o.$slideTrack.find(".slick-slide").each(function(n, a) {
                if (a.offsetLeft - i + e(a).outerWidth() / 2 > -1 * o.swipeLeft) return t = a, !1
            }), Math.abs(e(t).attr("data-slick-index") - o.currentSlide) || 1) : o.options.slidesToScroll
        }, t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
            this.changeSlide({
                data: {
                    message: "index",
                    index: parseInt(e)
                }
            }, t)
        }, t.prototype.init = function(t) {
            var i = this;
            e(i.$slider).hasClass("slick-initialized") || (e(i.$slider).addClass("slick-initialized"), i.buildRows(), i.buildOut(), i.setProps(), i.startLoad(), i.loadSlider(), i.initializeEvents(), i.updateArrows(), i.updateDots(), i.checkResponsive(!0), i.focusHandler()), t && i.$slider.trigger("init", [i]), !0 === i.options.accessibility && i.initADA(), i.options.autoplay && (i.paused = !1, i.autoPlay())
        }, t.prototype.initADA = function() {
            var t = this,
                i = Math.ceil(t.slideCount / t.options.slidesToShow),
                o = t.getNavigableIndexes().filter(function(e) {
                    return e >= 0 && e < t.slideCount
                });
            t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({
                "aria-hidden": "true",
                tabindex: "-1"
            }).find("a, input, button, select").attr({
                tabindex: "-1"
            }), null !== t.$dots && (t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i) {
                var n = o.indexOf(i);
                if (e(this).attr({
                        role: "tabpanel",
                        id: "slick-slide" + t.instanceUid + i,
                        tabindex: -1
                    }), -1 !== n) {
                    var a = "slick-slide-control" + t.instanceUid + n;
                    e("#" + a).length && e(this).attr({
                        "aria-describedby": a
                    })
                }
            }), t.$dots.attr("role", "tablist").find("li").each(function(n) {
                var a = o[n];
                e(this).attr({
                    role: "presentation"
                }), e(this).find("button").first().attr({
                    role: "tab",
                    id: "slick-slide-control" + t.instanceUid + n,
                    "aria-controls": "slick-slide" + t.instanceUid + a,
                    "aria-label": n + 1 + " of " + i,
                    "aria-selected": null,
                    tabindex: "-1"
                })
            }).eq(t.currentSlide).find("button").attr({
                "aria-selected": "true",
                tabindex: "0"
            }).end());
            for (var n = t.currentSlide, a = n + t.options.slidesToShow; n < a; n++) t.options.focusOnChange ? t.$slides.eq(n).attr({
                tabindex: "0"
            }) : t.$slides.eq(n).removeAttr("tabindex");
            t.activateADA()
        }, t.prototype.initArrowEvents = function() {
            var e = this;
            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.off("click.slick").on("click.slick", {
                message: "previous"
            }, e.changeSlide), e.$nextArrow.off("click.slick").on("click.slick", {
                message: "next"
            }, e.changeSlide), !0 === e.options.accessibility && (e.$prevArrow.on("keydown.slick", e.keyHandler), e.$nextArrow.on("keydown.slick", e.keyHandler)))
        }, t.prototype.initDotEvents = function() {
            var t = this;
            !0 === t.options.dots && t.slideCount > t.options.slidesToShow && (e("li", t.$dots).on("click.slick", {
                message: "index"
            }, t.changeSlide), !0 === t.options.accessibility && t.$dots.on("keydown.slick", t.keyHandler)), !0 === t.options.dots && !0 === t.options.pauseOnDotsHover && t.slideCount > t.options.slidesToShow && e("li", t.$dots).on("mouseenter.slick", e.proxy(t.interrupt, t, !0)).on("mouseleave.slick", e.proxy(t.interrupt, t, !1))
        }, t.prototype.initSlideEvents = function() {
            var t = this;
            t.options.pauseOnHover && (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)))
        }, t.prototype.initializeEvents = function() {
            var t = this;
            t.initArrowEvents(), t.initDotEvents(), t.initSlideEvents(), t.$list.on("touchstart.slick mousedown.slick", {
                action: "start"
            }, t.swipeHandler), t.$list.on("touchmove.slick mousemove.slick", {
                action: "move"
            }, t.swipeHandler), t.$list.on("touchend.slick mouseup.slick", {
                action: "end"
            }, t.swipeHandler), t.$list.on("touchcancel.slick mouseleave.slick", {
                action: "end"
            }, t.swipeHandler), t.$list.on("click.slick", t.clickHandler), e(document).on(t.visibilityChange, e.proxy(t.visibility, t)), !0 === t.options.accessibility && t.$list.on("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), e(window).on("orientationchange.slick.slick-" + t.instanceUid, e.proxy(t.orientationChange, t)), e(window).on("resize.slick.slick-" + t.instanceUid, e.proxy(t.resize, t)), e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault), e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition), e(t.setPosition)
        }, t.prototype.initUI = function() {
            var e = this;
            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.show()
        }, t.prototype.keyHandler = function(e) {
            var t = this;
            e.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === e.keyCode && !0 === t.options.accessibility ? t.changeSlide({
                data: {
                    message: !0 === t.options.rtl ? "next" : "previous"
                }
            }) : 39 === e.keyCode && !0 === t.options.accessibility && t.changeSlide({
                data: {
                    message: !0 === t.options.rtl ? "previous" : "next"
                }
            }))
        }, t.prototype.lazyLoad = function() {
            function t(t) {
                e("img[data-lazy]", t).each(function() {
                    var t = e(this),
                        i = e(this).attr("data-lazy"),
                        o = e(this).attr("data-srcset"),
                        n = e(this).attr("data-sizes") || s.$slider.attr("data-sizes"),
                        a = document.createElement("img");
                    a.onload = function() {
                        t.animate({
                            opacity: 0
                        }, 100, function() {
                            o && (t.attr("srcset", o), n && t.attr("sizes", n)), t.attr("src", i).animate({
                                opacity: 1
                            }, 200, function() {
                                t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")
                            }), s.$slider.trigger("lazyLoaded", [s, t, i])
                        })
                    }, a.onerror = function() {
                        t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), s.$slider.trigger("lazyLoadError", [s, t, i])
                    }, a.src = i
                })
            }
            var i, o, n, a, s = this;
            if (!0 === s.options.centerMode ? !0 === s.options.infinite ? (n = s.currentSlide + (s.options.slidesToShow / 2 + 1), a = n + s.options.slidesToShow + 2) : (n = Math.max(0, s.currentSlide - (s.options.slidesToShow / 2 + 1)), a = s.options.slidesToShow / 2 + 1 + 2 + s.currentSlide) : (n = s.options.infinite ? s.options.slidesToShow + s.currentSlide : s.currentSlide, a = Math.ceil(n + s.options.slidesToShow), !0 === s.options.fade && (n > 0 && n--, a <= s.slideCount && a++)), i = s.$slider.find(".slick-slide").slice(n, a), "anticipated" === s.options.lazyLoad)
                for (var r = n - 1, l = a, d = s.$slider.find(".slick-slide"), c = 0; c < s.options.slidesToScroll; c++) r < 0 && (r = s.slideCount - 1), i = i.add(d.eq(r)), i = i.add(d.eq(l)), r--, l++;
            t(i), s.slideCount <= s.options.slidesToShow ? (o = s.$slider.find(".slick-slide"), t(o)) : s.currentSlide >= s.slideCount - s.options.slidesToShow ? (o = s.$slider.find(".slick-cloned").slice(0, s.options.slidesToShow), t(o)) : 0 === s.currentSlide && (o = s.$slider.find(".slick-cloned").slice(-1 * s.options.slidesToShow), t(o))
        }, t.prototype.loadSlider = function() {
            var e = this;
            e.setPosition(), e.$slideTrack.css({
                opacity: 1
            }), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad()
        }, t.prototype.next = t.prototype.slickNext = function() {
            this.changeSlide({
                data: {
                    message: "next"
                }
            })
        }, t.prototype.orientationChange = function() {
            var e = this;
            e.checkResponsive(), e.setPosition()
        }, t.prototype.pause = t.prototype.slickPause = function() {
            var e = this;
            e.autoPlayClear(), e.paused = !0
        }, t.prototype.play = t.prototype.slickPlay = function() {
            var e = this;
            e.autoPlay(), e.options.autoplay = !0, e.paused = !1, e.focussed = !1, e.interrupted = !1
        }, t.prototype.postSlide = function(t) {
            var i = this;
            if (!i.unslicked && (i.$slider.trigger("afterChange", [i, t]), i.animating = !1, i.slideCount > i.options.slidesToShow && i.setPosition(), i.swipeLeft = null, i.options.autoplay && i.autoPlay(), !0 === i.options.accessibility && (i.initADA(), i.options.focusOnChange))) {
                e(i.$slides.get(i.currentSlide)).attr("tabindex", 0).focus()
            }
        }, t.prototype.prev = t.prototype.slickPrev = function() {
            this.changeSlide({
                data: {
                    message: "previous"
                }
            })
        }, t.prototype.preventDefault = function(e) {
            e.preventDefault()
        }, t.prototype.progressiveLazyLoad = function(t) {
            t = t || 1;
            var i, o, n, a, s, r = this,
                l = e("img[data-lazy]", r.$slider);
            l.length ? (i = l.first(), o = i.attr("data-lazy"), n = i.attr("data-srcset"), a = i.attr("data-sizes") || r.$slider.attr("data-sizes"), s = document.createElement("img"), s.onload = function() {
                n && (i.attr("srcset", n), a && i.attr("sizes", a)), i.attr("src", o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"), !0 === r.options.adaptiveHeight && r.setPosition(), r.$slider.trigger("lazyLoaded", [r, i, o]), r.progressiveLazyLoad()
            }, s.onerror = function() {
                t < 3 ? setTimeout(function() {
                    r.progressiveLazyLoad(t + 1)
                }, 500) : (i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), r.$slider.trigger("lazyLoadError", [r, i, o]), r.progressiveLazyLoad())
            }, s.src = o) : r.$slider.trigger("allImagesLoaded", [r])
        }, t.prototype.refresh = function(t) {
            var i, o, n = this;
            o = n.slideCount - n.options.slidesToShow, !n.options.infinite && n.currentSlide > o && (n.currentSlide = o), n.slideCount <= n.options.slidesToShow && (n.currentSlide = 0), i = n.currentSlide, n.destroy(!0), e.extend(n, n.initials, {
                currentSlide: i
            }), n.init(), t || n.changeSlide({
                data: {
                    message: "index",
                    index: i
                }
            }, !1)
        }, t.prototype.registerBreakpoints = function() {
            var t, i, o, n = this,
                a = n.options.responsive || null;
            if ("array" === e.type(a) && a.length) {
                n.respondTo = n.options.respondTo || "window";
                for (t in a)
                    if (o = n.breakpoints.length - 1, a.hasOwnProperty(t)) {
                        for (i = a[t].breakpoint; o >= 0;) n.breakpoints[o] && n.breakpoints[o] === i && n.breakpoints.splice(o, 1), o--;
                        n.breakpoints.push(i), n.breakpointSettings[i] = a[t].settings
                    }
                n.breakpoints.sort(function(e, t) {
                    return n.options.mobileFirst ? e - t : t - e
                })
            }
        }, t.prototype.reinit = function() {
            var t = this;
            t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.registerBreakpoints(), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.cleanUpSlideEvents(), t.initSlideEvents(), t.checkResponsive(!1, !0), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), t.setPosition(), t.focusHandler(), t.paused = !t.options.autoplay, t.autoPlay(), t.$slider.trigger("reInit", [t])
        }, t.prototype.resize = function() {
            var t = this;
            e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function() {
                t.windowWidth = e(window).width(), t.checkResponsive(), t.unslicked || t.setPosition()
            }, 50))
        }, t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
            var o = this;
            if ("boolean" == typeof e ? (t = e, e = !0 === t ? 0 : o.slideCount - 1) : e = !0 === t ? --e : e, o.slideCount < 1 || e < 0 || e > o.slideCount - 1) return !1;
            o.unload(), !0 === i ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(e).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, o.reinit()
        }, t.prototype.setCSS = function(e) {
            var t, i, o = this,
                n = {};
            !0 === o.options.rtl && (e = -e), t = "left" == o.positionProp ? Math.ceil(e) + "px" : "0px", i = "top" == o.positionProp ? Math.ceil(e) + "px" : "0px", n[o.positionProp] = e, !1 === o.transformsEnabled ? o.$slideTrack.css(n) : (n = {}, !1 === o.cssTransitions ? (n[o.animType] = "translate(" + t + ", " + i + ")", o.$slideTrack.css(n)) : (n[o.animType] = "translate3d(" + t + ", " + i + ", 0px)", o.$slideTrack.css(n)))
        }, t.prototype.setDimensions = function() {
            var e = this;
            !1 === e.options.vertical ? !0 === e.options.centerMode && e.$list.css({
                padding: "0px " + e.options.centerPadding
            }) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), !0 === e.options.centerMode && e.$list.css({
                padding: e.options.centerPadding + " 0px"
            })), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), !1 === e.options.vertical && !1 === e.options.variableWidth ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : !0 === e.options.variableWidth ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
            var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
            !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
        }, t.prototype.setFade = function() {
            var t, i = this;
            i.$slides.each(function(o, n) {
                t = i.slideWidth * o * -1, !0 === i.options.rtl ? e(n).css({
                    position: "relative",
                    right: t,
                    top: 0,
                    zIndex: i.options.zIndex - 2,
                    opacity: 0
                }) : e(n).css({
                    position: "relative",
                    left: t,
                    top: 0,
                    zIndex: i.options.zIndex - 2,
                    opacity: 0
                })
            }), i.$slides.eq(i.currentSlide).css({
                zIndex: i.options.zIndex - 1,
                opacity: 1
            })
        }, t.prototype.setHeight = function() {
            var e = this;
            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                e.$list.css("height", t)
            }
        }, t.prototype.setOption = t.prototype.slickSetOption = function() {
            var t, i, o, n, a, s = this,
                r = !1;
            if ("object" === e.type(arguments[0]) ? (o = arguments[0], r = arguments[1], a = "multiple") : "string" === e.type(arguments[0]) && (o = arguments[0], n = arguments[1], r = arguments[2], "responsive" === arguments[0] && "array" === e.type(arguments[1]) ? a = "responsive" : void 0 !== arguments[1] && (a = "single")), "single" === a) s.options[o] = n;
            else if ("multiple" === a) e.each(o, function(e, t) {
                s.options[e] = t
            });
            else if ("responsive" === a)
                for (i in n)
                    if ("array" !== e.type(s.options.responsive)) s.options.responsive = [n[i]];
                    else {
                        for (t = s.options.responsive.length - 1; t >= 0;) s.options.responsive[t].breakpoint === n[i].breakpoint && s.options.responsive.splice(t, 1), t--;
                        s.options.responsive.push(n[i])
                    }
            r && (s.unload(), s.reinit())
        }, t.prototype.setPosition = function() {
            var e = this;
            e.setDimensions(), e.setHeight(), !1 === e.options.fade ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(), e.$slider.trigger("setPosition", [e])
        }, t.prototype.setProps = function() {
            var e = this,
                t = document.body.style;
            e.positionProp = !0 === e.options.vertical ? "top" : "left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"), void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition || !0 === e.options.useCSS && (e.cssTransitions = !0), e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : e.options.zIndex = e.defaults.zIndex), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && !1 !== e.animType && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType
        }, t.prototype.setSlideClasses = function(e) {
            var t, i, o, n, a = this;
            if (i = a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), a.$slides.eq(e).addClass("slick-current"), !0 === a.options.centerMode) {
                var s = a.options.slidesToShow % 2 == 0 ? 1 : 0;
                t = Math.floor(a.options.slidesToShow / 2), !0 === a.options.infinite && (e >= t && e <= a.slideCount - 1 - t ? a.$slides.slice(e - t + s, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = a.options.slidesToShow + e, i.slice(o - t + 1 + s, o + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? i.eq(i.length - 1 - a.options.slidesToShow).addClass("slick-center") : e === a.slideCount - 1 && i.eq(a.options.slidesToShow).addClass("slick-center")), a.$slides.eq(e).addClass("slick-center")
            } else e >= 0 && e <= a.slideCount - a.options.slidesToShow ? a.$slides.slice(e, e + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : i.length <= a.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") : (n = a.slideCount % a.options.slidesToShow, o = !0 === a.options.infinite ? a.options.slidesToShow + e : e, a.options.slidesToShow == a.options.slidesToScroll && a.slideCount - e < a.options.slidesToShow ? i.slice(o - (a.options.slidesToShow - n), o + n).addClass("slick-active").attr("aria-hidden", "false") : i.slice(o, o + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false"));
            "ondemand" !== a.options.lazyLoad && "anticipated" !== a.options.lazyLoad || a.lazyLoad()
        }, t.prototype.setupInfinite = function() {
            var t, i, o, n = this;
            if (!0 === n.options.fade && (n.options.centerMode = !1), !0 === n.options.infinite && !1 === n.options.fade && (i = null, n.slideCount > n.options.slidesToShow)) {
                for (o = !0 === n.options.centerMode ? n.options.slidesToShow + 1 : n.options.slidesToShow, t = n.slideCount; t > n.slideCount - o; t -= 1) i = t - 1, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");
                for (t = 0; t < o + n.slideCount; t += 1) i = t, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");
                n.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                    e(this).attr("id", "")
                })
            }
        }, t.prototype.interrupt = function(e) {
            var t = this;
            e || t.autoPlay(), t.interrupted = e
        }, t.prototype.selectHandler = function(t) {
            var i = this,
                o = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide"),
                n = parseInt(o.attr("data-slick-index"));
            if (n || (n = 0), i.slideCount <= i.options.slidesToShow) return void i.slideHandler(n, !1, !0);
            i.slideHandler(n)
        }, t.prototype.slideHandler = function(e, t, i) {
            var o, n, a, s, r, l = null,
                d = this;
            if (t = t || !1, !(!0 === d.animating && !0 === d.options.waitForAnimate || !0 === d.options.fade && d.currentSlide === e)) {
                if (!1 === t && d.asNavFor(e), o = e, l = d.getLeft(o), s = d.getLeft(d.currentSlide), d.currentLeft = null === d.swipeLeft ? s : d.swipeLeft, !1 === d.options.infinite && !1 === d.options.centerMode && (e < 0 || e > d.getDotCount() * d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                    d.postSlide(o)
                }) : d.postSlide(o)));
                if (!1 === d.options.infinite && !0 === d.options.centerMode && (e < 0 || e > d.slideCount - d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                    d.postSlide(o)
                }) : d.postSlide(o)));
                if (d.options.autoplay && clearInterval(d.autoPlayTimer), n = o < 0 ? d.slideCount % d.options.slidesToScroll != 0 ? d.slideCount - d.slideCount % d.options.slidesToScroll : d.slideCount + o : o >= d.slideCount ? d.slideCount % d.options.slidesToScroll != 0 ? 0 : o - d.slideCount : o, d.animating = !0, d.$slider.trigger("beforeChange", [d, d.currentSlide, n]), a = d.currentSlide, d.currentSlide = n, d.setSlideClasses(d.currentSlide), d.options.asNavFor && (r = d.getNavTarget(), r = r.slick("getSlick"), r.slideCount <= r.options.slidesToShow && r.setSlideClasses(d.currentSlide)), d.updateDots(), d.updateArrows(), !0 === d.options.fade) return !0 !== i ? (d.fadeSlideOut(a), d.fadeSlide(n, function() {
                    d.postSlide(n)
                })) : d.postSlide(n), void d.animateHeight();
                !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(l, function() {
                    d.postSlide(n)
                }) : d.postSlide(n)
            }
        }, t.prototype.startLoad = function() {
            var e = this;
            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading")
        }, t.prototype.swipeDirection = function() {
            var e, t, i, o, n = this;
            return e = n.touchObject.startX - n.touchObject.curX, t = n.touchObject.startY - n.touchObject.curY, i = Math.atan2(t, e), o = Math.round(180 * i / Math.PI), o < 0 && (o = 360 - Math.abs(o)), o <= 45 && o >= 0 ? !1 === n.options.rtl ? "left" : "right" : o <= 360 && o >= 315 ? !1 === n.options.rtl ? "left" : "right" : o >= 135 && o <= 225 ? !1 === n.options.rtl ? "right" : "left" : !0 === n.options.verticalSwiping ? o >= 35 && o <= 135 ? "down" : "up" : "vertical"
        }, t.prototype.swipeEnd = function(e) {
            var t, i, o = this;
            if (o.dragging = !1, o.swiping = !1, o.scrolling) return o.scrolling = !1, !1;
            if (o.interrupted = !1, o.shouldClick = !(o.touchObject.swipeLength > 10), void 0 === o.touchObject.curX) return !1;
            if (!0 === o.touchObject.edgeHit && o.$slider.trigger("edge", [o, o.swipeDirection()]), o.touchObject.swipeLength >= o.touchObject.minSwipe) {
                switch (i = o.swipeDirection()) {
                    case "left":
                    case "down":
                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide + o.getSlideCount()) : o.currentSlide + o.getSlideCount(), o.currentDirection = 0;
                        break;
                    case "right":
                    case "up":
                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide - o.getSlideCount()) : o.currentSlide - o.getSlideCount(), o.currentDirection = 1
                }
                "vertical" != i && (o.slideHandler(t), o.touchObject = {}, o.$slider.trigger("swipe", [o, i]))
            } else o.touchObject.startX !== o.touchObject.curX && (o.slideHandler(o.currentSlide), o.touchObject = {})
        }, t.prototype.swipeHandler = function(e) {
            var t = this;
            if (!(!1 === t.options.swipe || "ontouchend" in document && !1 === t.options.swipe || !1 === t.options.draggable && -1 !== e.type.indexOf("mouse"))) switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold), e.data.action) {
                case "start":
                    t.swipeStart(e);
                    break;
                case "move":
                    t.swipeMove(e);
                    break;
                case "end":
                    t.swipeEnd(e)
            }
        }, t.prototype.swipeMove = function(e) {
            var t, i, o, n, a, s, r = this;
            return a = void 0 !== e.originalEvent ? e.originalEvent.touches : null, !(!r.dragging || r.scrolling || a && 1 !== a.length) && (t = r.getLeft(r.currentSlide), r.touchObject.curX = void 0 !== a ? a[0].pageX : e.clientX, r.touchObject.curY = void 0 !== a ? a[0].pageY : e.clientY, r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curX - r.touchObject.startX, 2))), s = Math.round(Math.sqrt(Math.pow(r.touchObject.curY - r.touchObject.startY, 2))), !r.options.verticalSwiping && !r.swiping && s > 4 ? (r.scrolling = !0, !1) : (!0 === r.options.verticalSwiping && (r.touchObject.swipeLength = s), i = r.swipeDirection(), void 0 !== e.originalEvent && r.touchObject.swipeLength > 4 && (r.swiping = !0, e.preventDefault()), n = (!1 === r.options.rtl ? 1 : -1) * (r.touchObject.curX > r.touchObject.startX ? 1 : -1), !0 === r.options.verticalSwiping && (n = r.touchObject.curY > r.touchObject.startY ? 1 : -1), o = r.touchObject.swipeLength, r.touchObject.edgeHit = !1, !1 === r.options.infinite && (0 === r.currentSlide && "right" === i || r.currentSlide >= r.getDotCount() && "left" === i) && (o = r.touchObject.swipeLength * r.options.edgeFriction, r.touchObject.edgeHit = !0), !1 === r.options.vertical ? r.swipeLeft = t + o * n : r.swipeLeft = t + o * (r.$list.height() / r.listWidth) * n, !0 === r.options.verticalSwiping && (r.swipeLeft = t + o * n), !0 !== r.options.fade && !1 !== r.options.touchMove && (!0 === r.animating ? (r.swipeLeft = null, !1) : void r.setCSS(r.swipeLeft))))
        }, t.prototype.swipeStart = function(e) {
            var t, i = this;
            if (i.interrupted = !0, 1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, !1;
            void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY, i.dragging = !0
        }, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
            var e = this;
            null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit())
        }, t.prototype.unload = function() {
            var t = this;
            e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove(), t.$nextArrow && t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
        }, t.prototype.unslick = function(e) {
            var t = this;
            t.$slider.trigger("unslick", [t, e]), t.destroy()
        }, t.prototype.updateArrows = function() {
            var e = this;
            Math.floor(e.options.slidesToShow / 2), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode ? (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
        }, t.prototype.updateDots = function() {
            var e = this;
            null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").end(), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active"))
        }, t.prototype.visibility = function() {
            var e = this;
            e.options.autoplay && (document[e.hidden] ? e.interrupted = !0 : e.interrupted = !1)
        }, e.fn.slick = function() {
            var e, i, o = this,
                n = arguments[0],
                a = Array.prototype.slice.call(arguments, 1),
                s = o.length;
            for (e = 0; e < s; e++)
                if ("object" == typeof n || void 0 === n ? o[e].slick = new t(o[e], n) : i = o[e].slick[n].apply(o[e].slick, a), void 0 !== i) return i;
            return o
        }
    }),
    function(e, t) {
        "use strict";

        function i(i, a) {
            var s = this;
            s.$el = e(i), s.el = i, s.$el.bind("destroyed", e.proxy(s.teardown, s)), s.$window = e(t), s.$clonedHeader = null, s.$originalHeader = null, s.isCloneVisible = !1, s.leftOffset = null, s.topOffset = null, s.init = function() {
                s.options = e.extend({}, n, a), s.$el.each(function() {
                    var t = e(this);
                    t.css("padding", 0), s.$originalHeader = e("thead:first", this), s.$clonedHeader = s.$originalHeader.clone(), s.$clonedHeader.addClass("tableFloatingHeader"), s.$clonedHeader.css({
                        position: "fixed",
                        top: 0,
                        "z-index": 1,
                        display: "none"
                    }), s.$originalHeader.addClass("tableFloatingHeaderOriginal"), s.$originalHeader.after(s.$clonedHeader), e("th", s.$clonedHeader).on("click." + o, function() {
                        var t = e("th", s.$clonedHeader).index(this);
                        e("th", s.$originalHeader).eq(t).click()
                    }), t.on("sortEnd." + o, s.updateWidth)
                }), s.updateWidth(), s.toggleHeaders(), s.bind()
            }, s.destroy = function() {
                s.$el.unbind("destroyed", s.teardown), s.teardown()
            }, s.teardown = function() {
                e.removeData(s.el, "plugin_" + o), s.unbind(), s.$clonedHeader.remove(), s.$originalHeader.removeClass("tableFloatingHeaderOriginal"), s.$originalHeader.css("visibility", "visible"), s.el = null, s.$el = null
            }, s.bind = function() {
                s.$window.on("scroll." + o, s.toggleHeaders), s.$window.on("resize." + o, s.toggleHeaders), s.$window.on("resize." + o, s.updateWidth)
            }, s.unbind = function() {
                s.$window.off("." + o, s.toggleHeaders), s.$window.off("." + o, s.updateWidth), s.$el.off("." + o), s.$el.find("*").off("." + o)
            }, s.toggleHeaders = function() {
                s.$el.each(function() {
                    var t = e(this),
                        i = isNaN(s.options.fixedOffset) ? s.options.fixedOffset.height() : s.options.fixedOffset,
                        o = t.offset(),
                        n = s.$window.scrollTop() + i,
                        a = s.$window.scrollLeft();
                    if (n > o.top && o.top + t.height() > n) {
                        var r = o.left - a;
                        if (s.isCloneVisible && r === s.leftOffset && i === s.topOffset) return;
                        s.$clonedHeader.css({
                            top: i,
                            "margin-top": 0,
                            left: r,
                            display: "block"
                        }), s.$originalHeader.css("visibility", "hidden"), s.isCloneVisible = !0, s.leftOffset = r, s.topOffset = i
                    } else s.isCloneVisible && (s.$clonedHeader.css("display", "none"), s.$originalHeader.css("visibility", "visible"), s.isCloneVisible = !1)
                })
            }, s.updateWidth = function() {
                e("th", s.$clonedHeader).each(function(t) {
                    var i = e(this),
                        o = e("th", s.$originalHeader).eq(t);
                    this.className = o.attr("class") || "", i.css("width", o.width())
                }), s.$clonedHeader.css("width", s.$originalHeader.width())
            }, s.init()
        }
        var o = "stickyTableHeaders",
            n = {
                fixedOffset: 0
            };
        e.fn[o] = function(t) {
            return this.each(function() {
                var n = e.data(this, "plugin_" + o);
                n ? "string" == typeof t && n[t].apply(n) : "destroy" !== t && e.data(this, "plugin_" + o, new i(this, t))
            })
        }
    }(jQuery, window),
    function(e) {
        e.fn.unveil = function(t, i) {
            function o() {
                var t = r.filter(function() {
                    var t = e(this);
                    if (!t.is(":hidden")) {
                        var i = a.scrollTop(),
                            o = i + a.height(),
                            n = t.offset().top;
                        return n + t.height() >= i - s && n <= o + s
                    }
                });
                n = t.trigger("unveil"), r = r.not(n)
            }
            var n, a = e(window),
                s = t || 0,
                r = this;
            return this.one("unveil", function() {
                var e = this.getAttribute("data-src");
                (e = e || this.getAttribute("data-src")) && (this.setAttribute("src", e), "function" == typeof i && i.call(this))
            }), a.on("scroll.unveil resize.unveil lookup.unveil", o), o(), this
        }
    }(window.jQuery),
    function(e) {
        e.fn.visible = function(t) {
            var i = e(this),
                o = e(window),
                n = o.scrollTop(),
                a = n + o.height(),
                s = i.offset().top,
                r = s + i.height(),
                l = !0 === t ? r : s;
            return (!0 === t ? s : r) <= a && l >= n
        }
    }(jQuery),
    function(e) {
        function t(e, t, i) {
            return e + t < i && (e = i - t), e > 0 && (e = 0), e
        }
        e.jWindowCrop = function(i, o) {
            function n() {
                if (0 == f.originalWidth && (f.originalWidth = f.$image.width(), f.originalHeight = f.$image.height()), f.originalWidth > 0) {
                    var e = f.options.targetWidth / f.originalWidth,
                        t = f.options.targetHeight / f.originalHeight;
                    f.minPercent = e >= t ? f.originalWidth < f.options.targetWidth ? f.options.targetWidth / f.originalWidth : e : f.originalHeight < f.options.targetHeight ? f.options.targetHeight / f.originalHeight : t, f.focalPoint = {
                        x: Math.round(f.originalWidth / 2),
                        y: Math.round(f.originalHeight / 2)
                    }, f.setZoom(f.minPercent), f.$image.fadeIn("fast")
                }
            }

            function a() {
                var e = (-1 * parseInt(f.$image.css("left")) + f.options.targetWidth / 2) / f.workingPercent,
                    t = (-1 * parseInt(f.$image.css("top")) + f.options.targetHeight / 2) / f.workingPercent;
                f.focalPoint = {
                    x: Math.round(e),
                    y: Math.round(t)
                }
            }

            function s() {
                var e = t(-1 * Math.round(f.focalPoint.x * f.workingPercent - f.options.targetWidth / 2), f.$image.width(), f.options.targetWidth),
                    i = t(-1 * Math.round(f.focalPoint.y * f.workingPercent - f.options.targetHeight / 2), f.$image.height(), f.options.targetHeight);
                f.$image.css({
                    left: e.toString() + "px",
                    top: i.toString() + "px"
                }), a()
            }

            function r() {
                f.result = {
                    cropX: Math.floor(parseInt(f.$image.css("left")) / f.workingPercent * -1),
                    cropY: Math.floor(parseInt(f.$image.css("top")) / f.workingPercent * -1),
                    cropW: Math.round(f.options.targetWidth / f.workingPercent),
                    cropH: Math.round(f.options.targetHeight / f.workingPercent),
                    mustStretch: f.minPercent > 1
                }, f.options.onChange.call(f.image, f.result)
            }

            function l() {
                n()
            }

            function d(e) {
                e.preventDefault(), f.isDragging = !0, f.dragMouseCoords = {
                    x: e.pageX || e.originalEvent.touches[0].pageX,
                    y: e.pageY || e.originalEvent.touches[0].pageY
                }, f.dragImageCoords = {
                    x: parseInt(f.$image.css("left")),
                    y: parseInt(f.$image.css("top"))
                }
            }

            function c() {
                f.isDragging = !1
            }

            function p(e) {
                if (f.isDragging) {
                    var i = (e.pageX || e.originalEvent.touches[0].pageX) - f.dragMouseCoords.x,
                        o = (e.pageY || e.originalEvent.touches[0].pageY) - f.dragMouseCoords.y,
                        n = t(f.dragImageCoords.x + i, f.$image.width(), f.options.targetWidth),
                        s = t(f.dragImageCoords.y + o, f.$image.height(), f.options.targetHeight);
                    f.$image.css({
                        left: n.toString() + "px",
                        top: s.toString() + "px"
                    }), a(), r()
                }
            }

            function h() {
                f.options.smartControls && f.$frame.find(".jwc_controls").fadeIn("fast")
            }

            function u() {
                f.options.smartControls && f.$frame.find(".jwc_controls").fadeOut("fast")
            }
            var f = this;
            f.$image = e(i), f.image = i, f.$image.data("jWindowCrop", f), f.namespace = "jWindowCrop", f.originalWidth = 0, f.isDragging = !1, f.init = function() {
                f.$image.css({
                    display: "none"
                }), f.options = e.extend({}, e.jWindowCrop.defaultOptions, o), f.options.zoomSteps < 2 && (f.options.zoomSteps = 2), f.$image.addClass("jwc_image").wrap('<div class="jwc_frame" />'), f.$frame = f.$image.parent(), f.$frame.append('<div class="jwc_loader">' + f.options.loadingText + "</div>"), f.$frame.append('<div class="jwc_controls" style="display:' + (f.options.showControlsOnStart ? "block" : "none") + ';"><span>click to drag</span><a href="#" class="jwc_zoom_in"></a><a href="#" class="jwc_zoom_out"></a></div>'), f.$frame.css({
                    overflow: "hidden",
                    position: "relative",
                    width: f.options.targetWidth,
                    height: f.options.targetHeight
                }), f.$image.css({
                    position: "absolute",
                    top: "0px",
                    left: "0px"
                }), n(), f.$frame.find(".jwc_zoom_in").on("click." + f.namespace, f.zoomIn), f.$frame.find(".jwc_zoom_out").on("click." + f.namespace, f.zoomOut), f.$frame.on("mouseenter." + f.namespace, h), f.$frame.on("mouseleave." + f.namespace, u), f.$image.on("load." + f.namespace, l), f.$image.on("mousedown." + f.namespace + " touchstart." + f.namespace, d), e(document).on("mousemove." + f.namespace + " touchmove." + f.namespace, p), e(document).on("mouseup." + f.namespace + " touchend." + f.namespace, c)
            }, f.destroy = function() {
                f.$image.removeData("jWindowCrop"), e(document).unbind(), f.$image.unbind(), f.$frame.unbind(), f.$frame.find(".jwc_zoom_out").unbind(), f.$frame.find(".jwc_zoom_in").unbind(), e(".jwc_loader").remove(), e(".jwc_controls").remove(), f.$image.removeAttr("style"), f.$image.unwrap()
            }, f.setZoom = function(e) {
                f.minPercent >= 1 ? e = f.minPercent : e > 1 ? e = 1 : e < f.minPercent && (e = f.minPercent), f.$image.width(Math.ceil(f.originalWidth * e)), f.workingPercent = e, s(), r()
            }, f.zoomIn = function() {
                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                return f.setZoom(f.workingPercent + e), !1
            }, f.zoomOut = function() {
                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                return f.setZoom(f.workingPercent - e), !1
            }, f.init()
        }, e.jWindowCrop.defaultOptions = {
            targetWidth: 320,
            targetHeight: 180,
            zoomSteps: 10,
            loadingText: "",
            smartControls: !0,
            showControlsOnStart: !0,
            onChange: function() {}
        }, e.fn.jWindowCrop = function(t) {
            return this.each(function() {
                new e.jWindowCrop(this, t)
            })
        }, e.fn.getjWindowCrop = function() {
            return this.data("jWindowCrop")
        }
    }(jQuery), jQuery.fn.rating = function(e) {
        var t = {
            increment: .5,
            maxvalue: 5,
            curvalue: 0
        };
        e && jQuery.extend(t, e), jQuery.extend(t, {
            cancel: t.maxvalue > 1
        });
        var i = jQuery(this);
        jQuery.extend(i, {
            averageRating: t.curvalue
        }), t.increment = t.increment < .75 ? .5 : 1;
        for (var o = 0, n = 0; n <= t.maxvalue; n++) {
            if (0 == n) {
                if (1 == t.cancel) {
                    i.append('<div class="cancel"><a href="#0" title="Cancel Rating">Cancel Rating</a></div>')
                }
            } else {
                var a = $('<div class="star"></div>').append('<a href="#' + n + '" title="Give it ' + n + "/" + t.maxvalue + '">' + n + "</a>").appendTo(i);.5 == t.increment && (o % 2 ? a.addClass("star-left") : a.addClass("star-right"))
            }
            n = n - 1 + t.increment, o++
        }
        var s = jQuery(i).children(".star"),
            r = jQuery(i).children(".cancel");
        s.mouseover(function() {
            l.drain(), l.fill(this)
        }).mouseout(function() {
            l.drain(), l.reset()
        }).focus(function() {
            l.drain(), l.fill(this)
        }).blur(function() {
            l.drain(), l.reset()
        }).click(function(e, i) {
            return t.curvalue = jQuery(this).children("a")[0].href.split("#")[1], $(this).toggleClass("on"), l.drain(), l.reset(), i || set_rating(t.curvalue, this), !1
        }), r && r.mouseover(function() {
            l.drain(), jQuery(this).addClass("on")
        }).mouseout(function() {
            l.reset(), jQuery(this).removeClass("on")
        }).focus(function() {
            l.drain(), jQuery(this).addClass("on")
        }).blur(function() {
            l.reset(), jQuery(this).removeClass("on")
        }).click(function(e, i) {
            return t.curvalue = 0, l.drain(), l.reset(), i || set_rating(jQuery(this).children("a")[0].href.split("#")[1], this), !1
        });
        var l = {
            fill: function(e) {
                var t = s.index(e) + 1;
                s.children("a").css("width", "100%").end().slice(0, t).addClass("hover").end()
            },
            drain: function() {
                s.filter(".on").removeClass("on").end().filter(".hover").removeClass("hover").end()
            },
            reset: function() {
                s.slice(0, t.curvalue / t.increment).addClass("on").end()
            }
        };
        return l.reset(), this
    }, $(function() {
        initRating(".desktop")
    }), $(document).ready(function() {
        AdvancedFilter.init()
    }), AdvancedFilter = function(e) {
        function t() {
            function t(e, t) {
                n.removePill(n.findPill(e.attr("id"), t))
            }

            function o(e, t, i, o) {
                e.removeClass(i).addClass(o), n.createPillFromButton(e, ("incTag" == t ? "+ " : "- ") + e.find("a").text(), t)
            }
            var n = new PillPharmacy,
                a = e("#advancedFilter"),
                s = e(".filterTags");
            a.length && (e("#advanced_filter_tags").click(function() {
                return e("#advanced_more_tags").toggle(), e(this).toggleClass("moreSmall lessSmall").html((e(this).hasClass("moreSmall") ? "more" : "less") + " tags"), !1
            }), s.find(".filter a").click(function(i) {
                i.preventDefault();
                var n = e(this).parent();
                n.hasClass("n") ? o(n, "incTag", "n", "include") : n.hasClass("include") ? o(n, "excTag", "include", "exclude") : (t(n, "incTag"), n.removeClass("exclude").addClass("n"))
            }), s.find(".fa-minus").click(function() {
                var i = e(this).parent();
                i.hasClass("exclude") ? (i.removeClass("exclude include").addClass("n"), t(i, "excTag")) : o(i, "excTag", "n include", "exclude")
            }), s.find(".fa-plus").click(function() {
                var i = e(this).parent();
                i.hasClass("include") ? (i.removeClass("exclude include").addClass("n"), t(i, "incTag")) : o(i, "incTag", "n exclude", "include")
            }), a.find(".af-filters .fa-plus").add(".af-filters .filter a").click(function() {
                var i = e(this).parent();
                i.hasClass("include") ? (i.removeClass("include"), t(i, "include_types")) : (i.addClass("include"), n.createPillFromButton(i, i.find("a").text(), "include_types"))
            }), a.find("select").on("change", function() {
                var i = e(this),
                    o = i.find(":selected");
                o.val() ? (n.createPillFromButton(i, o.text(), i.attr("id")), "formSeason" == i.attr("id") && (n.removePill(n.findPill("year")), n.removePill(n.findPill("to_year")), n.removePill(n.findPill("single-year")))) : t(i)
            }), a.find("input").on("blur keyup result", function() {
                var t = e(this);
                t.text().toLowerCase() != t.attr("placeholder") && ("year" == t.attr("id") || "to_year" == t.attr("id") ? n.combinePills(t, "year", "year") : "episodes" == t.attr("id") || "to_episodes" == t.attr("id") ? n.combinePills(t, "episodes", "episode") : "staff-input" != t.attr("id") && n.createPill(t))
            }), a.find("#add-staff").click(function() {
                e(this).hide(), e("#staff-input").show()
            }), a.find("#staff-input").on("keydown", function(e) {
                13 == e.which && this.value && e.preventDefault()
            }).apcomplete("people", !1).on("autocompleteselect", function(t, i) {
                e(this).hide(), e("#add-staff").show(), n.createPillFromButton(e("<input>"), "Staff: " + i.item.value, "include_staff"), i.item.value = ""
            }), a.on("keyup", "#staff-input", function(t) {
                13 == t.which && (this.value && t.preventDefault(), e(this).hide(), e("#add-staff").show(), n.createPillFromButton(e("<input>"), "Staff: " + this.value, "include_staff"), this.value = "")
            }), e("#formPublisher").apcomplete("publishers"), e("#formMagazine").apcomplete("magazines"), e("#formStudio").apcomplete("studios"), e("#formArtist").apcomplete("people"), e("#formAuthor").apcomplete("people"), e(".pillFilters").on("click", "a", function(t) {
                t.preventDefault(), n.removePill(e(this)), e(document).trigger("RemovedPill", [e(this).attr("href")])
            }), e(".pillReset").click(function(t) {
                t.preventDefault(), n.removeAllPills(), 0 == e(".pillFilters").find(".pillLabel span:visible").length && (location.href = location.href.split("?")[0])
            }), e("#qaForm").submit(function(e) {
                e.preventDefault();
                var t = window.location.href.split("#")[0];
                location.href = t.split("?")[0] + i()
            }))
        }

        function i() {
            var t = e.query.GET("sort"),
                i = e.query.GET("order"),
                a = e.query.GET("compare"),
                s = e.query.GET("has_video"),
                r = e.query.copy().EMPTY(),
                l = new PillPharmacy,
                d = l.findPill("letter");
            return r.SET("sort", t), r.SET("order", i), r.SET("compare", a), r.SET("has_video", s), e("#advancedFilter :input[name]").each(function() {
                var t = e(this),
                    i = t.val(),
                    o = t.attr("name"),
                    n = {
                        rating_greater: 0,
                        rating_less: 5,
                        include_types: "none",
                        include_tags: "none",
                        exclude_tags: "none",
                        include_status: "none"
                    };
                i == t.attr("placeholder") && (i = ""), i.length && o.length && n[o] != i && r.SET(o, i)
            }), e(".filterShowOnly li.include").map(function() {
                r.SET(e(this).attr("id"), 1)
            }), o(r, "include_types", ".filterType li.include", "id"), o(r, "include_tags", ".filterTags .filter.include"), o(r, "exclude_tags", ".filterTags .filter.exclude"), o(r, "include_status", ".filterStatus .filter.include"), n(r, "include_staff", ".pillFilters .include_staff"), 0 != d.length && r.SET("l", d.data("field")), r.toString()
        }

        function o(t, i, o, n) {
            n || (n = "value");
            var a = e(o).map(function() {
                return e(this).attr(n)
            }).get();
            a.length && t.SET(i, a.join(","))
        }

        function n(t, i, o) {
            var n = e(o).map(function() {
                var e = this.innerText.indexOf(":");
                return this.innerText.substring(e + 2)
            }).get();
            n.length && t.SET(i, n.join(","))
        }
        return {
            init: t,
            buildQueryString: i
        }
    }(jQuery),
    function(e) {
        function t(t) {
            for (var i = e(".slick"), o = 0; o < i.length; o++) {
                var n = 0,
                    a = e(i[o]),
                    s = a.data("zero-eps") || 0,
                    r = a.children().length;
                a.data("watched") && (n = a.data("offset") < a.data("watched") + s ? Math.max(0, a.data("watched") + s - a.data("offset") - 1) : Math.max(0, a.data("offset") - a.data("watched") + s), (r <= t || r <= n) && (n = Math.max(0, r - t))), a.slick({
                    infinite: !1,
                    slidesToShow: t,
                    slidesToScroll: t,
                    initialSlide: n,
                    prevArrow: '<div class="slick-left"><i class="fa fa-chevron-left"></i></div>',
                    nextArrow: '<div class="slick-right"><i class="fa fa-chevron-right"></i></div>'
                })
            }
            e(".slick").on("beforeChange", function(t, i, o, n) {
                i.$slider.data("loaded") || i.$slider.data("loaded", i.slideCount);
                var a = [],
                    r = parseInt(i.$slider.data("watched"));
                if (a.push("anime_id=" + i.$slider.data("anime-id")), a.push("has_embed=" + i.$slider.data("has-embed")), a.push("is_dubbed=" + i.$slider.data("is-dubbed")), a.push("provider_id=" + i.$slider.data("provider-id")), o < n && !i.$slider.data("done")) {
                    var l = i.$slider.data("offset");
                    a.push("rows=" + 2 * i.options.slidesToShow), a.push("offset=" + (l + i.$slider.data("loaded"))), i.$slider.data("loaded", i.$slider.data("loaded") + 2 * i.options.slidesToShow), e.getJSON("/api/videos/episodes?" + a.join("&"), function(e) {
                        e.length < 2 * i.options.slidesToShow && i.$slider.data("done", !0);
                        for (var t = 0; t < e.length; t++) {
                            var o = e[t],
                                n = o.is_premium_only ? " cr-premium" : "",
                                a = r && l + i.slideCount - s + t + 1 <= r ? " watched" : "";
                            i.slickAdd('<div><div class="card landscape' + n + a + '" style="width: 100%"><a href="/anime/' + o.anime_url + "/videos/" + o.id + '" title="Episode ' + o.number + ": Enter: " + o.title + '" tabindex="-1"><div class="crop"><img src="/inc/img/card-load.gif" data-src="' + o.thumbnail + '" alt="' + o.title + ' image"></div><h4>Episode ' + o.number + "</h4></a><p>" + o.title + "</p></div></div>"), i.$slider.find("img").unveil(400)
                        }
                    })
                } else if (n < o && i.$slider.data("offset")) {
                    var l = i.$slider.data("offset"),
                        d = 2 * i.options.slidesToShow;
                    d = Math.min(l, d);
                    var c = l;
                    l -= d, a.push("rows=" + d), a.push("offset=" + l), i.$slider.data("offset", l), i.$slider.data("loaded", i.$slider.data("loaded") + d), e.getJSON("/api/videos/episodes?" + a.join("&"), function(e) {
                        for (var t = e.length - 1; t >= 0; t--) {
                            var o = e[t],
                                n = e.length - t - 1,
                                a = o.is_premium_only ? " cr-premium" : "",
                                l = r && c - n + s <= r ? " watched" : "";
                            i.currentSlide += 1, i.slickAdd('<div><div class="card landscape' + a + l + '" style="width: 100%"><a href="/anime/' + o.anime_url + "/videos/" + o.id + '" title="Episode ' + o.number + ": Enter: " + o.title + '" tabindex="-1"><div class="crop"><img src="/inc/img/card-load.gif" data-src="' + o.thumbnail + '" alt="' + o.title + ' image"></div><h4>Episode ' + o.number + "</h4></a><p>" + o.title + "</p></div></div>", !0), i.$slider.find("img").unveil(400)
                        }
                    })
                }
            })
        }
        VideoSlider = {
            init: t
        }
    }(jQuery),
    function() {
        function e(e, t) {
            return
        }
        Feed = {
            startPulse: e
        }
    }(),
    function(e, t, i) {
        "use strict";
        "function" == typeof window.define && window.define.amd ? window.define(i) : "undefined" != typeof module && module.exports ? module.exports = i() : t.exports ? t.exports = i() : t.f736627876b359b90d2317d699082889b = i()
    }(0, this, function() {
        "use strict";
        var e = function(t) {
            if (!(this instanceof e)) return new e(t);
            this.options = this.extend(t, {
                swfContainerId: "fingerprintjs2",
                swfPath: "flash/compiled/FontList.swf",
                detectScreenOrientation: !0,
                sortPluginsFor: [/palemoon/i],
                userDefinedFonts: [],
                excludeDoNotTrack: !0,
                excludePixelRatio: !0
            }), this.nativeForEach = Array.prototype.forEach, this.nativeMap = Array.prototype.map
        };
        return e.prototype = {
            extend: function(e, t) {
                if (null == e) return t;
                for (var i in e) null != e[i] && t[i] !== e[i] && (t[i] = e[i]);
                return t
            },
            get: function(e) {
                var t = this,
                    i = {
                        data: [],
                        addPreprocessedComponent: function(e) {
                            var o = e.value;
                            "function" == typeof t.options.preprocessor && (o = t.options.preprocessor(e.key, o)), i.data.push({
                                key: e.key,
                                value: o
                            })
                        }
                    };
                i = this.userAgentKey(i), i = this.languageKey(i), i = this.colorDepthKey(i), i = this.deviceMemoryKey(i), i = this.pixelRatioKey(i), i = this.hardwareConcurrencyKey(i), i = this.screenResolutionKey(i), i = this.availableScreenResolutionKey(i), i = this.timezoneOffsetKey(i), i = this.sessionStorageKey(i), i = this.localStorageKey(i), i = this.indexedDbKey(i), i = this.addBehaviorKey(i), i = this.openDatabaseKey(i), i = this.cpuClassKey(i), i = this.platformKey(i), i = this.doNotTrackKey(i), i = this.pluginsKey(i), i = this.canvasKey(i), i = this.webglKey(i), i = this.webglVendorAndRendererKey(i), i = this.adBlockKey(i), i = this.hasLiedLanguagesKey(i), i = this.hasLiedResolutionKey(i), i = this.hasLiedOsKey(i), i = this.hasLiedBrowserKey(i), i = this.touchSupportKey(i), i = this.customEntropyFunction(i), this.fontsKey(i, function(i) {
                    var o = [];
                    t.each(i.data, function(e) {
                        var t = e.value;
                        t && "function" == typeof t.join && (t = t.join(";")), o.push(t)
                    });
                    var n = t.x64hash128(o.join("~~~"), 31);
                    return e(n, i.data)
                })
            },
            customEntropyFunction: function(e) {
                return "function" == typeof this.options.customFunction && e.addPreprocessedComponent({
                    key: "custom",
                    value: this.options.customFunction()
                }), e
            },
            userAgentKey: function(e) {
                return this.options.excludeUserAgent || e.addPreprocessedComponent({
                    key: "user_agent",
                    value: this.getUserAgent()
                }), e
            },
            getUserAgent: function() {
                return navigator.userAgent
            },
            languageKey: function(e) {
                return this.options.excludeLanguage || e.addPreprocessedComponent({
                    key: "language",
                    value: navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || ""
                }), e
            },
            colorDepthKey: function(e) {
                return this.options.excludeColorDepth || e.addPreprocessedComponent({
                    key: "color_depth",
                    value: window.screen.colorDepth || -1
                }), e
            },
            deviceMemoryKey: function(e) {
                return this.options.excludeDeviceMemory || e.addPreprocessedComponent({
                    key: "device_memory",
                    value: this.getDeviceMemory()
                }), e
            },
            getDeviceMemory: function() {
                return navigator.deviceMemory || -1
            },
            pixelRatioKey: function(e) {
                return this.options.excludePixelRatio || e.addPreprocessedComponent({
                    key: "pixel_ratio",
                    value: this.getPixelRatio()
                }), e
            },
            getPixelRatio: function() {
                return window.devicePixelRatio || ""
            },
            screenResolutionKey: function(e) {
                return this.options.excludeScreenResolution ? e : this.getScreenResolution(e)
            },
            getScreenResolution: function(e) {
                var t;
                return t = this.options.detectScreenOrientation && window.screen.height > window.screen.width ? [window.screen.height, window.screen.width] : [window.screen.width, window.screen.height], e.addPreprocessedComponent({
                    key: "resolution",
                    value: t
                }), e
            },
            availableScreenResolutionKey: function(e) {
                return this.options.excludeAvailableScreenResolution ? e : this.getAvailableScreenResolution(e)
            },
            getAvailableScreenResolution: function(e) {
                var t;
                return window.screen.availWidth && window.screen.availHeight && (t = this.options.detectScreenOrientation ? window.screen.availHeight > window.screen.availWidth ? [window.screen.availHeight, window.screen.availWidth] : [window.screen.availWidth, window.screen.availHeight] : [window.screen.availHeight, window.screen.availWidth]), void 0 !== t && e.addPreprocessedComponent({
                    key: "available_resolution",
                    value: t
                }), e
            },
            timezoneOffsetKey: function(e) {
                return this.options.excludeTimezoneOffset || e.addPreprocessedComponent({
                    key: "timezone_offset",
                    value: (new Date).getTimezoneOffset()
                }), e
            },
            sessionStorageKey: function(e) {
                return !this.options.excludeSessionStorage && this.hasSessionStorage() && e.addPreprocessedComponent({
                    key: "session_storage",
                    value: 1
                }), e
            },
            localStorageKey: function(e) {
                return !this.options.excludeSessionStorage && this.hasLocalStorage() && e.addPreprocessedComponent({
                    key: "local_storage",
                    value: 1
                }), e
            },
            indexedDbKey: function(e) {
                return !this.options.excludeIndexedDB && this.hasIndexedDB() && e.addPreprocessedComponent({
                    key: "indexed_db",
                    value: 1
                }), e
            },
            addBehaviorKey: function(e) {
                return !this.options.excludeAddBehavior && document.body && document.body.addBehavior && e.addPreprocessedComponent({
                    key: "add_behavior",
                    value: 1
                }), e
            },
            openDatabaseKey: function(e) {
                return !this.options.excludeOpenDatabase && window.openDatabase && e.addPreprocessedComponent({
                    key: "open_database",
                    value: 1
                }), e
            },
            cpuClassKey: function(e) {
                return this.options.excludeCpuClass || e.addPreprocessedComponent({
                    key: "cpu_class",
                    value: this.getNavigatorCpuClass()
                }), e
            },
            platformKey: function(e) {
                return this.options.excludePlatform || e.addPreprocessedComponent({
                    key: "navigator_platform",
                    value: this.getNavigatorPlatform()
                }), e
            },
            doNotTrackKey: function(e) {
                return this.options.excludeDoNotTrack || e.addPreprocessedComponent({
                    key: "do_not_track",
                    value: this.getDoNotTrack()
                }), e
            },
            canvasKey: function(e) {
                return !this.options.excludeCanvas && this.isCanvasSupported() && e.addPreprocessedComponent({
                    key: "canvas",
                    value: this.getCanvasFp()
                }), e
            },
            webglKey: function(e) {
                return !this.options.excludeWebGL && this.isWebGlSupported() && e.addPreprocessedComponent({
                    key: "webgl",
                    value: this.getWebglFp()
                }), e
            },
            webglVendorAndRendererKey: function(e) {
                return !this.options.excludeWebGLVendorAndRenderer && this.isWebGlSupported() && e.addPreprocessedComponent({
                    key: "webgl_vendor",
                    value: this.getWebglVendorAndRenderer()
                }), e
            },
            adBlockKey: function(e) {
                return this.options.excludeAdBlock || e.addPreprocessedComponent({
                    key: "adblock",
                    value: this.getAdBlock()
                }), e
            },
            hasLiedLanguagesKey: function(e) {
                return this.options.excludeHasLiedLanguages || e.addPreprocessedComponent({
                    key: "has_lied_languages",
                    value: this.getHasLiedLanguages()
                }), e
            },
            hasLiedResolutionKey: function(e) {
                return this.options.excludeHasLiedResolution || e.addPreprocessedComponent({
                    key: "has_lied_resolution",
                    value: this.getHasLiedResolution()
                }), e
            },
            hasLiedOsKey: function(e) {
                return this.options.excludeHasLiedOs || e.addPreprocessedComponent({
                    key: "has_lied_os",
                    value: this.getHasLiedOs()
                }), e
            },
            hasLiedBrowserKey: function(e) {
                return this.options.excludeHasLiedBrowser || e.addPreprocessedComponent({
                    key: "has_lied_browser",
                    value: this.getHasLiedBrowser()
                }), e
            },
            fontsKey: function(e, t) {
                return this.options.excludeJsFonts ? this.flashFontsKey(e, t) : this.jsFontsKey(e, t)
            },
            flashFontsKey: function(e, t) {
                return this.options.excludeFlashFonts ? t(e) : this.hasSwfObjectLoaded() && this.hasMinFlashInstalled() ? void 0 === this.options.swfPath ? t(e) : void this.loadSwfAndDetectFonts(function(i) {
                    e.addPreprocessedComponent({
                        key: "swf_fonts",
                        value: i.join(";")
                    }), t(e)
                }) : t(e)
            },
            jsFontsKey: function(e, t) {
                var i = this;
                return setTimeout(function() {
                    var o = ["monospace", "sans-serif", "serif"],
                        n = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"];
                    i.options.extendedJsFonts && (n = n.concat(["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"])), n = (n = n.concat(i.options.userDefinedFonts)).filter(function(e, t) {
                        return n.indexOf(e) === t
                    });
                    var a = document.getElementsByTagName("body")[0],
                        s = document.createElement("div"),
                        r = document.createElement("div"),
                        l = {},
                        d = {},
                        c = function() {
                            var e = document.createElement("span");
                            return e.style.position = "absolute", e.style.left = "-9999px", e.style.fontSize = "72px", e.style.fontStyle = "normal", e.style.fontWeight = "normal", e.style.letterSpacing = "normal", e.style.lineBreak = "auto", e.style.lineHeight = "normal", e.style.textTransform = "none", e.style.textAlign = "left", e.style.textDecoration = "none", e.style.textShadow = "none", e.style.whiteSpace = "normal", e.style.wordBreak = "normal", e.style.wordSpacing = "normal", e.innerHTML = "mmmmmmmmmmlli", e
                        },
                        p = function() {
                            for (var e = [], t = 0, i = o.length; t < i; t++) {
                                var n = c();
                                n.style.fontFamily = o[t], s.appendChild(n), e.push(n)
                            }
                            return e
                        }();
                    a.appendChild(s);
                    for (var h = 0, u = o.length; h < u; h++) l[o[h]] = p[h].offsetWidth, d[o[h]] = p[h].offsetHeight;
                    var f = function() {
                        for (var e, t, i, a = {}, s = 0, l = n.length; s < l; s++) {
                            for (var d = [], p = 0, h = o.length; p < h; p++) {
                                var u = (e = n[s], t = o[p], i = void 0, (i = c()).style.fontFamily = "'" + e + "'," + t, i);
                                r.appendChild(u), d.push(u)
                            }
                            a[n[s]] = d
                        }
                        return a
                    }();
                    a.appendChild(r);
                    for (var g = [], m = 0, v = n.length; m < v; m++)(function(e) {
                        for (var t = !1, i = 0; i < o.length; i++)
                            if (t = e[i].offsetWidth !== l[o[i]] || e[i].offsetHeight !== d[o[i]]) return t;
                        return t
                    })(f[n[m]]) && g.push(n[m]);
                    a.removeChild(r), a.removeChild(s), e.addPreprocessedComponent({
                        key: "js_fonts",
                        value: g
                    }), t(e)
                }, 1)
            },
            pluginsKey: function(e) {
                return this.options.excludePlugins || (this.isIE() ? this.options.excludeIEPlugins || e.addPreprocessedComponent({
                    key: "ie_plugins",
                    value: this.getIEPlugins()
                }) : e.addPreprocessedComponent({
                    key: "regular_plugins",
                    value: this.getRegularPlugins()
                })), e
            },
            getRegularPlugins: function() {
                var e = [];
                if (navigator.plugins)
                    for (var t = 0, i = navigator.plugins.length; t < i; t++) navigator.plugins[t] && e.push(navigator.plugins[t]);
                return this.pluginsShouldBeSorted() && (e = e.sort(function(e, t) {
                    return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                })), this.map(e, function(e) {
                    var t = this.map(e, function(e) {
                        return [e.type, e.suffixes].join("~")
                    }).join(",");
                    return [e.name, e.description, t].join("::")
                }, this)
            },
            getIEPlugins: function() {
                var e = [];
                return (Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") || "ActiveXObject" in window) && (e = this.map(["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl", "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"], function(e) {
                    try {
                        return new window.ActiveXObject(e), e
                    } catch (e) {
                        return null
                    }
                })), navigator.plugins && (e = e.concat(this.getRegularPlugins())), e
            },
            pluginsShouldBeSorted: function() {
                for (var e = !1, t = 0, i = this.options.sortPluginsFor.length; t < i; t++) {
                    var o = this.options.sortPluginsFor[t];
                    if (navigator.userAgent.match(o)) {
                        e = !0;
                        break
                    }
                }
                return e
            },
            touchSupportKey: function(e) {
                return this.options.excludeTouchSupport || e.addPreprocessedComponent({
                    key: "touch_support",
                    value: this.getTouchSupport()
                }), e
            },
            hardwareConcurrencyKey: function(e) {
                return this.options.excludeHardwareConcurrency || e.addPreprocessedComponent({
                    key: "hardware_concurrency",
                    value: this.getHardwareConcurrency()
                }), e
            },
            hasSessionStorage: function() {
                try {
                    return !!window.sessionStorage
                } catch (e) {
                    return !0
                }
            },
            hasLocalStorage: function() {
                try {
                    return !!window.localStorage
                } catch (e) {
                    return !0
                }
            },
            hasIndexedDB: function() {
                try {
                    return !!window.indexedDB
                } catch (e) {
                    return !0
                }
            },
            getHardwareConcurrency: function() {
                return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : "unknown"
            },
            getNavigatorCpuClass: function() {
                return navigator.cpuClass ? navigator.cpuClass : "unknown"
            },
            getNavigatorPlatform: function() {
                return navigator.platform ? navigator.platform : "unknown"
            },
            getDoNotTrack: function() {
                return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : "unknown"
            },
            getTouchSupport: function() {
                var e = 0,
                    t = !1;
                void 0 !== navigator.maxTouchPoints ? e = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (e = navigator.msMaxTouchPoints);
                try {
                    document.createEvent("TouchEvent"), t = !0
                } catch (e) {}
                return [e, t, "ontouchstart" in window]
            },
            getCanvasFp: function() {
                var e = [],
                    t = document.createElement("canvas");
                t.width = 2e3, t.height = 200, t.style.display = "inline";
                var i = t.getContext("2d");
                return i.rect(0, 0, 10, 10), i.rect(2, 2, 6, 6), e.push("canvas winding:" + (!1 === i.isPointInPath(5, 5, "evenodd") ? "yes" : "no")), i.textBaseline = "alphabetic", i.fillStyle = "#f60", i.fillRect(125, 1, 62, 20), i.fillStyle = "#069", this.options.dontUseFakeFontInCanvas ? i.font = "11pt Arial" : i.font = "11pt no-real-font-123", i.fillText("Cwm fjordbank glyphs vext quiz, ", 2, 15), i.fillStyle = "rgba(102, 204, 0, 0.2)", i.font = "18pt Arial", i.fillText("Cwm fjordbank glyphs vext quiz, ", 4, 45), i.globalCompositeOperation = "multiply", i.fillStyle = "rgb(255,0,255)", i.beginPath(), i.arc(50, 50, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(0,255,255)", i.beginPath(), i.arc(100, 50, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(255,255,0)", i.beginPath(), i.arc(75, 100, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(255,0,255)", i.arc(75, 75, 75, 0, 2 * Math.PI, !0), i.arc(75, 75, 25, 0, 2 * Math.PI, !0), i.fill("evenodd"), t.toDataURL && e.push("canvas fp:" + t.toDataURL()), e.join("~")
            },
            getWebglFp: function() {
                var e, t = function(t) {
                    return e.clearColor(0, 0, 0, 1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), "[" + t[0] + ", " + t[1] + "]"
                };
                if (!(e = this.getWebglCanvas())) return null;
                var i = [],
                    o = e.createBuffer();
                e.bindBuffer(e.ARRAY_BUFFER, o);
                var n = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                e.bufferData(e.ARRAY_BUFFER, n, e.STATIC_DRAW), o.itemSize = 3, o.numItems = 3;
                var a = e.createProgram(),
                    s = e.createShader(e.VERTEX_SHADER);
                e.shaderSource(s, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"), e.compileShader(s);
                var r = e.createShader(e.FRAGMENT_SHADER);
                e.shaderSource(r, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"), e.compileShader(r), e.attachShader(a, s), e.attachShader(a, r), e.linkProgram(a), e.useProgram(a), a.vertexPosAttrib = e.getAttribLocation(a, "attrVertex"), a.offsetUniform = e.getUniformLocation(a, "uniformOffset"), e.enableVertexAttribArray(a.vertexPosArray), e.vertexAttribPointer(a.vertexPosAttrib, o.itemSize, e.FLOAT, !1, 0, 0), e.uniform2f(a.offsetUniform, 1, 1), e.drawArrays(e.TRIANGLE_STRIP, 0, o.numItems);
                try {
                    i.push(e.canvas.toDataURL())
                } catch (e) {}
                i.push("extensions:" + (e.getSupportedExtensions() || []).join(";")), i.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))), i.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))), i.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)), i.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")), i.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)), i.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)), i.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)), i.push("webgl max anisotropy:" + function(e) {
                    var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                    if (t) {
                        var i = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                        return 0 === i && (i = 2), i
                    }
                    return null
                }(e)), i.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)), i.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)), i.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)), i.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)), i.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), i.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)), i.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)), i.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)), i.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)), i.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)), i.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))), i.push("webgl red bits:" + e.getParameter(e.RED_BITS)), i.push("webgl renderer:" + e.getParameter(e.RENDERER)), i.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)), i.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)), i.push("webgl vendor:" + e.getParameter(e.VENDOR)), i.push("webgl version:" + e.getParameter(e.VERSION));
                try {
                    var l = e.getExtension("WEBGL_debug_renderer_info");
                    l && (i.push("webgl unmasked vendor:" + e.getParameter(l.UNMASKED_VENDOR_WEBGL)), i.push("webgl unmasked renderer:" + e.getParameter(l.UNMASKED_RENDERER_WEBGL)))
                } catch (e) {}
                return e.getShaderPrecisionFormat ? (i.push("webgl vertex shader high float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision), i.push("webgl vertex shader high float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).rangeMin), i.push("webgl vertex shader high float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).rangeMax), i.push("webgl vertex shader medium float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision), i.push("webgl vertex shader medium float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).rangeMin), i.push("webgl vertex shader medium float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).rangeMax), i.push("webgl vertex shader low float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).precision), i.push("webgl vertex shader low float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).rangeMin), i.push("webgl vertex shader low float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).rangeMax), i.push("webgl fragment shader high float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision), i.push("webgl fragment shader high float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).rangeMin), i.push("webgl fragment shader high float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).rangeMax), i.push("webgl fragment shader medium float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision), i.push("webgl fragment shader medium float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).rangeMin), i.push("webgl fragment shader medium float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).rangeMax), i.push("webgl fragment shader low float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).precision), i.push("webgl fragment shader low float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).rangeMin), i.push("webgl fragment shader low float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).rangeMax), i.push("webgl vertex shader high int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).precision), i.push("webgl vertex shader high int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).rangeMin), i.push("webgl vertex shader high int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).rangeMax), i.push("webgl vertex shader medium int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).precision), i.push("webgl vertex shader medium int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).rangeMin), i.push("webgl vertex shader medium int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).rangeMax), i.push("webgl vertex shader low int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).precision), i.push("webgl vertex shader low int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).rangeMin), i.push("webgl vertex shader low int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).rangeMax), i.push("webgl fragment shader high int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).precision), i.push("webgl fragment shader high int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).rangeMin), i.push("webgl fragment shader high int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).rangeMax), i.push("webgl fragment shader medium int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).precision), i.push("webgl fragment shader medium int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).rangeMin), i.push("webgl fragment shader medium int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).rangeMax), i.push("webgl fragment shader low int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).precision), i.push("webgl fragment shader low int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).rangeMin), i.push("webgl fragment shader low int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).rangeMax), i.join("~")) : i.join("~")
            },
            getWebglVendorAndRenderer: function() {
                try {
                    var e = this.getWebglCanvas(),
                        t = e.getExtension("WEBGL_debug_renderer_info");
                    return e.getParameter(t.UNMASKED_VENDOR_WEBGL) + "~" + e.getParameter(t.UNMASKED_RENDERER_WEBGL)
                } catch (e) {
                    return null
                }
            },
            getAdBlock: function() {
                var e = document.createElement("div");
                e.innerHTML = "&nbsp;", e.className = "adsbox";
                var t = !1;
                try {
                    document.body.appendChild(e), t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight, document.body.removeChild(e)
                } catch (e) {
                    t = !1
                }
                return t
            },
            getHasLiedLanguages: function() {
                if (void 0 !== navigator.languages) try {
                    if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2)) return !0
                } catch (e) {
                    return !0
                }
                return !1
            },
            getHasLiedResolution: function() {
                return window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight
            },
            getHasLiedOs: function() {
                var e, t = navigator.userAgent.toLowerCase(),
                    i = navigator.oscpu,
                    o = navigator.platform.toLowerCase();
                if (e = t.indexOf("windows phone") >= 0 ? "Windows Phone" : t.indexOf("win") >= 0 ? "Windows" : t.indexOf("android") >= 0 ? "Android" : t.indexOf("linux") >= 0 ? "Linux" : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 ? "iOS" : t.indexOf("mac") >= 0 ? "Mac" : "Other", ("ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e) return !0;
                if (void 0 !== i) {
                    if ((i = i.toLowerCase()).indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e) return !0;
                    if (i.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e) return !0;
                    if (i.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e) return !0;
                    if ((-1 === i.indexOf("win") && -1 === i.indexOf("linux") && -1 === i.indexOf("mac")) != ("Other" === e)) return !0
                }
                return o.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e || (o.indexOf("linux") >= 0 || o.indexOf("android") >= 0 || o.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e || (o.indexOf("mac") >= 0 || o.indexOf("ipad") >= 0 || o.indexOf("ipod") >= 0 || o.indexOf("iphone") >= 0) && "Mac" !== e && "iOS" !== e || (-1 === o.indexOf("win") && -1 === o.indexOf("linux") && -1 === o.indexOf("mac")) != ("Other" === e) || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e
            },
            getHasLiedBrowser: function() {
                var e, t = navigator.userAgent.toLowerCase(),
                    i = navigator.productSub;
                if (("Chrome" == (e = t.indexOf("firefox") >= 0 ? "Firefox" : t.indexOf("opera") >= 0 || t.indexOf("opr") >= 0 ? "Opera" : t.indexOf("chrome") >= 0 ? "Chrome" : t.indexOf("safari") >= 0 ? "Safari" : t.indexOf("trident") >= 0 ? "Internet Explorer" : "Other") || "Safari" === e || "Opera" === e) && "20030107" !== i) return !0;
                var o, n = eval.toString().length;
                if (37 === n && "Safari" !== e && "Firefox" !== e && "Other" !== e) return !0;
                if (39 === n && "Internet Explorer" !== e && "Other" !== e) return !0;
                if (33 === n && "Chrome" !== e && "Opera" !== e && "Other" !== e) return !0;
                try {
                    throw "a"
                } catch (e) {
                    try {
                        e.toSource(), o = !0
                    } catch (e) {
                        o = !1
                    }
                }
                return !(!o || "Firefox" === e || "Other" === e)
            },
            isCanvasSupported: function() {
                var e = document.createElement("canvas");
                return !(!e.getContext || !e.getContext("2d"))
            },
            isWebGlSupported: function() {
                if (!this.isCanvasSupported()) return !1;
                var e = this.getWebglCanvas();
                return !!window.WebGLRenderingContext && !!e
            },
            isIE: function() {
                return "Microsoft Internet Explorer" === navigator.appName || !("Netscape" !== navigator.appName || !/Trident/.test(navigator.userAgent))
            },
            hasSwfObjectLoaded: function() {
                return void 0 !== window.swfobject
            },
            hasMinFlashInstalled: function() {
                return window.swfobject.hasFlashPlayerVersion("9.0.0")
            },
            addFlashDivNode: function() {
                var e = document.createElement("div");
                e.setAttribute("id", this.options.swfContainerId), document.body.appendChild(e)
            },
            loadSwfAndDetectFonts: function(e) {
                var t = "___fp_swf_loaded";
                window[t] = function(t) {
                    e(t)
                };
                var i = this.options.swfContainerId;
                this.addFlashDivNode();
                var o = {
                    onReady: t
                };
                window.swfobject.embedSWF(this.options.swfPath, i, "1", "1", "9.0.0", !1, o, {
                    allowScriptAccess: "always",
                    menu: "false"
                }, {})
            },
            getWebglCanvas: function() {
                var e = document.createElement("canvas"),
                    t = null;
                try {
                    t = e.getContext("webgl") || e.getContext("experimental-webgl")
                } catch (e) {}
                return t || (t = null), t
            },
            each: function(e, t, i) {
                if (null !== e)
                    if (this.nativeForEach && e.forEach === this.nativeForEach) e.forEach(t, i);
                    else if (e.length === +e.length) {
                    for (var o = 0, n = e.length; o < n; o++)
                        if (t.call(i, e[o], o, e) === {}) return
                } else
                    for (var a in e)
                        if (e.hasOwnProperty(a) && t.call(i, e[a], a, e) === {}) return
            },
            map: function(e, t, i) {
                var o = [];
                return null == e ? o : this.nativeMap && e.map === this.nativeMap ? e.map(t, i) : (this.each(e, function(e, n, a) {
                    o[o.length] = t.call(i, e, n, a)
                }), o)
            },
            x64Add: function(e, t) {
                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                var i = [0, 0, 0, 0];
                return i[3] += e[3] + t[3], i[2] += i[3] >>> 16, i[3] &= 65535, i[2] += e[2] + t[2], i[1] += i[2] >>> 16, i[2] &= 65535, i[1] += e[1] + t[1], i[0] += i[1] >>> 16, i[1] &= 65535, i[0] += e[0] + t[0], i[0] &= 65535, [i[0] << 16 | i[1], i[2] << 16 | i[3]]
            },
            x64Multiply: function(e, t) {
                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                var i = [0, 0, 0, 0];
                return i[3] += e[3] * t[3], i[2] += i[3] >>> 16, i[3] &= 65535, i[2] += e[2] * t[3], i[1] += i[2] >>> 16, i[2] &= 65535, i[2] += e[3] * t[2], i[1] += i[2] >>> 16, i[2] &= 65535, i[1] += e[1] * t[3], i[0] += i[1] >>> 16, i[1] &= 65535, i[1] += e[2] * t[2], i[0] += i[1] >>> 16, i[1] &= 65535, i[1] += e[3] * t[1], i[0] += i[1] >>> 16, i[1] &= 65535, i[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0], i[0] &= 65535, [i[0] << 16 | i[1], i[2] << 16 | i[3]]
            },
            x64Rotl: function(e, t) {
                return 32 == (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32, [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
            },
            x64LeftShift: function(e, t) {
                return 0 == (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
            },
            x64Xor: function(e, t) {
                return [e[0] ^ t[0], e[1] ^ t[1]]
            },
            x64Fmix: function(e) {
                return e = this.x64Xor(e, [0, e[0] >>> 1]), e = this.x64Multiply(e, [4283543511, 3981806797]), e = this.x64Xor(e, [0, e[0] >>> 1]), e = this.x64Multiply(e, [3301882366, 444984403]), e = this.x64Xor(e, [0, e[0] >>> 1])
            },
            x64hash128: function(e, t) {
                e = e || "", t = t || 0;
                for (var i = e.length % 16, o = e.length - i, n = [0, t], a = [0, t], s = [0, 0], r = [0, 0], l = [2277735313, 289559509], d = [1291169091, 658871167], c = 0; c < o; c += 16) s = [255 & e.charCodeAt(c + 4) | (255 & e.charCodeAt(c + 5)) << 8 | (255 & e.charCodeAt(c + 6)) << 16 | (255 & e.charCodeAt(c + 7)) << 24, 255 & e.charCodeAt(c) | (255 & e.charCodeAt(c + 1)) << 8 | (255 & e.charCodeAt(c + 2)) << 16 | (255 & e.charCodeAt(c + 3)) << 24], r = [255 & e.charCodeAt(c + 12) | (255 & e.charCodeAt(c + 13)) << 8 | (255 & e.charCodeAt(c + 14)) << 16 | (255 & e.charCodeAt(c + 15)) << 24, 255 & e.charCodeAt(c + 8) | (255 & e.charCodeAt(c + 9)) << 8 | (255 & e.charCodeAt(c + 10)) << 16 | (255 & e.charCodeAt(c + 11)) << 24], s = this.x64Multiply(s, l), s = this.x64Rotl(s, 31), s = this.x64Multiply(s, d), n = this.x64Xor(n, s), n = this.x64Rotl(n, 27), n = this.x64Add(n, a), n = this.x64Add(this.x64Multiply(n, [0, 5]), [0, 1390208809]), r = this.x64Multiply(r, d), r = this.x64Rotl(r, 33), r = this.x64Multiply(r, l), a = this.x64Xor(a, r), a = this.x64Rotl(a, 31), a = this.x64Add(a, n), a = this.x64Add(this.x64Multiply(a, [0, 5]), [0, 944331445]);
                switch (s = [0, 0], r = [0, 0], i) {
                    case 15:
                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 14)], 48));
                    case 14:
                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 13)], 40));
                    case 13:
                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 12)], 32));
                    case 12:
                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 11)], 24));
                    case 11:
                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 10)], 16));
                    case 10:
                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 9)], 8));
                    case 9:
                        r = this.x64Xor(r, [0, e.charCodeAt(c + 8)]), r = this.x64Multiply(r, d), r = this.x64Rotl(r, 33), r = this.x64Multiply(r, l), a = this.x64Xor(a, r);
                    case 8:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 7)], 56));
                    case 7:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 6)], 48));
                    case 6:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 5)], 40));
                    case 5:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 4)], 32));
                    case 4:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 3)], 24));
                    case 3:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 2)], 16));
                    case 2:
                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 1)], 8));
                    case 1:
                        s = this.x64Xor(s, [0, e.charCodeAt(c)]), s = this.x64Multiply(s, l), s = this.x64Rotl(s, 31), s = this.x64Multiply(s, d), n = this.x64Xor(n, s)
                }
                return n = this.x64Xor(n, [0, e.length]), a = this.x64Xor(a, [0, e.length]), n = this.x64Add(n, a), a = this.x64Add(a, n), n = this.x64Fmix(n), a = this.x64Fmix(a), n = this.x64Add(n, a), a = this.x64Add(a, n), ("00000000" + (n[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (n[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (a[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (a[1] >>> 0).toString(16)).slice(-8)
            }
        }, e.VERSION = "1.8.0", e
    }), $(document).ready(function() {
        $(".stickyHeader").stickyTableHeaders({
            fixedOffset: $("#siteHeader")
        });
        var e = $("#siteSearch");
        e.find("select").change(function() {
            $("#siteSearch-input").unbind().autocomplete("destroy"), bindSearchAutoComplete(), submitSearch("select")
        }), e.submit(function() {
            $("#siteSearch-input").val() && track("Search", "submit", $("#siteSearch-input").val().toLowerCase())
        }), bindSearchAutoComplete(), $("#siteHeader").find("label").click(function(e) {
            var t = $("#" + $(this).attr("for"));
            t.prop("checked") && (e.preventDefault(), t.prop("checked", !1))
        }), $('button[type="submit"]').click(function(e) {
            var t = $(this).parents("form").find(".required");
            t.length && !t.val() && (e.preventDefault(), $(".required").addClass("error").focus())
        }), $("form").on("blur", ".required", function(e) {
            $(this).val() || $(this).addClass("error")
        }).on("focus", ".error", function(e) {
            $(this).removeClass("error")
        }), $("img").unveil(400), $(window).scroll(function() {
            parseInt($(document).scrollTop()) > 200 ? $("#siteHeader").addClass("collapse") : $("#siteHeader").removeClass("collapse")
        }), $(".quickFilter").on("click", function(e) {
            var t = $(this);
            $(window).width() < 768 && !t.hasClass("open") && !t.hasClass("small") && (e.preventDefault(), e.stopPropagation(), t.addClass("open"), $("html").one("click", function(e) {
                $(e.target).closest(".open").length && $(e.target).parent().addClass("selected"), t.removeClass("open")
            }))
        }), "/forum" !== location.href.replace(location.origin, "").substr(0, 6) && $("#siteContainer").find(".tabs").tabs(), $("form[class*='anime'], form[class*='manga']").each(function() {
            this.reset()
        }), $(".readMore").readmore(), $("#notification").find(".ui-dialog-titlebar-close").click(function() {
            $("#notification").slideUp(), document.cookie = "note" + $(this).data("id") + "=viewed"
        }), $("a[href='/sign-up']").click(function() {
            var e = $(this);
            track("Sign up", "click" + (e.parent().hasClass("loggedOut") ? " - header" : ""), e.text())
        }), $(".homepage .button, .homepage .card").click(function() {
            $(this).parents(".challenge-banner") ? track("Challenge", "click", "homepage") : track("hp", "click", $(this).text())
        }), $(".quickFilter a").click(function() {
            track("Quick Filter", "click", $(this).text() || $(this).find("i").attr("class"))
        }), $(".pillApply").click(function() {
            track("Adv Search", "click", $(this).text(), "Filters: " + $(".pillBottle .pill").length)
        }), $("#menuRoot,#siteUser").find("a").click(function() {
            var e = $(this);
            track(e.siblings("ul,nav").length ? "Nav" : "Subnav", "click", e.text())
        }), $(".recoCta").find(".rated").click(function() {
            set_review_rating($(this).attr("id"))
        }), $("#siteContainer").on("click", ".spoilerButton", function() {
            $(this).next().slideToggle("fast")
        })
    }), String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "")
    },
    function() {
        for (var e = 0, t = ["webkit", "moz"], i = 0; i < t.length && !window.requestAnimationFrame; ++i) window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"];
        window.requestAnimationFrame || (window.requestAnimationFrame = function(t, i) {
            var o = (new Date).getTime(),
                n = Math.max(0, 16 - (o - e)),
                a = window.setTimeout(function() {
                    t(o + n)
                }, n);
            return e = o + n, a
        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
            clearTimeout(e)
        })
    }(),
    function(e) {
        e.fn.extend({
            apcomplete: function(t, i, o) {
                if (!e.fn.autocomplete) return this;
                var n = this.autocomplete({
                    minLength: 3,
                    delay: 300,
                    source: function(o, n) {
                        e.get("/autocomplete.php?type=" + t + (i ? "" : "&show_slug=false"), {
                            q: o.term
                        }, function(t, i) {
                            n(e.parseJSON(t))
                        })
                    }
                }).keydown(function(t) {
                    13 === t.keyCode && (e(this).siblings("button").click(), e(this).autocomplete("close"))
                }).on("autocompleteselect", function(e, t) {
                    t.item.value = t.item.name
                });
                return null != n && null != n.data("ui-autocomplete") && n.each(function() {
                    e(this).data("ui-autocomplete")._renderItem = function(t, n) {
                        return e("<li></li>").data("ui-autocomplete-item", n).append((!i && n.img ? (o ? "<a href='" + n.url + "'>" : "") + "<span><img src='" + n.img + "' /></span>" : "") + String(n.name).replace(new RegExp(this.term, "gi"), "<b>$&</b>") + (o ? "</a>" : "")).appendTo(t)
                    }
                }), n
            }
        })
    }(jQuery),
    function(e) {
        e.fn.circliful = function(t, i) {
            var o = e.extend({
                foregroundColor: "#3498DB",
                backgroundColor: "#ccc",
                pointColor: "none",
                fillColor: "none",
                foregroundBorderWidth: 15,
                backgroundBorderWidth: 15,
                pointSize: 28.5,
                fontColor: "#aaa",
                percent: 75,
                animation: 1,
                animationStep: 5,
                icon: "none",
                iconSize: "30",
                iconColor: "#ccc",
                iconPosition: "top",
                target: 0,
                start: 0,
                showPercent: 1,
                percentageTextSize: 22,
                textAdditionalCss: "",
                targetPercent: 0,
                targetTextSize: 17,
                targetColor: "#2980B9",
                text: null,
                textStyle: null,
                textColor: "#666",
                multiPercentage: 0,
                percentages: null,
                textBelow: !1,
                noPercentageSign: !1,
                replacePercentageByText: null,
                halfCircle: !1,
                animateInView: !1
            }, t);
            return this.each(function() {
                function t() {
                    var e = window.setInterval(function() {
                        w >= T ? (window.clearInterval(e), b = 1, "function" == typeof i && i.call(this)) : (w += y, x += k), w / 3.6 >= d && 1 == b && (w = 3.6 * d), x > o.target && 1 == b && (x = o.target), null == o.replacePercentageByText && (C = o.halfCircle ? parseInt(100 * w / 360 * 2) : parseInt(100 * w / 360)), g.attr("stroke-dasharray", w + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%")) : m.text(x)
                    }.bind(g), v)
                }

                function n() {
                    var t = -1 != navigator.userAgent.toLowerCase().indexOf("webkit") ? "body" : "html",
                        i = e(t).scrollTop(),
                        o = i + e(window).height(),
                        n = Math.round(g.offset().top),
                        a = n + g.height();
                    return n < o && a > i
                }

                function a() {
                    g.hasClass("start") || n(g) && (g.addClass("start"), setTimeout(t, 250))
                }
                var s, r, l = e(this),
                    d = o.percent,
                    c = 83,
                    p = 100,
                    h = 100,
                    u = 100,
                    f = o.backgroundBorderWidth;
                if (o.halfCircle ? "left" == o.iconPosition ? (p = 80, c = 100, u = 117, h = 100) : o.halfCircle && (c = 80, h = 100) : "bottom" == o.iconPosition ? (c = 124, h = 95) : "left" == o.iconPosition ? (p = 80, c = 110, u = 117) : "middle" == o.iconPosition ? 1 == o.multiPercentage ? "object" == typeof o.percentages ? f = 30 : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 228, h = 47) : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 175, h = 35) : "right" == o.iconPosition && (p = 120, c = 110, u = 80), o.targetPercent > 0 && (h = 95, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>', s += '<text text-anchor="middle" x="' + u + '" y="120" style="font-size: ' + o.targetTextSize + 'px;" fill="' + o.targetColor + '">' + o.targetPercent + (o.noPercentageSign && null == o.replacePercentageByText ? "" : "%") + "</text>", s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.backgroundColor + '" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />', s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.targetColor + '" stroke-width="3" stroke-dasharray="' + 3.6 * o.targetPercent + ', 20000" transform="rotate(-90,100,100)" />'), null != o.text && (o.halfCircle ? o.textBelow ? s += '<text text-anchor="middle" x="100" y="120" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>") : o.textBelow ? s += '<text text-anchor="middle" x="100" y="190" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>")), "none" != o.icon && (r = '<text text-anchor="middle" x="' + p + '" y="' + c + '" class="icon" style="font-size: ' + o.iconSize + 'px" fill="' + o.iconColor + '">&#x' + o.icon + "</text>"), o.halfCircle) {
                    l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-180,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"))
                } else l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"));
                var g = l.find(".circle"),
                    m = l.find(".timer"),
                    v = 30,
                    w = 0,
                    y = o.animationStep,
                    b = 0,
                    x = 0,
                    k = 0,
                    C = d,
                    T = 3.6 * d;
                o.halfCircle && (T = 3.6 * d / 2), null != o.replacePercentageByText && (C = o.replacePercentageByText), o.start > 0 && o.target > 0 && (d = o.start / (o.target / 100), k = o.target / 100), 1 == o.animation ? o.animateInView ? e(window).scroll(function() {
                    a()
                }) : t() : (g.attr("stroke-dasharray", T + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign ? "" : "%")) : m.text(o.target))
            })
        }
    }(jQuery), eval(function(e, t, i, o, n, a) {
        if (n = function(e) {
                return (e < 62 ? "" : n(parseInt(e / 62))) + ((e %= 62) > 35 ? String.fromCharCode(e + 29) : e.toString(36))
            }, !"".replace(/^/, String)) {
            for (; i--;) a[n(i)] = o[i] || n(i);
            o = [function(e) {
                return a[e]
            }], n = function() {
                return "\\w+"
            }, i = 1
        }
        for (; i--;) o[i] && (e = e.replace(new RegExp("\\b" + n(i) + "\\b", "g"), o[i]));
        return e
    }("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});", 0, 74, "||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"), 0, {})),
    function(e, t, i, o) {
        "use strict";
        var n = i(e),
            a = i(t),
            s = i.fancybox = function() {
                s.open.apply(this, arguments)
            },
            r = navigator.userAgent.match(/msie/i),
            l = null,
            d = void 0 !== t.createTouch,
            c = function(e) {
                return e && e.hasOwnProperty && e instanceof i
            },
            p = function(e) {
                return e && "string" === i.type(e)
            },
            h = function(e) {
                return p(e) && e.indexOf("%") > 0
            },
            u = function(e) {
                return e && !(e.style.overflow && "hidden" === e.style.overflow) && (e.clientWidth && e.scrollWidth > e.clientWidth || e.clientHeight && e.scrollHeight > e.clientHeight)
            },
            f = function(e, t) {
                var i = parseInt(e, 10) || 0;
                return t && h(e) && (i = s.getViewport()[t] / 100 * i), Math.ceil(i)
            },
            g = function(e, t) {
                return f(e, t) + "px"
            };
        i.extend(s, {
            version: "2.1.4",
            defaults: {
                padding: 15,
                margin: 20,
                width: 800,
                height: 600,
                minWidth: 100,
                minHeight: 100,
                maxWidth: 9999,
                maxHeight: 9999,
                autoSize: !0,
                autoHeight: !1,
                autoWidth: !1,
                autoResize: !0,
                autoCenter: !d,
                fitToView: !0,
                aspectRatio: !1,
                topRatio: .5,
                leftRatio: .5,
                scrolling: "yes",
                arrows: !0,
                closeBtn: !0,
                closeClick: !1,
                nextClick: !1,
                mouseWheel: !0,
                preload: 3,
                loop: !0,
                ajax: {
                    dataType: "html",
                    headers: {
                        "X-fancyBox": !0
                    }
                },
                keys: {
                    next: {
                        13: "left",
                        34: "up",
                        39: "left",
                        40: "up"
                    },
                    prev: {
                        8: "right",
                        33: "down",
                        37: "right",
                        38: "down"
                    },
                    close: [27],
                    toggle: [70]
                },
                direction: {
                    next: "left",
                    prev: "right"
                },
                scrollOutside: !0,
                index: 0,
                type: "image",
                href: null,
                content: null,
                title: null,
                tpl: {
                    wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                    image: '<img class="fancybox-image" src="{href}" alt="{alt}" />',
                    error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                    closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                    next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                    prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
                },
                openEffect: "elastic",
                openSpeed: 250,
                openEasing: "swing",
                openMethod: "zoomIn",
                closeSpeed: 250,
                closeEasing: "swing",
                closeOpacity: !0,
                closeMethod: "zoomOut",
                nextMethod: "changeIn",
                prevEffect: "none",
                prevSpeed: 250,
                prevEasing: "swing",
                prevMethod: "changeOut",
                helpers: {
                    overlay: !0,
                    title: !0
                },
                onCancel: i.noop,
                beforeLoad: i.noop,
                afterLoad: i.noop,
                beforeShow: i.noop,
                afterShow: i.noop,
                beforeChange: i.noop,
                beforeClose: i.noop,
                afterClose: i.noop
            },
            group: {},
            opts: {},
            previous: null,
            coming: null,
            current: null,
            isActive: !1,
            isOpen: !1,
            isOpened: !1,
            wrap: null,
            skin: null,
            outer: null,
            inner: null,
            imgPreload: null,
            transitions: {},
            helpers: {},
            open: function(e, t) {
                if (e && (i.isPlainObject(t) || (t = {}), !1 !== s.close(!0))) return i.isArray(e) || (e = c(e) ? i(e).get() : [e]), i.each(e, function(o, n) {
                    var a, s, r, l, d = {};
                    "object" === i.type(n) && (n.nodeType && (n = i(n)), d = c(n) ? {
                        href: n.data("fancybox-href") || n.attr("href"),
                        title: n.data("fancybox-title") || n.attr("title"),
                        isDom: !0,
                        element: n
                    } : n), a = t.href || d.href || (p(n) ? n : null), s = void 0 !== t.title ? t.title : d.title || "", r = t.content || d.content, l = r ? "html" : t.type || d.type, r || ("inline" === l ? a ? r = i(p(a) ? a.replace(/.*(?=#[^\s]+$)/, "") : a) : d.isDom && (r = n) : "html" === l ? r = a : l || a || !d.isDom || (l = "inline", r = n)), i.extend(d, {
                        href: a,
                        type: l,
                        content: r,
                        title: s,
                        selector: void 0
                    }), e[o] = d
                }), s.opts = i.extend(!0, {}, s.defaults, t), void 0 !== t.keys && (s.opts.keys = !!t.keys && i.extend({}, s.defaults.keys, t.keys)), s.group = e, s._start(s.opts.index)
            },
            cancel: function() {
                var e = s.coming;
                e && !1 !== s.trigger("onCancel") && (s.hideLoading(), s.imgPreload && (s.imgPreload.onload = s.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), s.coming = null, s.current || s._afterZoomOut(e))
            },
            close: function(e) {
                s.cancel(), !1 !== s.trigger("beforeClose") && (s.unbindEvents(), s.isActive && (s.isOpen && !0 !== e ? (s.isOpen = s.isOpened = !1, s.isClosing = !0, i(".fancybox-item, .fancybox-nav").remove(), s.wrap.stop(!0, !0).removeClass("fancybox-opened"), s.transitions[s.current.closeMethod]()) : (i(".fancybox-wrap").stop(!0).trigger("onReset").remove(), s._afterZoomOut())))
            },
            next: function(e) {
                var t = s.current;
                t && (p(e) || (e = t.direction.next), s.jumpto(t.index + 1, e, "next"))
            },
            prev: function(e) {
                var t = s.current;
                t && (p(e) || (e = t.direction.prev), s.jumpto(t.index - 1, e, "prev"))
            },
            jumpto: function(e, t, i) {
                var o = s.current;
                o && (e = f(e), s.direction = t || o.direction[e >= o.index ? "next" : "prev"], s.router = i || "jumpto", o.loop && (e < 0 && (e = o.group.length + e % o.group.length), e %= o.group.length), void 0 !== o.group[e] && (s.cancel(), s._start(e)))
            },
            reposition: function(e, t) {
                var o, n = s.current,
                    a = n ? n.wrap : null;
                a && (o = s._getPosition(t), e && "scroll" === e.type ? (delete o.position, a.stop(!0, !0).animate(o, 200)) : (a.css(o), n.pos = i.extend({}, n.dim, o)))
            },
            update: function(e) {
                var t = e && e.type,
                    i = !t || "orientationchange" === t;
                i && (clearTimeout(l), l = null), s.isOpen && !l && (l = setTimeout(function() {
                    var o = s.current;
                    o && !s.isClosing && (s.wrap.removeClass("fancybox-tmp"), (i || "load" === t || "resize" === t && o.autoResize) && s._setDimension(), "scroll" === t && o.canShrink || s.reposition(e), s.trigger("onUpdate"), l = null)
                }, i && !d ? 0 : 300))
            },
            toggle: function(e) {
                s.isOpen && (s.current.fitToView = "boolean" === i.type(e) ? e : !s.current.fitToView, d && (s.wrap.removeAttr("style").addClass("fancybox-tmp"), s.trigger("onUpdate")), s.update())
            },
            hideLoading: function() {
                a.unbind(".loading"), i("#fancybox-loading").remove()
            },
            showLoading: function() {
                s.hideLoading(), i('<div id="fancybox-loading"><div></div></div>').appendTo("body"), a.bind("keydown.loading", function(e) {
                    27 === (e.which || e.keyCode) && (e.preventDefault(), s.cancel())
                })
            },
            getViewport: function() {
                var t = s.current && s.current.locked || !1,
                    i = {
                        x: n.scrollLeft(),
                        y: n.scrollTop()
                    };
                return t ? (i.w = t[0].clientWidth, i.h = t[0].clientHeight) : (i.w = d && e.innerWidth ? e.innerWidth : n.width(), i.h = d && e.innerHeight ? e.innerHeight : n.height()), i
            },
            unbindEvents: function() {
                s.wrap && c(s.wrap) && s.wrap.unbind(".fb"), a.unbind(".fb"), n.unbind(".fb")
            },
            bindEvents: function() {
                var e, t = s.current;
                t && (n.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), s.update), e = t.keys, e && a.bind("keydown.fb", function(o) {
                    var n = o.which || o.keyCode,
                        a = o.target || o.srcElement;
                    if (27 === n && s.coming) return !1;
                    o.ctrlKey || o.altKey || o.shiftKey || o.metaKey || a && (a.type || i(a).is("[contenteditable]")) || i.each(e, function(e, a) {
                        return t.group.length > 1 && void 0 !== a[n] ? (s[e](a[n]), o.preventDefault(), !1) : i.inArray(n, a) > -1 ? (s[e](), o.preventDefault(), !1) : void 0
                    })
                }), i.fn.mousewheel && t.mouseWheel && s.wrap.bind("mousewheel.fb", function(e, o, n, a) {
                    for (var r = e.target || null, l = i(r), d = !1; l.length && !(d || l.is(".fancybox-skin") || l.is(".fancybox-wrap"));) d = u(l[0]), l = i(l).parent();
                    0 === o || d || s.group.length > 1 && !t.canShrink && (a > 0 || n > 0 ? s.prev(a > 0 ? "down" : "left") : (a < 0 || n < 0) && s.next(a < 0 ? "up" : "right"), e.preventDefault())
                }))
            },
            trigger: function(e, t) {
                var o = t || s.coming || s.current;
                if (o) {
                    if (i.isFunction(o[e]) && !1 === o[e].apply(o, Array.prototype.slice.call(arguments, 1))) return !1;
                    o.helpers && i.each(o.helpers, function(t, n) {
                        n && s.helpers[t] && i.isFunction(s.helpers[t][e]) && (n = i.extend(!0, {}, s.helpers[t].defaults, n), s.helpers[t][e](n, o))
                    }), a.trigger(e)
                }
            },
            isImage: function(e) {
                return p(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)
            },
            _start: function(e) {
                var t, o, n, a, r = {};
                return e = f(e), !!(t = s.group[e] || null) && (r = i.extend(!0, {}, s.opts, t), n = r.margin, a = r.padding, r.margin = [n, n, n, n], r.padding = [a, a, a, a], r.autoSize && (r.autoWidth = r.autoHeight = !0), "auto" === r.width && (r.autoWidth = !0), "auto" === r.height && (r.autoHeight = !0), r.group = s.group, r.index = e, s.coming = r, !1 === s.trigger("beforeLoad") ? void(s.coming = null) : (o = r.type, r.href, o ? (s.isActive = !0, r.autoHeight = r.autoWidth = !1, r.scrolling = "visible", r.aspectRatio = !0, r.wrap = i(r.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + o + " fancybox-tmp ").appendTo(r.parent || "body"), i.extend(r, {
                    skin: i(".fancybox-skin", r.wrap),
                    outer: i(".fancybox-outer", r.wrap),
                    inner: i(".fancybox-inner", r.wrap)
                }), i.each(["Top", "Right", "Bottom", "Left"], function(e, t) {
                    r.skin.css("padding" + t, g(r.padding[e]))
                }), s.trigger("onReady"), void s._loadImage()) : (s.coming = null, !(!s.current || !s.router || "jumpto" === s.router) && (s.current.index = e, s[s.router](s.direction)))))
            },
            _error: function(e) {
                i.extend(s.coming, {
                    type: "html",
                    autoWidth: !0,
                    autoHeight: !0,
                    minWidth: 0,
                    minHeight: 0,
                    scrolling: "no",
                    hasError: e,
                    content: s.coming.tpl.error
                }), s._afterLoad()
            },
            _loadImage: function() {
                var e = s.imgPreload = new Image;
                e.onload = function() {
                    this.onload = this.onerror = null, s.coming.width = this.width, s.coming.height = this.height, s._afterLoad()
                }, e.onerror = function() {
                    this.onload = this.onerror = null, s._error("image")
                }, e.src = s.coming.href, !0 !== e.complete && s.showLoading()
            },
            _preloadImages: function() {
                var e, t, i = s.group,
                    o = s.current,
                    n = i.length,
                    a = o.preload ? Math.min(o.preload, n - 1) : 0;
                for (t = 1; t <= a; t += 1) e = i[(o.index + t) % n], e.href && ((new Image).src = e.href)
            },
            _afterLoad: function() {
                var e, t, o, n, a = s.coming,
                    r = s.current;
                if (s.hideLoading(), a && !1 !== s.isActive) {
                    if (!1 === s.trigger("afterLoad", a, r)) return a.wrap.stop(!0).trigger("onReset").remove(), void(s.coming = null);
                    r && (s.trigger("beforeChange", r), r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), s.unbindEvents(), e = a, t = a.content, a.type, o = a.scrolling, i.extend(s, {
                        wrap: e.wrap,
                        skin: e.skin,
                        outer: e.outer,
                        inner: e.inner,
                        current: e,
                        previous: r
                    }), n = e.href, t = e.tpl.image.replace("{href}", n).replace("{alt}", e.alt), c(t) && t.parent().is(e.inner) || e.inner.append(t), s.trigger("beforeShow"), e.inner.css("overflow", "yes" === o ? "scroll" : "no" === o ? "hidden" : o), s._setDimension(), s.reposition(), s.isOpen = !1, s.coming = null, s.bindEvents(), s.isOpened ? r.prevMethod && s.transitions[r.prevMethod]() : i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(), s.transitions[s.isOpened ? e.nextMethod : e.openMethod](), s._preloadImages()
                }
            },
            _setDimension: function() {
                var e, t, o, n, a, r, l, d, c, p, u, m, v, w = s.getViewport(),
                    y = 0,
                    b = !1,
                    x = !1,
                    k = s.wrap,
                    C = s.skin,
                    T = s.inner,
                    S = s.current,
                    $ = S.width,
                    M = S.height,
                    E = S.minWidth,
                    A = S.minHeight,
                    P = S.maxWidth,
                    O = S.maxHeight,
                    H = S.scrolling,
                    I = S.scrollOutside ? S.scrollbarWidth : 0,
                    D = S.margin,
                    B = f(D[1] + D[3]),
                    L = f(D[0] + D[2]);
                if (k.add(C).add(T).width("auto").height("auto").removeClass("fancybox-tmp"), e = f(C.outerWidth(!0) - C.width()), t = f(C.outerHeight(!0) - C.height()), o = B + e, n = L + t, a = h($) ? (w.w - o) * f($) / 100 : $, r = h(M) ? (w.h - n) * f(M) / 100 : M, (S.autoWidth || S.autoHeight) && (T.addClass("fancybox-tmp"), S.autoWidth || T.width(a), S.autoHeight || T.height(r), S.autoWidth && (a = T.width()), S.autoHeight && (r = T.height()), T.removeClass("fancybox-tmp")), $ = f(a), M = f(r), c = a / r, E = f(h(E) ? f(E, "w") - o : E), P = f(h(P) ? f(P, "w") - o : P), A = f(h(A) ? f(A, "h") - n : A), O = f(h(O) ? f(O, "h") - n : O), l = P, d = O, S.fitToView && (P = Math.min(w.w - o, P), O = Math.min(w.h - n, O)), m = w.w - B, v = w.h - L, S.aspectRatio ? ($ > P && ($ = P, M = f($ / c)), M > O && (M = O, $ = f(M * c)), $ < E && ($ = E, M = f($ / c)), M < A && (M = A, $ = f(M * c))) : ($ = Math.max(E, Math.min($, P)), S.autoHeight && "iframe" !== S.type && (T.width($), M = T.height()), M = Math.max(A, Math.min(M, O))), S.fitToView)
                    if (T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), S.aspectRatio)
                        for (;
                            (p > m || u > v) && $ > E && M > A && !(y++ > 19);) M = Math.max(A, Math.min(O, M - 10)), $ = f(M * c), $ < E && ($ = E, M = f($ / c)), $ > P && ($ = P, M = f($ / c)), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height();
                    else $ = Math.max(E, Math.min($, $ - (p - m))), M = Math.max(A, Math.min(M, M - (u - v)));
                I && "auto" === H && M < r && $ + e + I < m && ($ += I), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), b = (p > m || u > v) && $ > E && M > A, x = S.aspectRatio ? $ < l && M < d && $ < a && M < r : ($ < l || M < d) && ($ < a || M < r), i.extend(S, {
                    dim: {
                        width: g(p),
                        height: g(u)
                    },
                    origWidth: a,
                    origHeight: r,
                    canShrink: b,
                    canExpand: x,
                    wPadding: e,
                    hPadding: t,
                    wrapSpace: u - C.outerHeight(!0),
                    skinSpace: C.height() - M
                }), S.autoHeight && M > A && M < O && !x && T.height("auto")
            },
            _getPosition: function(e) {
                var t = s.current,
                    i = s.getViewport(),
                    o = t.margin,
                    n = s.wrap.width() + o[1] + o[3],
                    a = s.wrap.height() + o[0] + o[2],
                    r = {
                        position: "absolute",
                        top: o[0],
                        left: o[3]
                    };
                return t.autoCenter && t.fixed && !e && a <= i.h && n <= i.w ? r.position = "fixed" : t.locked || (r.top += i.y, r.left += i.x), r.top = g(Math.max(r.top, r.top + (i.h - a) * t.topRatio)), r.left = g(Math.max(r.left, r.left + (i.w - n) * t.leftRatio)), r
            },
            _afterZoomIn: function() {
                var e = s.current;
                e && (s.isOpen = s.isOpened = !0, s.wrap.css("overflow", "visible").addClass("fancybox-opened"), s.update(), (e.closeClick || e.nextClick && s.group.length > 1) && s.inner.css("cursor", "pointer").bind("click.fb", function(t) {
                    i(t.target).is("a") || i(t.target).parent().is("a") || (t.preventDefault(), s[e.closeClick ? "close" : "next"]())
                }), e.closeBtn && i(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb", function(e) {
                    e.preventDefault(), s.close()
                }), e.arrows && s.group.length > 1 && ((e.loop || e.index > 0) && i(e.tpl.prev).appendTo(s.outer).bind("click.fb", s.prev), (e.loop || e.index < s.group.length - 1) && i(e.tpl.next).appendTo(s.outer).bind("click.fb", s.next)), s.trigger("afterShow"))
            },
            _afterZoomOut: function(e) {
                e = e || s.current, i(".fancybox-wrap").trigger("onReset").remove(), i.extend(s, {
                    group: {},
                    opts: {},
                    router: !1,
                    current: null,
                    isActive: !1,
                    isOpened: !1,
                    isOpen: !1,
                    isClosing: !1,
                    wrap: null,
                    skin: null,
                    outer: null,
                    inner: null
                }), s.trigger("afterClose", e)
            }
        }), s.transitions = {
            getOrigPosition: function() {
                var e = s.current,
                    t = e.element,
                    i = e.orig,
                    o = {},
                    n = 50,
                    a = 50,
                    r = e.hPadding,
                    l = e.wPadding,
                    d = s.getViewport();
                return !i && e.isDom && t.is(":visible") && (i = t.find("img:first"), i.length || (i = t)), c(i) ? (o = i.offset(), i.is("img") && (n = i.outerWidth(), a = i.outerHeight())) : (o.top = d.y + (d.h - a) * e.topRatio, o.left = d.x + (d.w - n) * e.leftRatio), ("fixed" === s.wrap.css("position") || e.locked) && (o.top -= d.y, o.left -= d.x), o = {
                    top: g(o.top - r * e.topRatio),
                    left: g(o.left - l * e.leftRatio),
                    width: g(n + l),
                    height: g(a + r)
                }
            },
            step: function(e, t) {
                var i, o, n, a = t.prop,
                    r = s.current,
                    l = r.wrapSpace,
                    d = r.skinSpace;
                "width" !== a && "height" !== a || (i = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), s.isClosing && (i = 1 - i), o = "width" === a ? r.wPadding : r.hPadding, n = e - o, s.skin[a](f("width" === a ? n : n - l * i)), s.inner[a](f("width" === a ? n : n - l * i - d * i)))
            },
            zoomIn: function() {
                var e = s.current,
                    t = e.pos,
                    o = i.extend({
                        opacity: 1
                    }, t);
                delete o.position, t = this.getOrigPosition(), t.opacity = .1, s.wrap.css(t).animate(o, {
                    duration: e.openSpeed,
                    easing: e.openEasing,
                    step: this.step,
                    complete: s._afterZoomIn
                })
            },
            zoomOut: function() {
                var e = s.current,
                    t = this.getOrigPosition();
                t.opacity = .1, s.wrap.animate(t, {
                    duration: e.closeSpeed,
                    easing: e.closeEasing,
                    step: this.step,
                    complete: s._afterZoomOut
                })
            },
            changeIn: function() {
                s.current.pos.opacity = .1, s._afterZoomIn()
            },
            changeOut: function() {
                var e = s.previous,
                    t = {
                        opacity: .1
                    };
                e.wrap.animate(t, {
                    duration: 0,
                    easing: e.prevEasing,
                    complete: function() {
                        i(this).trigger("onReset").remove()
                    }
                })
            }
        }, s.helpers.overlay = {
            defaults: {
                closeClick: !0,
                speedOut: 200,
                showEarly: !0,
                css: {},
                locked: !1,
                fixed: !0
            },
            overlay: null,
            fixed: !0,
            create: function(e) {
                e = i.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = i('<div class="fancybox-overlay fancybox-overlay-fixed"></div>').appendTo("body")
            },
            open: function(e) {
                var t = this;
                e = i.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.overlay.bind("click.overlay", function(e) {
                    i(e.target).hasClass("fancybox-overlay") && (s.isActive ? s.close() : t.close())
                }), this.overlay.css(e.css).show()
            },
            close: function() {
                i(".fancybox-overlay").remove(), n.unbind("resize.overlay"), this.overlay = null, !1 !== this.margin && (i("body").css("margin-right", this.margin), this.margin = !1), this.el && this.el.removeClass("fancybox-lock")
            },
            update: function() {
                var e, i = "100%";
                this.overlay.width(i).height("100%"), r ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), a.width() > e && (i = a.width())) : a.width() > n.width() && (i = a.width()), this.overlay.width(i).height(a.height())
            },
            onReady: function(e, o) {
                i(".fancybox-overlay").stop(!0, !0), this.overlay || (this.margin = (a.height() > n.height() || "scroll" === i("body").css("overflow-y")) && i("body").css("margin-right"), this.el = i(t.all && !t.querySelector ? "html" : "body"), this.create(e)), e.locked && this.fixed && (o.locked = this.overlay.append(o.wrap), o.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments)
            },
            beforeShow: function(e, t) {
                this.open(e)
            },
            onUpdate: function() {},
            afterClose: function(e) {
                this.overlay && !s.isActive && this.overlay.fadeOut(e.speedOut, i.proxy(this.close, this))
            }
        }, s.helpers.title = {
            defaults: {
                type: "float",
                position: "bottom"
            },
            beforeShow: function(e) {
                var t, o = s.current,
                    n = o.title,
                    a = e.type,
                    r = s.inner;
                i.isFunction(n) && (n = n.call(o.element, o)), p(n) && "" !== i.trim(n) && (t = i('<div class="fancybox-title fancybox-title-' + a + '-wrap">' + n + "</div>"), t["top" === e.position ? "prependTo" : "appendTo"](r))
            }
        }, i.fn.fancybox = function(e) {
            var t, o = i(this),
                n = this.selector || "",
                r = function(a) {
                    var r, l, d = i(this).blur(),
                        c = t;
                    a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || d.is(".fancybox-wrap") || (r = e.groupAttr || "data-fancybox-group", l = d.attr(r), l || (r = "rel", l = d.get(0)[r]), l && "" !== l && "nofollow" !== l && (d = n.length ? i(n) : o, d = d.filter("[" + r + '="' + l + '"]'), c = d.index(this)), e.index = c, !1 !== s.open(d, e) && a.preventDefault())
                };
            return e = e || {}, t = e.index || 0, n && !1 !== e.live ? a.undelegate(n, "click.fb-start").delegate(n + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", r) : o.unbind("click.fb-start").bind("click.fb-start", r), this.filter("[data-fancybox-start=1]").trigger("click"), this
        }, a.ready(function() {
            void 0 === i.scrollbarWidth && (i.scrollbarWidth = function() {
                var e = i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
                    t = e.children(),
                    o = t.innerWidth() - t.height(99).innerWidth();
                return e.remove(), o
            }), void 0 === i.support.fixedPosition && (i.support.fixedPosition = function() {
                var e = i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
                    t = 20 === e[0].offsetTop || 15 === e[0].offsetTop;
                return e.remove(), t
            }()), i.extend(s.defaults, {
                scrollbarWidth: i.scrollbarWidth(),
                fixed: i.support.fixedPosition,
                parent: i("body")
            })
        })
    }(window, document, jQuery),
    function(e) {
        function t(t) {
            var i = t || window.event,
                o = [].slice.call(arguments, 1),
                n = 0,
                a = 0,
                s = 0,
                t = e.event.fix(i);
            return t.type = "mousewheel", i.wheelDelta && (n = i.wheelDelta / 120), i.detail && (n = -i.detail / 3), s = n, void 0 !== i.axis && i.axis === i.HORIZONTAL_AXIS && (s = 0, a = -1 * n), void 0 !== i.wheelDeltaY && (s = i.wheelDeltaY / 120), void 0 !== i.wheelDeltaX && (a = -1 * i.wheelDeltaX / 120), o.unshift(t, n, a, s), (e.event.dispatch || e.event.handle).apply(this, o)
        }
        var i = ["DOMMouseScroll", "mousewheel"];
        if (e.event.fixHooks)
            for (var o = i.length; o;) e.event.fixHooks[i[--o]] = e.event.mouseHooks;
        e.event.special.mousewheel = {
            setup: function() {
                if (this.addEventListener)
                    for (var e = i.length; e;) this.addEventListener(i[--e], t, !1);
                else this.onmousewheel = t
            },
            teardown: function() {
                if (this.removeEventListener)
                    for (var e = i.length; e;) this.removeEventListener(i[--e], t, !1);
                else this.onmousewheel = null
            }
        }, e.fn.extend({
            mousewheel: function(e) {
                return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
            },
            unmousewheel: function(e) {
                return this.unbind("mousewheel", e)
            }
        })
    }(jQuery), new function(e) {
        var t = e.separator || "&",
            i = !!e.spaces,
            o = !1 !== e.prefix,
            n = o ? !0 === e.hash ? "#" : "?" : "",
            a = !1 !== e.numbers;
        $.query = new function() {
            var e = function(e, t) {
                    return void 0 != e && (!t || e.constructor == t)
                },
                o = function(e) {
                    for (var t, i = /\[([^[]*)\]/g, o = /^([^[]+)(\[.*\])?$/.exec(e), n = o[1], a = []; t = i.exec(o[2]);) a.push(t[1]);
                    return [n, a]
                },
                s = function(t, i, o) {
                    var n = i.shift();
                    if ("object" != typeof t && (t = null), "" === n)
                        if (t || (t = []), e(t, Array)) t.push(0 == i.length ? o : s(null, i.slice(0), o));
                        else if (e(t, Object)) {
                        for (var a = 0; null != t[a++];);
                        t[--a] = 0 == i.length ? o : s(t[a], i.slice(0), o)
                    } else t = [], t.push(0 == i.length ? o : s(null, i.slice(0), o));
                    else if (n && n.match(/^\s*[0-9]+\s*$/)) {
                        var r = parseInt(n, 10);
                        t || (t = []), t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                    } else {
                        if (!n) return o;
                        var r = n.replace(/^\s*|\s*$/g, "");
                        if (t || (t = {}), e(t, Array)) {
                            for (var l = {}, a = 0; a < t.length; ++a) l[a] = t[a];
                            t = l
                        }
                        t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                    }
                    return t
                },
                r = function(e) {
                    var t = this;
                    return t.keys = {}, e.queryObject ? $.each(e.get(), function(e, i) {
                        t.SET(e, i)
                    }) : $.each(arguments, function() {
                        var e = "" + this;
                        e = e.replace(/^[?#]/, ""), e = e.replace(/[;&]$/, ""), i && (e = e.replace(/[+]/g, " ")), $.each(e.split(/[&;]/), function() {
                            var e = decodeURIComponent(this.split("=")[0] || ""),
                                i = decodeURIComponent(this.split("=")[1] || "");
                            e && (a && (/^[+-]?[0-9]+\.[0-9]*$/.test(i) ? i = parseFloat(i) : /^[+-]?[0-9]+$/.test(i) && (i = parseInt(i, 10))), i = !i && 0 !== i || i, t.SET(e, i))
                        })
                    }), t
                };
            return r.prototype = {
                queryObject: !0,
                has: function(t, i) {
                    return e(this.get(t), i)
                },
                GET: function(t) {
                    if (!e(t)) return this.keys;
                    for (var i = o(t), n = i[0], a = i[1], s = this.keys[n]; null != s && 0 != a.length;) s = s[a.shift()];
                    return "number" == typeof s ? s : s || ""
                },
                get: function(t) {
                    var i = this.GET(t);
                    return e(i, Object) ? $.extend(!0, {}, i) : e(i, Array) ? i.slice(0) : i
                },
                SET: function(t, i, n) {
                    if (i && n != i) {
                        var a = o(t),
                            r = a[0];
                        this.keys[r] = s(this.keys[r], a[1].slice(0), e(i) ? i : null)
                    }
                    return this
                },
                EMPTY: function() {
                    var e = this;
                    return $.each(e.keys, function(t) {
                        delete e.keys[t]
                    }), e
                },
                copy: function() {
                    return new r(this)
                },
                toString: function() {
                    var o = [],
                        a = [],
                        s = function(e) {
                            return e += "", i && (e = e.replace(/ /g, "+")), encodeURIComponent(e).replace(/%2C/g, ",").replace(/%21/g, "!").replace(/%27/g, "'").replace(/%28/g, "(").replace(/%29/g, ")").replace(/%2A/g, "*")
                        },
                        r = function(t, i, o) {
                            if (e(o) && !1 !== o) {
                                var n = [s(i)];
                                !0 !== o && (n.push("="), n.push(s(o))), t.push(n.join(""))
                            }
                        },
                        l = function(e, t) {
                            var i = function(e) {
                                return t && "" != t ? [t, "[", e, "]"].join("") : [e].join("")
                            };
                            $.each(e, function(e, t) {
                                "object" == typeof t ? l(t, i(e)) : r(a, i(e), t)
                            })
                        };
                    return l(this.keys), a.length > 0 && o.push(n), o.push(a.join(t)), o.join("")
                }
            }, new r(location.search, location.hash)
        }
    }(jQuery.query || {}),
    function(e) {
        "use strict";
        "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
    }(function(e) {
        "use strict";
        var t = window.Slick || {};
        t = function() {
            function t(t, o) {
                var n, a = this;
                a.defaults = {
                    accessibility: !0,
                    adaptiveHeight: !1,
                    appendArrows: e(t),
                    appendDots: e(t),
                    arrows: !0,
                    asNavFor: null,
                    prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                    nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                    autoplay: !1,
                    autoplaySpeed: 3e3,
                    centerMode: !1,
                    centerPadding: "50px",
                    cssEase: "ease",
                    customPaging: function(t, i) {
                        return e('<button type="button" />').text(i + 1)
                    },
                    dots: !1,
                    dotsClass: "slick-dots",
                    draggable: !0,
                    easing: "linear",
                    edgeFriction: .35,
                    fade: !1,
                    focusOnSelect: !1,
                    focusOnChange: !1,
                    infinite: !0,
                    initialSlide: 0,
                    lazyLoad: "ondemand",
                    mobileFirst: !1,
                    pauseOnHover: !0,
                    pauseOnFocus: !0,
                    pauseOnDotsHover: !1,
                    respondTo: "window",
                    responsive: null,
                    rows: 1,
                    rtl: !1,
                    slide: "",
                    slidesPerRow: 1,
                    slidesToShow: 1,
                    slidesToScroll: 1,
                    speed: 500,
                    swipe: !0,
                    swipeToSlide: !1,
                    touchMove: !0,
                    touchThreshold: 5,
                    useCSS: !0,
                    useTransform: !0,
                    variableWidth: !1,
                    vertical: !1,
                    verticalSwiping: !1,
                    waitForAnimate: !0,
                    zIndex: 1e3
                }, a.initials = {
                    animating: !1,
                    dragging: !1,
                    autoPlayTimer: null,
                    currentDirection: 0,
                    currentLeft: null,
                    currentSlide: 0,
                    direction: 1,
                    $dots: null,
                    listWidth: null,
                    listHeight: null,
                    loadIndex: 0,
                    $nextArrow: null,
                    $prevArrow: null,
                    scrolling: !1,
                    slideCount: null,
                    slideWidth: null,
                    $slideTrack: null,
                    $slides: null,
                    sliding: !1,
                    slideOffset: 0,
                    swipeLeft: null,
                    swiping: !1,
                    $list: null,
                    touchObject: {},
                    transformsEnabled: !1,
                    unslicked: !1
                }, e.extend(a, a.initials), a.activeBreakpoint = null, a.animType = null, a.animProp = null, a.breakpoints = [], a.breakpointSettings = [], a.cssTransitions = !1, a.focussed = !1, a.interrupted = !1, a.hidden = "hidden", a.paused = !0, a.positionProp = null, a.respondTo = null, a.rowCount = 1, a.shouldClick = !0, a.$slider = e(t), a.$slidesCache = null, a.transformType = null, a.transitionType = null, a.visibilityChange = "visibilitychange", a.windowWidth = 0, a.windowTimer = null, n = e(t).data("slick") || {}, a.options = e.extend({}, a.defaults, o, n), a.currentSlide = a.options.initialSlide, a.originalSettings = a.options, void 0 !== document.mozHidden ? (a.hidden = "mozHidden", a.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (a.hidden = "webkitHidden", a.visibilityChange = "webkitvisibilitychange"), a.autoPlay = e.proxy(a.autoPlay, a), a.autoPlayClear = e.proxy(a.autoPlayClear, a), a.autoPlayIterator = e.proxy(a.autoPlayIterator, a), a.changeSlide = e.proxy(a.changeSlide, a), a.clickHandler = e.proxy(a.clickHandler, a), a.selectHandler = e.proxy(a.selectHandler, a), a.setPosition = e.proxy(a.setPosition, a), a.swipeHandler = e.proxy(a.swipeHandler, a), a.dragHandler = e.proxy(a.dragHandler, a), a.keyHandler = e.proxy(a.keyHandler, a), a.instanceUid = i++, a.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, a.registerBreakpoints(), a.init(!0)
            }
            var i = 0;
            return t
        }(), t.prototype.activateADA = function() {
            this.$slideTrack.find(".slick-active").attr({
                "aria-hidden": "false"
            }).find("a, input, button, select").attr({
                tabindex: "0"
            })
        }, t.prototype.addSlide = t.prototype.slickAdd = function(t, i, o) {
            var n = this;
            if ("boolean" == typeof i) o = i, i = null;
            else if (i < 0 || i >= n.slideCount) return !1;
            n.unload(), "number" == typeof i ? 0 === i && 0 === n.$slides.length ? e(t).appendTo(n.$slideTrack) : o ? e(t).insertBefore(n.$slides.eq(i)) : e(t).insertAfter(n.$slides.eq(i)) : !0 === o ? e(t).prependTo(n.$slideTrack) : e(t).appendTo(n.$slideTrack), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slides.each(function(t, i) {
                e(i).attr("data-slick-index", t)
            }), n.$slidesCache = n.$slides, n.reinit()
        }, t.prototype.animateHeight = function() {
            var e = this;
            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                e.$list.animate({
                    height: t
                }, e.options.speed)
            }
        }, t.prototype.animateSlide = function(t, i) {
            var o = {},
                n = this;
            n.animateHeight(), !0 === n.options.rtl && !1 === n.options.vertical && (t = -t), !1 === n.transformsEnabled ? !1 === n.options.vertical ? n.$slideTrack.animate({
                left: t
            }, n.options.speed, n.options.easing, i) : n.$slideTrack.animate({
                top: t
            }, n.options.speed, n.options.easing, i) : !1 === n.cssTransitions ? (!0 === n.options.rtl && (n.currentLeft = -n.currentLeft), e({
                animStart: n.currentLeft
            }).animate({
                animStart: t
            }, {
                duration: n.options.speed,
                easing: n.options.easing,
                step: function(e) {
                    e = Math.ceil(e), !1 === n.options.vertical ? (o[n.animType] = "translate(" + e + "px, 0px)", n.$slideTrack.css(o)) : (o[n.animType] = "translate(0px," + e + "px)", n.$slideTrack.css(o))
                },
                complete: function() {
                    i && i.call()
                }
            })) : (n.applyTransition(), t = Math.ceil(t), !1 === n.options.vertical ? o[n.animType] = "translate3d(" + t + "px, 0px, 0px)" : o[n.animType] = "translate3d(0px," + t + "px, 0px)", n.$slideTrack.css(o), i && setTimeout(function() {
                n.disableTransition(), i.call()
            }, n.options.speed))
        }, t.prototype.getNavTarget = function() {
            var t = this,
                i = t.options.asNavFor;
            return i && null !== i && (i = e(i).not(t.$slider)), i
        }, t.prototype.asNavFor = function(t) {
            var i = this,
                o = i.getNavTarget();
            null !== o && "object" == typeof o && o.each(function() {
                var i = e(this).slick("getSlick");
                i.unslicked || i.slideHandler(t, !0)
            })
        }, t.prototype.applyTransition = function(e) {
            var t = this,
                i = {};
            !1 === t.options.fade ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
        }, t.prototype.autoPlay = function() {
            var e = this;
            e.autoPlayClear(), e.slideCount > e.options.slidesToShow && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed))
        }, t.prototype.autoPlayClear = function() {
            var e = this;
            e.autoPlayTimer && clearInterval(e.autoPlayTimer)
        }, t.prototype.autoPlayIterator = function() {
            var e = this,
                t = e.currentSlide + e.options.slidesToScroll;
            e.paused || e.interrupted || e.focussed || (!1 === e.options.infinite && (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1 ? e.direction = 0 : 0 === e.direction && (t = e.currentSlide - e.options.slidesToScroll, e.currentSlide - 1 == 0 && (e.direction = 1))), e.slideHandler(t))
        }, t.prototype.buildArrows = function() {
            var t = this;
            !0 === t.options.arrows && (t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow"), t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow"), t.slideCount > t.options.slidesToShow ? (t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.prependTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), !0 !== t.options.infinite && t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({
                "aria-disabled": "true",
                tabindex: "-1"
            }))
        }, t.prototype.buildDots = function() {
            var t, i, o = this;
            if (!0 === o.options.dots && o.slideCount > o.options.slidesToShow) {
                for (o.$slider.addClass("slick-dotted"), i = e("<ul />").addClass(o.options.dotsClass), t = 0; t <= o.getDotCount(); t += 1) i.append(e("<li />").append(o.options.customPaging.call(this, o, t)));
                o.$dots = i.appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active")
            }
        }, t.prototype.buildOut = function() {
            var t = this;
            t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function(t, i) {
                e(i).attr("data-slick-index", t).data("originalStyling", e(i).attr("style") || "")
            }), t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), !0 !== t.options.centerMode && !0 !== t.options.swipeToSlide || (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), !0 === t.options.draggable && t.$list.addClass("draggable")
        }, t.prototype.buildRows = function() {
            var e, t, i, o, n, a, s, r = this;
            if (o = document.createDocumentFragment(), a = r.$slider.children(), r.options.rows > 0) {
                for (s = r.options.slidesPerRow * r.options.rows, n = Math.ceil(a.length / s), e = 0; e < n; e++) {
                    var l = document.createElement("div");
                    for (t = 0; t < r.options.rows; t++) {
                        var d = document.createElement("div");
                        for (i = 0; i < r.options.slidesPerRow; i++) {
                            var c = e * s + (t * r.options.slidesPerRow + i);
                            a.get(c) && d.appendChild(a.get(c))
                        }
                        l.appendChild(d)
                    }
                    o.appendChild(l)
                }
                r.$slider.empty().append(o), r.$slider.children().children().children().css({
                    width: 100 / r.options.slidesPerRow + "%",
                    display: "inline-block"
                })
            }
        }, t.prototype.checkResponsive = function(t, i) {
            var o, n, a, s = this,
                r = !1,
                l = s.$slider.width(),
                d = window.innerWidth || e(window).width();
            if ("window" === s.respondTo ? a = d : "slider" === s.respondTo ? a = l : "min" === s.respondTo && (a = Math.min(d, l)), s.options.responsive && s.options.responsive.length && null !== s.options.responsive) {
                n = null;
                for (o in s.breakpoints) s.breakpoints.hasOwnProperty(o) && (!1 === s.originalSettings.mobileFirst ? a < s.breakpoints[o] && (n = s.breakpoints[o]) : a > s.breakpoints[o] && (n = s.breakpoints[o]));
                null !== n ? null !== s.activeBreakpoint ? (n !== s.activeBreakpoint || i) && (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t), r = n), t || !1 === r || s.$slider.trigger("breakpoint", [s, r])
            }
        }, t.prototype.changeSlide = function(t, i) {
            var o, n, a, s = this,
                r = e(t.currentTarget);
            switch (r.is("a") && t.preventDefault(), r.is("li") || (r = r.closest("li")), a = s.slideCount % s.options.slidesToScroll != 0, o = a ? 0 : (s.slideCount - s.currentSlide) % s.options.slidesToScroll, t.data.message) {
                case "previous":
                    n = 0 === o ? s.options.slidesToScroll : s.options.slidesToShow - o, s.slideCount > s.options.slidesToShow && s.slideHandler(Math.max(0, s.currentSlide - n), !1, i);
                    break;
                case "next":
                    n = 0 === o ? s.options.slidesToScroll : o, s.slideCount > s.options.slidesToShow && (n = Math.min(s.slideCount - s.currentSlide - n, n), s.slideHandler(s.currentSlide + n, !1, i));
                    break;
                case "index":
                    var l = 0 === t.data.index ? 0 : t.data.index || r.index() * s.options.slidesToScroll;
                    s.slideHandler(s.checkNavigable(l), !1, i), r.children().trigger("focus");
                    break;
                default:
                    return
            }
        }, t.prototype.checkNavigable = function(e) {
            var t, i, o = this;
            if (t = o.getNavigableIndexes(), i = 0, e > t[t.length - 1]) e = t[t.length - 1];
            else
                for (var n in t) {
                    if (e < t[n]) {
                        e = i;
                        break
                    }
                    i = t[n]
                }
            return e
        }, t.prototype.cleanUpEvents = function() {
            var t = this;
            t.options.dots && null !== t.$dots && (e("li", t.$dots).off("click.slick", t.changeSlide).off("mouseenter.slick", e.proxy(t.interrupt, t, !0)).off("mouseleave.slick", e.proxy(t.interrupt, t, !1)), !0 === t.options.accessibility && t.$dots.off("keydown.slick", t.keyHandler)), t.$slider.off("focus.slick blur.slick"), !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide), t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide), !0 === t.options.accessibility && (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler), t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))), t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler), t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler), t.$list.off("touchend.slick mouseup.slick", t.swipeHandler), t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler), t.$list.off("click.slick", t.clickHandler), e(document).off(t.visibilityChange, t.visibility), t.cleanUpSlideEvents(), !0 === t.options.accessibility && t.$list.off("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().off("click.slick", t.selectHandler), e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange), e(window).off("resize.slick.slick-" + t.instanceUid, t.resize), e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault), e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition)
        }, t.prototype.cleanUpSlideEvents = function() {
            var t = this;
            t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1))
        }, t.prototype.cleanUpRows = function() {
            var e, t = this;
            t.options.rows > 0 && (e = t.$slides.children().children(), e.removeAttr("style"), t.$slider.empty().append(e))
        }, t.prototype.clickHandler = function(e) {
            !1 === this.shouldClick && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault())
        }, t.prototype.destroy = function(t) {
            var i = this;
            i.autoPlayClear(), i.touchObject = {}, i.cleanUpEvents(), e(".slick-cloned", i.$slider).detach(), i.$dots && i.$dots.remove(), i.$prevArrow && i.$prevArrow.length && (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()), i.$nextArrow && i.$nextArrow.length && (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()), i.$slides && (i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
                e(this).attr("style", e(this).data("originalStyling"))
            }), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.detach(), i.$list.detach(), i.$slider.append(i.$slides)), i.cleanUpRows(), i.$slider.removeClass("slick-slider"), i.$slider.removeClass("slick-initialized"), i.$slider.removeClass("slick-dotted"), i.unslicked = !0, t || i.$slider.trigger("destroy", [i])
        }, t.prototype.disableTransition = function(e) {
            var t = this,
                i = {};
            i[t.transitionType] = "", !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
        }, t.prototype.fadeSlide = function(e, t) {
            var i = this;
            !1 === i.cssTransitions ? (i.$slides.eq(e).css({
                zIndex: i.options.zIndex
            }), i.$slides.eq(e).animate({
                opacity: 1
            }, i.options.speed, i.options.easing, t)) : (i.applyTransition(e), i.$slides.eq(e).css({
                opacity: 1,
                zIndex: i.options.zIndex
            }), t && setTimeout(function() {
                i.disableTransition(e), t.call()
            }, i.options.speed))
        }, t.prototype.fadeSlideOut = function(e) {
            var t = this;
            !1 === t.cssTransitions ? t.$slides.eq(e).animate({
                opacity: 0,
                zIndex: t.options.zIndex - 2
            }, t.options.speed, t.options.easing) : (t.applyTransition(e), t.$slides.eq(e).css({
                opacity: 0,
                zIndex: t.options.zIndex - 2
            }))
        }, t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
            var t = this;
            null !== e && (t.$slidesCache = t.$slides, t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit())
        }, t.prototype.focusHandler = function() {
            var t = this;
            t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", function(i) {
                i.stopImmediatePropagation();
                var o = e(this);
                setTimeout(function() {
                    t.options.pauseOnFocus && (t.focussed = o.is(":focus"), t.autoPlay())
                }, 0)
            })
        }, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
            return this.currentSlide
        }, t.prototype.getDotCount = function() {
            var e = this,
                t = 0,
                i = 0,
                o = 0;
            if (!0 === e.options.infinite)
                if (e.slideCount <= e.options.slidesToShow) ++o;
                else
                    for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
            else if (!0 === e.options.centerMode) o = e.slideCount;
            else if (e.options.asNavFor)
                for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
            else o = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
            return o - 1
        }, t.prototype.getLeft = function(e) {
            var t, i, o, n, a = this,
                s = 0;
            return a.slideOffset = 0, i = a.$slides.first().outerHeight(!0), !0 === a.options.infinite ? (a.slideCount > a.options.slidesToShow && (a.slideOffset = a.slideWidth * a.options.slidesToShow * -1, n = -1, !0 === a.options.vertical && !0 === a.options.centerMode && (2 === a.options.slidesToShow ? n = -1.5 : 1 === a.options.slidesToShow && (n = -2)), s = i * a.options.slidesToShow * n), a.slideCount % a.options.slidesToScroll != 0 && e + a.options.slidesToScroll > a.slideCount && a.slideCount > a.options.slidesToShow && (e > a.slideCount ? (a.slideOffset = (a.options.slidesToShow - (e - a.slideCount)) * a.slideWidth * -1, s = (a.options.slidesToShow - (e - a.slideCount)) * i * -1) : (a.slideOffset = a.slideCount % a.options.slidesToScroll * a.slideWidth * -1, s = a.slideCount % a.options.slidesToScroll * i * -1))) : e + a.options.slidesToShow > a.slideCount && (a.slideOffset = (e + a.options.slidesToShow - a.slideCount) * a.slideWidth, s = (e + a.options.slidesToShow - a.slideCount) * i), a.slideCount <= a.options.slidesToShow && (a.slideOffset = 0, s = 0), !0 === a.options.centerMode && a.slideCount <= a.options.slidesToShow ? a.slideOffset = a.slideWidth * Math.floor(a.options.slidesToShow) / 2 - a.slideWidth * a.slideCount / 2 : !0 === a.options.centerMode && !0 === a.options.infinite ? a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2) - a.slideWidth : !0 === a.options.centerMode && (a.slideOffset = 0, a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2)), t = !1 === a.options.vertical ? e * a.slideWidth * -1 + a.slideOffset : e * i * -1 + s, !0 === a.options.variableWidth && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, !0 === a.options.centerMode && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow + 1), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, t += (a.$list.width() - o.outerWidth()) / 2)), t
        }, t.prototype.getOption = t.prototype.slickGetOption = function(e) {
            return this.options[e]
        }, t.prototype.getNavigableIndexes = function() {
            var e, t = this,
                i = 0,
                o = 0,
                n = [];
            for (!1 === t.options.infinite ? e = t.slideCount : (i = -1 * t.options.slidesToScroll, o = -1 * t.options.slidesToScroll, e = 2 * t.slideCount); i < e;) n.push(i), i = o + t.options.slidesToScroll, o += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
            return n
        }, t.prototype.getSlick = function() {
            return this
        }, t.prototype.getSlideCount = function() {
            var t, i, o = this;
            return i = !0 === o.options.centerMode ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) : 0, !0 === o.options.swipeToSlide ? (o.$slideTrack.find(".slick-slide").each(function(n, a) {
                if (a.offsetLeft - i + e(a).outerWidth() / 2 > -1 * o.swipeLeft) return t = a, !1
            }), Math.abs(e(t).attr("data-slick-index") - o.currentSlide) || 1) : o.options.slidesToScroll
        }, t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
            this.changeSlide({
                data: {
                    message: "index",
                    index: parseInt(e)
                }
            }, t)
        }, t.prototype.init = function(t) {
            var i = this;
            e(i.$slider).hasClass("slick-initialized") || (e(i.$slider).addClass("slick-initialized"), i.buildRows(), i.buildOut(), i.setProps(), i.startLoad(), i.loadSlider(), i.initializeEvents(), i.updateArrows(), i.updateDots(), i.checkResponsive(!0), i.focusHandler()), t && i.$slider.trigger("init", [i]), !0 === i.options.accessibility && i.initADA(), i.options.autoplay && (i.paused = !1, i.autoPlay())
        }, t.prototype.initADA = function() {
            var t = this,
                i = Math.ceil(t.slideCount / t.options.slidesToShow),
                o = t.getNavigableIndexes().filter(function(e) {
                    return e >= 0 && e < t.slideCount
                });
            t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({
                "aria-hidden": "true",
                tabindex: "-1"
            }).find("a, input, button, select").attr({
                tabindex: "-1"
            }), null !== t.$dots && (t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i) {
                var n = o.indexOf(i);
                if (e(this).attr({
                        role: "tabpanel",
                        id: "slick-slide" + t.instanceUid + i,
                        tabindex: -1
                    }), -1 !== n) {
                    var a = "slick-slide-control" + t.instanceUid + n;
                    e("#" + a).length && e(this).attr({
                        "aria-describedby": a
                    })
                }
            }), t.$dots.attr("role", "tablist").find("li").each(function(n) {
                var a = o[n];
                e(this).attr({
                    role: "presentation"
                }), e(this).find("button").first().attr({
                    role: "tab",
                    id: "slick-slide-control" + t.instanceUid + n,
                    "aria-controls": "slick-slide" + t.instanceUid + a,
                    "aria-label": n + 1 + " of " + i,
                    "aria-selected": null,
                    tabindex: "-1"
                })
            }).eq(t.currentSlide).find("button").attr({
                "aria-selected": "true",
                tabindex: "0"
            }).end());
            for (var n = t.currentSlide, a = n + t.options.slidesToShow; n < a; n++) t.options.focusOnChange ? t.$slides.eq(n).attr({
                tabindex: "0"
            }) : t.$slides.eq(n).removeAttr("tabindex");
            t.activateADA()
        }, t.prototype.initArrowEvents = function() {
            var e = this;
            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.off("click.slick").on("click.slick", {
                message: "previous"
            }, e.changeSlide), e.$nextArrow.off("click.slick").on("click.slick", {
                message: "next"
            }, e.changeSlide), !0 === e.options.accessibility && (e.$prevArrow.on("keydown.slick", e.keyHandler), e.$nextArrow.on("keydown.slick", e.keyHandler)))
        }, t.prototype.initDotEvents = function() {
            var t = this;
            !0 === t.options.dots && t.slideCount > t.options.slidesToShow && (e("li", t.$dots).on("click.slick", {
                message: "index"
            }, t.changeSlide), !0 === t.options.accessibility && t.$dots.on("keydown.slick", t.keyHandler)), !0 === t.options.dots && !0 === t.options.pauseOnDotsHover && t.slideCount > t.options.slidesToShow && e("li", t.$dots).on("mouseenter.slick", e.proxy(t.interrupt, t, !0)).on("mouseleave.slick", e.proxy(t.interrupt, t, !1))
        }, t.prototype.initSlideEvents = function() {
            var t = this;
            t.options.pauseOnHover && (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)))
        }, t.prototype.initializeEvents = function() {
            var t = this;
            t.initArrowEvents(), t.initDotEvents(), t.initSlideEvents(), t.$list.on("touchstart.slick mousedown.slick", {
                action: "start"
            }, t.swipeHandler), t.$list.on("touchmove.slick mousemove.slick", {
                action: "move"
            }, t.swipeHandler), t.$list.on("touchend.slick mouseup.slick", {
                action: "end"
            }, t.swipeHandler), t.$list.on("touchcancel.slick mouseleave.slick", {
                action: "end"
            }, t.swipeHandler), t.$list.on("click.slick", t.clickHandler), e(document).on(t.visibilityChange, e.proxy(t.visibility, t)), !0 === t.options.accessibility && t.$list.on("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), e(window).on("orientationchange.slick.slick-" + t.instanceUid, e.proxy(t.orientationChange, t)), e(window).on("resize.slick.slick-" + t.instanceUid, e.proxy(t.resize, t)), e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault), e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition), e(t.setPosition)
        }, t.prototype.initUI = function() {
            var e = this;
            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.show()
        }, t.prototype.keyHandler = function(e) {
            var t = this;
            e.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === e.keyCode && !0 === t.options.accessibility ? t.changeSlide({
                data: {
                    message: !0 === t.options.rtl ? "next" : "previous"
                }
            }) : 39 === e.keyCode && !0 === t.options.accessibility && t.changeSlide({
                data: {
                    message: !0 === t.options.rtl ? "previous" : "next"
                }
            }))
        }, t.prototype.lazyLoad = function() {
            function t(t) {
                e("img[data-lazy]", t).each(function() {
                    var t = e(this),
                        i = e(this).attr("data-lazy"),
                        o = e(this).attr("data-srcset"),
                        n = e(this).attr("data-sizes") || s.$slider.attr("data-sizes"),
                        a = document.createElement("img");
                    a.onload = function() {
                        t.animate({
                            opacity: 0
                        }, 100, function() {
                            o && (t.attr("srcset", o), n && t.attr("sizes", n)), t.attr("src", i).animate({
                                opacity: 1
                            }, 200, function() {
                                t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")
                            }), s.$slider.trigger("lazyLoaded", [s, t, i])
                        })
                    }, a.onerror = function() {
                        t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), s.$slider.trigger("lazyLoadError", [s, t, i])
                    }, a.src = i
                })
            }
            var i, o, n, a, s = this;
            if (!0 === s.options.centerMode ? !0 === s.options.infinite ? (n = s.currentSlide + (s.options.slidesToShow / 2 + 1), a = n + s.options.slidesToShow + 2) : (n = Math.max(0, s.currentSlide - (s.options.slidesToShow / 2 + 1)), a = s.options.slidesToShow / 2 + 1 + 2 + s.currentSlide) : (n = s.options.infinite ? s.options.slidesToShow + s.currentSlide : s.currentSlide, a = Math.ceil(n + s.options.slidesToShow), !0 === s.options.fade && (n > 0 && n--, a <= s.slideCount && a++)), i = s.$slider.find(".slick-slide").slice(n, a), "anticipated" === s.options.lazyLoad)
                for (var r = n - 1, l = a, d = s.$slider.find(".slick-slide"), c = 0; c < s.options.slidesToScroll; c++) r < 0 && (r = s.slideCount - 1), i = i.add(d.eq(r)), i = i.add(d.eq(l)), r--, l++;
            t(i), s.slideCount <= s.options.slidesToShow ? (o = s.$slider.find(".slick-slide"), t(o)) : s.currentSlide >= s.slideCount - s.options.slidesToShow ? (o = s.$slider.find(".slick-cloned").slice(0, s.options.slidesToShow), t(o)) : 0 === s.currentSlide && (o = s.$slider.find(".slick-cloned").slice(-1 * s.options.slidesToShow), t(o))
        }, t.prototype.loadSlider = function() {
            var e = this;
            e.setPosition(), e.$slideTrack.css({
                opacity: 1
            }), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad()
        }, t.prototype.next = t.prototype.slickNext = function() {
            this.changeSlide({
                data: {
                    message: "next"
                }
            })
        }, t.prototype.orientationChange = function() {
            var e = this;
            e.checkResponsive(), e.setPosition()
        }, t.prototype.pause = t.prototype.slickPause = function() {
            var e = this;
            e.autoPlayClear(), e.paused = !0
        }, t.prototype.play = t.prototype.slickPlay = function() {
            var e = this;
            e.autoPlay(), e.options.autoplay = !0, e.paused = !1, e.focussed = !1, e.interrupted = !1
        }, t.prototype.postSlide = function(t) {
            var i = this;
            if (!i.unslicked && (i.$slider.trigger("afterChange", [i, t]), i.animating = !1, i.slideCount > i.options.slidesToShow && i.setPosition(), i.swipeLeft = null, i.options.autoplay && i.autoPlay(), !0 === i.options.accessibility && (i.initADA(), i.options.focusOnChange))) {
                e(i.$slides.get(i.currentSlide)).attr("tabindex", 0).focus()
            }
        }, t.prototype.prev = t.prototype.slickPrev = function() {
            this.changeSlide({
                data: {
                    message: "previous"
                }
            })
        }, t.prototype.preventDefault = function(e) {
            e.preventDefault()
        }, t.prototype.progressiveLazyLoad = function(t) {
            t = t || 1;
            var i, o, n, a, s, r = this,
                l = e("img[data-lazy]", r.$slider);
            l.length ? (i = l.first(), o = i.attr("data-lazy"), n = i.attr("data-srcset"), a = i.attr("data-sizes") || r.$slider.attr("data-sizes"), s = document.createElement("img"), s.onload = function() {
                n && (i.attr("srcset", n), a && i.attr("sizes", a)), i.attr("src", o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"), !0 === r.options.adaptiveHeight && r.setPosition(), r.$slider.trigger("lazyLoaded", [r, i, o]), r.progressiveLazyLoad()
            }, s.onerror = function() {
                t < 3 ? setTimeout(function() {
                    r.progressiveLazyLoad(t + 1)
                }, 500) : (i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), r.$slider.trigger("lazyLoadError", [r, i, o]), r.progressiveLazyLoad())
            }, s.src = o) : r.$slider.trigger("allImagesLoaded", [r])
        }, t.prototype.refresh = function(t) {
            var i, o, n = this;
            o = n.slideCount - n.options.slidesToShow, !n.options.infinite && n.currentSlide > o && (n.currentSlide = o), n.slideCount <= n.options.slidesToShow && (n.currentSlide = 0), i = n.currentSlide, n.destroy(!0), e.extend(n, n.initials, {
                currentSlide: i
            }), n.init(), t || n.changeSlide({
                data: {
                    message: "index",
                    index: i
                }
            }, !1)
        }, t.prototype.registerBreakpoints = function() {
            var t, i, o, n = this,
                a = n.options.responsive || null;
            if ("array" === e.type(a) && a.length) {
                n.respondTo = n.options.respondTo || "window";
                for (t in a)
                    if (o = n.breakpoints.length - 1, a.hasOwnProperty(t)) {
                        for (i = a[t].breakpoint; o >= 0;) n.breakpoints[o] && n.breakpoints[o] === i && n.breakpoints.splice(o, 1), o--;
                        n.breakpoints.push(i), n.breakpointSettings[i] = a[t].settings
                    }
                n.breakpoints.sort(function(e, t) {
                    return n.options.mobileFirst ? e - t : t - e
                })
            }
        }, t.prototype.reinit = function() {
            var t = this;
            t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.registerBreakpoints(), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.cleanUpSlideEvents(), t.initSlideEvents(), t.checkResponsive(!1, !0), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), t.setPosition(), t.focusHandler(), t.paused = !t.options.autoplay, t.autoPlay(), t.$slider.trigger("reInit", [t])
        }, t.prototype.resize = function() {
            var t = this;
            e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function() {
                t.windowWidth = e(window).width(), t.checkResponsive(), t.unslicked || t.setPosition()
            }, 50))
        }, t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
            var o = this;
            if ("boolean" == typeof e ? (t = e, e = !0 === t ? 0 : o.slideCount - 1) : e = !0 === t ? --e : e, o.slideCount < 1 || e < 0 || e > o.slideCount - 1) return !1;
            o.unload(), !0 === i ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(e).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, o.reinit()
        }, t.prototype.setCSS = function(e) {
            var t, i, o = this,
                n = {};
            !0 === o.options.rtl && (e = -e), t = "left" == o.positionProp ? Math.ceil(e) + "px" : "0px", i = "top" == o.positionProp ? Math.ceil(e) + "px" : "0px", n[o.positionProp] = e, !1 === o.transformsEnabled ? o.$slideTrack.css(n) : (n = {}, !1 === o.cssTransitions ? (n[o.animType] = "translate(" + t + ", " + i + ")", o.$slideTrack.css(n)) : (n[o.animType] = "translate3d(" + t + ", " + i + ", 0px)", o.$slideTrack.css(n)))
        }, t.prototype.setDimensions = function() {
            var e = this;
            !1 === e.options.vertical ? !0 === e.options.centerMode && e.$list.css({
                padding: "0px " + e.options.centerPadding
            }) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), !0 === e.options.centerMode && e.$list.css({
                padding: e.options.centerPadding + " 0px"
            })), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), !1 === e.options.vertical && !1 === e.options.variableWidth ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : !0 === e.options.variableWidth ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
            var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
            !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
        }, t.prototype.setFade = function() {
            var t, i = this;
            i.$slides.each(function(o, n) {
                t = i.slideWidth * o * -1, !0 === i.options.rtl ? e(n).css({
                    position: "relative",
                    right: t,
                    top: 0,
                    zIndex: i.options.zIndex - 2,
                    opacity: 0
                }) : e(n).css({
                    position: "relative",
                    left: t,
                    top: 0,
                    zIndex: i.options.zIndex - 2,
                    opacity: 0
                })
            }), i.$slides.eq(i.currentSlide).css({
                zIndex: i.options.zIndex - 1,
                opacity: 1
            })
        }, t.prototype.setHeight = function() {
            var e = this;
            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                e.$list.css("height", t)
            }
        }, t.prototype.setOption = t.prototype.slickSetOption = function() {
            var t, i, o, n, a, s = this,
                r = !1;
            if ("object" === e.type(arguments[0]) ? (o = arguments[0], r = arguments[1], a = "multiple") : "string" === e.type(arguments[0]) && (o = arguments[0], n = arguments[1], r = arguments[2], "responsive" === arguments[0] && "array" === e.type(arguments[1]) ? a = "responsive" : void 0 !== arguments[1] && (a = "single")), "single" === a) s.options[o] = n;
            else if ("multiple" === a) e.each(o, function(e, t) {
                s.options[e] = t
            });
            else if ("responsive" === a)
                for (i in n)
                    if ("array" !== e.type(s.options.responsive)) s.options.responsive = [n[i]];
                    else {
                        for (t = s.options.responsive.length - 1; t >= 0;) s.options.responsive[t].breakpoint === n[i].breakpoint && s.options.responsive.splice(t, 1), t--;
                        s.options.responsive.push(n[i])
                    }
            r && (s.unload(), s.reinit())
        }, t.prototype.setPosition = function() {
            var e = this;
            e.setDimensions(), e.setHeight(), !1 === e.options.fade ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(), e.$slider.trigger("setPosition", [e])
        }, t.prototype.setProps = function() {
            var e = this,
                t = document.body.style;
            e.positionProp = !0 === e.options.vertical ? "top" : "left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"), void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition || !0 === e.options.useCSS && (e.cssTransitions = !0), e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : e.options.zIndex = e.defaults.zIndex), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && !1 !== e.animType && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType
        }, t.prototype.setSlideClasses = function(e) {
            var t, i, o, n, a = this;
            if (i = a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), a.$slides.eq(e).addClass("slick-current"), !0 === a.options.centerMode) {
                var s = a.options.slidesToShow % 2 == 0 ? 1 : 0;
                t = Math.floor(a.options.slidesToShow / 2), !0 === a.options.infinite && (e >= t && e <= a.slideCount - 1 - t ? a.$slides.slice(e - t + s, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = a.options.slidesToShow + e, i.slice(o - t + 1 + s, o + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? i.eq(i.length - 1 - a.options.slidesToShow).addClass("slick-center") : e === a.slideCount - 1 && i.eq(a.options.slidesToShow).addClass("slick-center")), a.$slides.eq(e).addClass("slick-center")
            } else e >= 0 && e <= a.slideCount - a.options.slidesToShow ? a.$slides.slice(e, e + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : i.length <= a.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") : (n = a.slideCount % a.options.slidesToShow, o = !0 === a.options.infinite ? a.options.slidesToShow + e : e, a.options.slidesToShow == a.options.slidesToScroll && a.slideCount - e < a.options.slidesToShow ? i.slice(o - (a.options.slidesToShow - n), o + n).addClass("slick-active").attr("aria-hidden", "false") : i.slice(o, o + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false"));
            "ondemand" !== a.options.lazyLoad && "anticipated" !== a.options.lazyLoad || a.lazyLoad()
        }, t.prototype.setupInfinite = function() {
            var t, i, o, n = this;
            if (!0 === n.options.fade && (n.options.centerMode = !1), !0 === n.options.infinite && !1 === n.options.fade && (i = null, n.slideCount > n.options.slidesToShow)) {
                for (o = !0 === n.options.centerMode ? n.options.slidesToShow + 1 : n.options.slidesToShow, t = n.slideCount; t > n.slideCount - o; t -= 1) i = t - 1, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");
                for (t = 0; t < o + n.slideCount; t += 1) i = t, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");
                n.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                    e(this).attr("id", "")
                })
            }
        }, t.prototype.interrupt = function(e) {
            var t = this;
            e || t.autoPlay(), t.interrupted = e
        }, t.prototype.selectHandler = function(t) {
            var i = this,
                o = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide"),
                n = parseInt(o.attr("data-slick-index"));
            if (n || (n = 0), i.slideCount <= i.options.slidesToShow) return void i.slideHandler(n, !1, !0);
            i.slideHandler(n)
        }, t.prototype.slideHandler = function(e, t, i) {
            var o, n, a, s, r, l = null,
                d = this;
            if (t = t || !1, !(!0 === d.animating && !0 === d.options.waitForAnimate || !0 === d.options.fade && d.currentSlide === e)) {
                if (!1 === t && d.asNavFor(e), o = e, l = d.getLeft(o), s = d.getLeft(d.currentSlide), d.currentLeft = null === d.swipeLeft ? s : d.swipeLeft, !1 === d.options.infinite && !1 === d.options.centerMode && (e < 0 || e > d.getDotCount() * d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                    d.postSlide(o)
                }) : d.postSlide(o)));
                if (!1 === d.options.infinite && !0 === d.options.centerMode && (e < 0 || e > d.slideCount - d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                    d.postSlide(o)
                }) : d.postSlide(o)));
                if (d.options.autoplay && clearInterval(d.autoPlayTimer), n = o < 0 ? d.slideCount % d.options.slidesToScroll != 0 ? d.slideCount - d.slideCount % d.options.slidesToScroll : d.slideCount + o : o >= d.slideCount ? d.slideCount % d.options.slidesToScroll != 0 ? 0 : o - d.slideCount : o, d.animating = !0, d.$slider.trigger("beforeChange", [d, d.currentSlide, n]), a = d.currentSlide, d.currentSlide = n, d.setSlideClasses(d.currentSlide), d.options.asNavFor && (r = d.getNavTarget(), r = r.slick("getSlick"), r.slideCount <= r.options.slidesToShow && r.setSlideClasses(d.currentSlide)), d.updateDots(), d.updateArrows(), !0 === d.options.fade) return !0 !== i ? (d.fadeSlideOut(a), d.fadeSlide(n, function() {
                    d.postSlide(n)
                })) : d.postSlide(n), void d.animateHeight();
                !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(l, function() {
                    d.postSlide(n)
                }) : d.postSlide(n)
            }
        }, t.prototype.startLoad = function() {
            var e = this;
            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading")
        }, t.prototype.swipeDirection = function() {
            var e, t, i, o, n = this;
            return e = n.touchObject.startX - n.touchObject.curX, t = n.touchObject.startY - n.touchObject.curY, i = Math.atan2(t, e), o = Math.round(180 * i / Math.PI), o < 0 && (o = 360 - Math.abs(o)), o <= 45 && o >= 0 ? !1 === n.options.rtl ? "left" : "right" : o <= 360 && o >= 315 ? !1 === n.options.rtl ? "left" : "right" : o >= 135 && o <= 225 ? !1 === n.options.rtl ? "right" : "left" : !0 === n.options.verticalSwiping ? o >= 35 && o <= 135 ? "down" : "up" : "vertical"
        }, t.prototype.swipeEnd = function(e) {
            var t, i, o = this;
            if (o.dragging = !1, o.swiping = !1, o.scrolling) return o.scrolling = !1, !1;
            if (o.interrupted = !1, o.shouldClick = !(o.touchObject.swipeLength > 10), void 0 === o.touchObject.curX) return !1;
            if (!0 === o.touchObject.edgeHit && o.$slider.trigger("edge", [o, o.swipeDirection()]), o.touchObject.swipeLength >= o.touchObject.minSwipe) {
                switch (i = o.swipeDirection()) {
                    case "left":
                    case "down":
                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide + o.getSlideCount()) : o.currentSlide + o.getSlideCount(), o.currentDirection = 0;
                        break;
                    case "right":
                    case "up":
                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide - o.getSlideCount()) : o.currentSlide - o.getSlideCount(), o.currentDirection = 1
                }
                "vertical" != i && (o.slideHandler(t), o.touchObject = {}, o.$slider.trigger("swipe", [o, i]))
            } else o.touchObject.startX !== o.touchObject.curX && (o.slideHandler(o.currentSlide), o.touchObject = {})
        }, t.prototype.swipeHandler = function(e) {
            var t = this;
            if (!(!1 === t.options.swipe || "ontouchend" in document && !1 === t.options.swipe || !1 === t.options.draggable && -1 !== e.type.indexOf("mouse"))) switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold), e.data.action) {
                case "start":
                    t.swipeStart(e);
                    break;
                case "move":
                    t.swipeMove(e);
                    break;
                case "end":
                    t.swipeEnd(e)
            }
        }, t.prototype.swipeMove = function(e) {
            var t, i, o, n, a, s, r = this;
            return a = void 0 !== e.originalEvent ? e.originalEvent.touches : null, !(!r.dragging || r.scrolling || a && 1 !== a.length) && (t = r.getLeft(r.currentSlide), r.touchObject.curX = void 0 !== a ? a[0].pageX : e.clientX, r.touchObject.curY = void 0 !== a ? a[0].pageY : e.clientY, r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curX - r.touchObject.startX, 2))), s = Math.round(Math.sqrt(Math.pow(r.touchObject.curY - r.touchObject.startY, 2))), !r.options.verticalSwiping && !r.swiping && s > 4 ? (r.scrolling = !0, !1) : (!0 === r.options.verticalSwiping && (r.touchObject.swipeLength = s), i = r.swipeDirection(), void 0 !== e.originalEvent && r.touchObject.swipeLength > 4 && (r.swiping = !0, e.preventDefault()), n = (!1 === r.options.rtl ? 1 : -1) * (r.touchObject.curX > r.touchObject.startX ? 1 : -1), !0 === r.options.verticalSwiping && (n = r.touchObject.curY > r.touchObject.startY ? 1 : -1), o = r.touchObject.swipeLength, r.touchObject.edgeHit = !1, !1 === r.options.infinite && (0 === r.currentSlide && "right" === i || r.currentSlide >= r.getDotCount() && "left" === i) && (o = r.touchObject.swipeLength * r.options.edgeFriction, r.touchObject.edgeHit = !0), !1 === r.options.vertical ? r.swipeLeft = t + o * n : r.swipeLeft = t + o * (r.$list.height() / r.listWidth) * n, !0 === r.options.verticalSwiping && (r.swipeLeft = t + o * n), !0 !== r.options.fade && !1 !== r.options.touchMove && (!0 === r.animating ? (r.swipeLeft = null, !1) : void r.setCSS(r.swipeLeft))))
        }, t.prototype.swipeStart = function(e) {
            var t, i = this;
            if (i.interrupted = !0, 1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, !1;
            void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY, i.dragging = !0
        }, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
            var e = this;
            null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit())
        }, t.prototype.unload = function() {
            var t = this;
            e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove(), t.$nextArrow && t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
        }, t.prototype.unslick = function(e) {
            var t = this;
            t.$slider.trigger("unslick", [t, e]), t.destroy()
        }, t.prototype.updateArrows = function() {
            var e = this;
            Math.floor(e.options.slidesToShow / 2), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode ? (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
        }, t.prototype.updateDots = function() {
            var e = this;
            null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").end(), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active"))
        }, t.prototype.visibility = function() {
            var e = this;
            e.options.autoplay && (document[e.hidden] ? e.interrupted = !0 : e.interrupted = !1)
        }, e.fn.slick = function() {
            var e, i, o = this,
                n = arguments[0],
                a = Array.prototype.slice.call(arguments, 1),
                s = o.length;
            for (e = 0; e < s; e++)
                if ("object" == typeof n || void 0 === n ? o[e].slick = new t(o[e], n) : i = o[e].slick[n].apply(o[e].slick, a), void 0 !== i) return i;
            return o
        }
    }),
    function(e, t) {
        "use strict";

        function i(i, a) {
            var s = this;
            s.$el = e(i), s.el = i, s.$el.bind("destroyed", e.proxy(s.teardown, s)), s.$window = e(t), s.$clonedHeader = null, s.$originalHeader = null, s.isCloneVisible = !1, s.leftOffset = null, s.topOffset = null, s.init = function() {
                s.options = e.extend({}, n, a), s.$el.each(function() {
                    var t = e(this);
                    t.css("padding", 0), s.$originalHeader = e("thead:first", this), s.$clonedHeader = s.$originalHeader.clone(), s.$clonedHeader.addClass("tableFloatingHeader"), s.$clonedHeader.css({
                        position: "fixed",
                        top: 0,
                        "z-index": 1,
                        display: "none"
                    }), s.$originalHeader.addClass("tableFloatingHeaderOriginal"), s.$originalHeader.after(s.$clonedHeader), e("th", s.$clonedHeader).on("click." + o, function() {
                        var t = e("th", s.$clonedHeader).index(this);
                        e("th", s.$originalHeader).eq(t).click()
                    }), t.on("sortEnd." + o, s.updateWidth)
                }), s.updateWidth(), s.toggleHeaders(), s.bind()
            }, s.destroy = function() {
                s.$el.unbind("destroyed", s.teardown), s.teardown()
            }, s.teardown = function() {
                e.removeData(s.el, "plugin_" + o), s.unbind(), s.$clonedHeader.remove(), s.$originalHeader.removeClass("tableFloatingHeaderOriginal"), s.$originalHeader.css("visibility", "visible"), s.el = null, s.$el = null
            }, s.bind = function() {
                s.$window.on("scroll." + o, s.toggleHeaders), s.$window.on("resize." + o, s.toggleHeaders), s.$window.on("resize." + o, s.updateWidth)
            }, s.unbind = function() {
                s.$window.off("." + o, s.toggleHeaders), s.$window.off("." + o, s.updateWidth), s.$el.off("." + o), s.$el.find("*").off("." + o)
            }, s.toggleHeaders = function() {
                s.$el.each(function() {
                    var t = e(this),
                        i = isNaN(s.options.fixedOffset) ? s.options.fixedOffset.height() : s.options.fixedOffset,
                        o = t.offset(),
                        n = s.$window.scrollTop() + i,
                        a = s.$window.scrollLeft();
                    if (n > o.top && o.top + t.height() > n) {
                        var r = o.left - a;
                        if (s.isCloneVisible && r === s.leftOffset && i === s.topOffset) return;
                        s.$clonedHeader.css({
                            top: i,
                            "margin-top": 0,
                            left: r,
                            display: "block"
                        }), s.$originalHeader.css("visibility", "hidden"), s.isCloneVisible = !0, s.leftOffset = r, s.topOffset = i
                    } else s.isCloneVisible && (s.$clonedHeader.css("display", "none"), s.$originalHeader.css("visibility", "visible"), s.isCloneVisible = !1)
                })
            }, s.updateWidth = function() {
                e("th", s.$clonedHeader).each(function(t) {
                    var i = e(this),
                        o = e("th", s.$originalHeader).eq(t);
                    this.className = o.attr("class") || "", i.css("width", o.width())
                }), s.$clonedHeader.css("width", s.$originalHeader.width())
            }, s.init()
        }
        var o = "stickyTableHeaders",
            n = {
                fixedOffset: 0
            };
        e.fn[o] = function(t) {
            return this.each(function() {
                var n = e.data(this, "plugin_" + o);
                n ? "string" == typeof t && n[t].apply(n) : "destroy" !== t && e.data(this, "plugin_" + o, new i(this, t))
            })
        }
    }(jQuery, window),
    function(e) {
        e.fn.unveil = function(t, i) {
            function o() {
                var t = r.filter(function() {
                    var t = e(this);
                    if (!t.is(":hidden")) {
                        var i = a.scrollTop(),
                            o = i + a.height(),
                            n = t.offset().top;
                        return n + t.height() >= i - s && n <= o + s
                    }
                });
                n = t.trigger("unveil"), r = r.not(n)
            }
            var n, a = e(window),
                s = t || 0,
                r = this;
            return this.one("unveil", function() {
                var e = this.getAttribute("data-src");
                (e = e || this.getAttribute("data-src")) && (this.setAttribute("src", e), "function" == typeof i && i.call(this))
            }), a.on("scroll.unveil resize.unveil lookup.unveil", o), o(), this
        }
    }(window.jQuery),
    function(e) {
        e.fn.visible = function(t) {
            var i = e(this),
                o = e(window),
                n = o.scrollTop(),
                a = n + o.height(),
                s = i.offset().top,
                r = s + i.height(),
                l = !0 === t ? r : s;
            return (!0 === t ? s : r) <= a && l >= n
        }
    }(jQuery),
    function(e) {
        "use strict";

        function t(e) {
            var t = ++s;
            return String(null == e ? "rmjs-" : e) + t
        }

        function i(e) {
            var t = e.clone().css({
                    height: "auto",
                    width: e.width(),
                    maxHeight: "none",
                    overflow: "hidden"
                }).insertAfter(e),
                i = t.outerHeight(),
                o = parseInt(t.css({
                    maxHeight: ""
                }).css("max-height").replace(/[^-\d\.]/g, ""), 10),
                n = e.data("defaultHeight");
            t.remove();
            var a = o || e.data("collapsedHeight") || n;
            e.data({
                expandedHeight: i,
                maxHeight: o,
                collapsedHeight: a
            }).css({
                maxHeight: "none"
            })
        }

        function o(t, i) {
            this.element = t, this.options = e.extend({}, a, i), this._name = n, this.init(), window.addEventListener ? (window.addEventListener("load", r), window.addEventListener("resize", r)) : (window.attachEvent("load", r), window.attachEvent("resize", r))
        }
        var n = "readmore",
            a = {
                heightMargin: 16,
                moreLink: '<a class="pure-1" href="#">Read More</a>',
                lessLink: '<a href="#">Collapse</a>',
                blockCSS: "display: block; width: 100%;"
            },
            s = 0,
            r = function(e, t, i) {
                var o;
                return function() {
                    var n = this,
                        a = arguments,
                        s = function() {
                            o = null, i || e.apply(n, a)
                        },
                        r = i && !o;
                    clearTimeout(o), o = setTimeout(s, t), r && e.apply(n, a)
                }
            }(function() {
                e("[data-readmore]").each(function() {
                    var t = e(this),
                        o = "true" === t.attr("aria-expanded");
                    i(t), t.css({
                        height: t.data(o ? "expandedHeight" : "collapsedHeight")
                    })
                })
            }, 100);
        o.prototype = {
            init: function() {
                var o = this,
                    n = e(this.element);
                n.data({
                    defaultHeight: this.options.collapsedHeight,
                    heightMargin: this.options.heightMargin
                }), i(n);
                var a = n.data("collapsedHeight"),
                    s = n.data("heightMargin");
                if (n.outerHeight(!0) <= a + s) return n.addClass("open"), !0;
                var r = n.attr("id") || t();
                n.attr({
                    "data-readmore": "",
                    "aria-expanded": !1,
                    id: r
                }), n.after(e(o.options.moreLink).on("click", function(e) {
                    o.toggle(this, n[0], e)
                }).attr({
                    "data-readmore-toggle": "",
                    "aria-controls": r
                })), n.css({
                    height: a
                })
            },
            toggle: function(t, i, o) {
                o && o.preventDefault(), t || (t = e('[aria-controls="' + this.element.id + '"]')[0]), i || (i = this.element);
                var n = this,
                    a = e(i),
                    s = !1,
                    r = a.data("collapsedHeight"),
                    l = r,
                    d = "moreLink";
                a.height() <= r ? (l = a.data("expandedHeight") + "px", s = !0, a.addClass("open"), d = "lessLink") : a.removeClass("open"), a.css({
                    height: l
                }), a.on("transitionend", function() {
                    e(this).attr({
                        "aria-expanded": s
                    }).off("transitionend")
                }), e(t).replaceWith(e(n.options[d]).on("click", function(e) {
                    n.toggle(this, i, e)
                }).attr({
                    "data-readmore-toggle": "",
                    "aria-controls": a.attr("id"),
                    class: "pure-1"
                }))
            },
            destroy: function() {
                e(this.element).each(function() {
                    var t = e(this);
                    t.attr({
                        "data-readmore": null,
                        "aria-expanded": null
                    }).css({
                        maxHeight: "",
                        height: ""
                    }).next("[data-readmore-toggle]").remove(), t.removeData()
                })
            }
        }, e.fn.readmore = function() {
            return this.each(function() {
                if (e.data(this, "plugin_" + n)) {
                    var t = e.data(this, "plugin_" + n);
                    t.destroy.apply(t)
                }
                e.data(this, "plugin_" + n, new o(this, {
                    selector: this.selector
                }))
            })
        }
    }(jQuery),
    function(e) {
        function t(t, i) {
            e(".screenshots").click(function() {
                e.fancybox(t, {
                    alt: i + " screenshot",
                    afterLoad: function() {
                        this.group.length > 1 && (this.title = '<span id="fancybox-title-over-wrap">Image ' + (this.index + 1) + " / " + this.group.length + (this.title ? " - " + this.title : "</span>"))
                    }
                }), track("Screenshots", "click")
            })
        }
        Lightbox = {
            init: t
        }
    }(jQuery);
const notificationIcon = $(".notificationIcon"),
    notificationCookieName = "launchNotification",
    notificationRegex = new RegExp(notificationCookieName + "=(\\d*)"),
    notificationCookie = document.cookie.match(notificationRegex),
    notificationNow = Date.now(),
    notificationThen = notificationNow + 10368e6,
    notificationModal = $('<div class="notificationModal"><div class="notificationContent"><img src="/inc/img/modal-design.jpg"><div class="notificationText"><h1>3... 2... 1... LIFTOFF!</h1><p>Welcome to the beginning of a new Anime-Planet, with a new brand, and the first of many upcoming visual improvements.</p><a class="button cta" href="/forum/threads/introducing-the-new-anime-planet-brand.332068">Read more about the update</a></div></div></div>');
(!notificationCookie || notificationCookie < notificationNow) && notificationIcon.toggle(), notificationIcon.click(function(e) {
        e.preventDefault(), document.cookie = notificationCookieName + "=" + notificationThen + "; max-age=2592000; path=/", $("body").append(notificationModal), track("Notification", "launch"), notificationModal.click(function(e) {
            e.currentTarget === e.target && (e.preventDefault(), notificationModal.remove())
        })
    }),
    function() {
        function e(e, t) {
            e.on("click", ".pagination a", function(e) {
                e.preventDefault(), $(".pagination li").removeClass("selected"), $(".pagination a[href='" + $(this).attr("href") + "']").parents("li:not('.prev,.next')").addClass("selected"), t()
            })
        }
        Paginator = {
            init: e
        }
    }();
var Rateinator = function() {
    function e(e, t) {
        if (e.length) {
            var i = e.parent().attr("data-type") || e.attr("data-type"),
                o = e.attr("data-id");
            t.dialog({
                modal: !0,
                title: e.find("h4").text(),
                width: 440,
                hide: {
                    effect: "fade",
                    easing: "easeInBack"
                },
                show: {
                    effect: "scale",
                    easing: "easeOutBack"
                },
                close: function() {
                    "0" != t.find(".changeStatus").val() && $(document).trigger("rated", [{
                        mode: i,
                        id: o
                    }]), t.html("")
                },
                open: function() {
                    t.html("<div class=\"loader\"></div><button class='close-button cta'>Close</button>"), t.find(".loader").load("/api/list/get/" + i + "/" + o + "/" + TOKEN, function() {
                        $(this).removeClass("loader"), $(".ui-widget-overlay, .close-button").on("click", function() {
                            t.dialog("close")
                        }), initMyListBar(t), initRating(t)
                    })
                }
            })
        }
    }

    function t(e, t) {
        if (!0 !== updatingEpisodes[t.data("id")]) {
            updatingEpisodes[t.data("id")] = !0;
            var o = t.find(".statusArea"),
                n = t.data("episodes");
            n = isNaN(n) ? 0 : parseInt(n);
            var a = n + 1;
            switch (t.data("episode-type")) {
                case "episodes":
                    updateValue = a, shortEpisodeType = a > 1 ? "eps" : "ep";
                    break;
                case "chapters":
                    updateValue = a + "/0", shortEpisodeType = a > 1 ? "chs" : "ch";
                    break;
                case "volumes":
                    updateValue = "0/" + a, shortEpisodeType = a > 1 ? "vols" : "vol";
                    break;
                default:
                    throw "Unknown episode type."
            }
            i(o, " " + n + " " + shortEpisodeType + ' <img src="/inc/img/ajax-loader.gif"></img>');
            var s = t.find("form"),
                r = t.data("total-episodes");
            n != r ? $.getJSON("/api/list/update/" + s.data("mode") + "/" + s.data("id") + "/" + updateValue + "/" + TOKEN, function(e) {
                if (e.success) {
                    a == r && s.remove();
                    var n = $("form." + e.type + e.id);
                    n.find(".progress-img").remove(), n.parent().siblings("td").find(".incEps.working").removeClass("working"), t.data("episodes", a), i(o, " " + a + " " + shortEpisodeType), track("Lists", "incr eps", t.data("episode-type"), s.data("id"))
                }
                e.error ? alert(e.error) : (displayChallenges(e.challenge_popups), displayBadges(e.badges)), updatingEpisodes[t.data("id")] = !1
            }) : i(o, " " + n + " eps")
        }
    }

    function i(e, t) {
        e.find("img").remove(), e.contents().filter(function() {
            return 3 === this.nodeType
        }).remove(), e.append(t)
    }
    var o = $("#tooltipModal");
    return updatingEpisodes = {}, this.init = function(i, n, a, s) {
        n = n || "#siteContainer", a = a || ".card", $(n).on({
            mouseenter: function() {
                var e = $(this),
                    t = e.parent().attr("data-type") || e.attr("data-type"),
                    i = "rated off cta list-hover'>Add to list",
                    o = "",
                    n = ["2", "3", "5"];
                if (e.attr("data-status") && !e.hasClass("recommendation") && (0 != e.attr("data-status") && (i = "cta list-hover status" + e.attr("data-status") + "'> Update list"), -1 != n.indexOf(e.attr("data-status")) && (episodeType = e.data("episode-type"), episodeType))) {
                    switch (episodeType) {
                        case "episodes":
                            buttonText = "ep";
                            break;
                        case "chapters":
                            buttonText = "ch";
                            break;
                        case "volumes":
                            buttonText = "vol";
                            break;
                        default:
                            throw "Unknown episode type."
                    }
                    episodes = e.data("episodes"), episodes = isNaN(episodes) ? 0 : episodes;
                    var a = e.data("total-episodes");
                    episodes != a && (o = "<form data-id='" + e.data("id") + "' data-mode='" + t + "'><button class='increment'>" + buttonText + "</button><form>")
                }
                fadeToHidden(e.find(".rated.off").finish()), i = "<button class='" + i + "</button>", e.find(".crop").append("<div class='statusBand'>" + o + i + "</div>"), e.find(".statusBand").animate({
                    bottom: "0"
                })
            },
            mouseleave: function() {
                fadeToHidden($(this).find(".rated.off").finish(), !0), $(this).find(".statusBand").slideDown().remove()
            }
        }, a).on("click", ".statusBand button, .statusArea", function(n) {
            n.preventDefault(), n.stopPropagation();
            var s = $(this).parents(a);
            if (!i) return void needToLogin("Log in to add this " + s.parent().data("type") + " to your list", "new Rateinator().showModal", [s.find(".tooltip").attr("class").split(" ")[1], a]);
            this.classList.contains("increment") ? t(n, s) : e(s, o)
        }), o.on("StatusChanged", function(e, t) {
            var i = $(a + '[data-id="' + t.id + '"]'),
                o = i.find(".tooltip"),
                n = o.attr("title"),
                r = "<div class='myListBar sep'><h4>my " + t.mode + ":</h4> <span class='status" + t.status + "'></span> " + t.statusname + "</div>"; - 1 != o.attr("title").indexOf("myListBar") ? -1 == o.attr("title").indexOf("theirList sep") ? n = n.replace(/status([0-9]+)/, "status" + t.status).replace(/span>(.+)<\/div>/, "span> " + t.statusname + "</div>") : n += r.replace("sep", "") : n += r, i.attr("data-status", t.status);
            var l = $(n).closest(".myListBar").find("h4").remove().end().html();
            t.rating && "0" != t.rating && (l += "<div class='ttRating'>" + t.rating + "</div>"), s || i.find(".statusArea").html(l), o.attr("title", n), (isNaN(i.data("episodes")) || 0 == i.data("episodes")) && i.data("episodes", 0)
        }), o.on("Rated", function(e, t, i, o) {
            if (!s) {
                var n = $(a + '[data-id="' + t + '"]').find(".statusArea");
                n.find(".ttRating").length ? n.find(".ttRating").html(o) : n.append($("<div class='ttRating'>" + o + "</div>"))
            }
        }), o.on("EpsChanged", function(e, t, i, o, n) {
            if (!s) {
                var r = $(a + '[data-id="' + n + '"]'),
                    l = r.find(".statusArea"),
                    d = l.html();
                switch (l && d && (l.find(".ttRating").length ? l.html(d.replace(/<\/span>(.+)<div/, "</span> " + (t ? t + " " : "") + o + "<div")) : l.html(d.replace(/<\/span>(.+)/, "</span> " + (t ? t + " " : "") + o))), o) {
                    case "eps":
                        r.data("episode-type", "episodes");
                        break;
                    case "ch":
                    case "chs":
                        r.data("episode-type", "chapters");
                        break;
                    case "vol":
                    case "vols":
                        r.data("episode-type", "volumes");
                        break;
                    default:
                        throw "Unknown episode type."
                }
                r.data("total-episodes", i), r.data("episodes", isNaN(t) ? 0 : t)
            }
        })
    }, this.showModal = function(t, i) {
        e($("." + t).parents(i || ".card"), o || $("#tooltipModal"))
    }, this
};
! function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Cropper = t()
}(this, function() {
    "use strict";

    function e(e) {
        return "number" == typeof e && !ve(e)
    }

    function t(e) {
        return void 0 === e
    }

    function i(e) {
        return "object" === (void 0 === e ? "undefined" : fe(e)) && null !== e
    }

    function o(e) {
        if (!i(e)) return !1;
        try {
            var t = e.constructor,
                o = t.prototype;
            return t && o && we.call(o, "isPrototypeOf")
        } catch (e) {
            return !1
        }
    }

    function n(e) {
        return "function" == typeof e
    }

    function a(t, o) {
        if (t && n(o))
            if (Array.isArray(t) || e(t.length)) {
                var a = t.length,
                    s = void 0;
                for (s = 0; s < a && !1 !== o.call(t, t[s], s, t); s += 1);
            } else i(t) && Object.keys(t).forEach(function(e) {
                o.call(t, t[e], e, t)
            });
        return t
    }

    function s(e) {
        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1e11;
        return be.test(e) ? Math.round(e * t) / t : e
    }

    function r(t, i) {
        var o = t.style;
        a(i, function(t, i) {
            xe.test(i) && e(t) && (t += "px"), o[i] = t
        })
    }

    function l(t, i) {
        if (i)
            if (e(t.length)) a(t, function(e) {
                l(e, i)
            });
            else if (t.classList) t.classList.add(i);
        else {
            var o = t.className.trim();
            o ? o.indexOf(i) < 0 && (t.className = o + " " + i) : t.className = i
        }
    }

    function d(t, i) {
        i && (e(t.length) ? a(t, function(e) {
            d(e, i)
        }) : t.classList ? t.classList.remove(i) : 0 <= t.className.indexOf(i) && (t.className = t.className.replace(i, "")))
    }

    function c(t, i, o) {
        i && (e(t.length) ? a(t, function(e) {
            c(e, i, o)
        }) : o ? l(t, i) : d(t, i))
    }

    function p(e) {
        return e.replace(ke, "$1-$2").toLowerCase()
    }

    function h(e, t) {
        return i(e[t]) ? e[t] : e.dataset ? e.dataset[t] : e.getAttribute("data-" + p(t))
    }

    function u(e, t, o) {
        i(o) ? e[t] = o : e.dataset ? e.dataset[t] = o : e.setAttribute("data-" + p(t), o)
    }

    function f(e, t) {
        if (i(e[t])) try {
            delete e[t]
        } catch (i) {
            e[t] = void 0
        } else if (e.dataset) try {
            delete e.dataset[t]
        } catch (i) {
            e.dataset[t] = void 0
        } else e.removeAttribute("data-" + p(t))
    }

    function g(e, t, i) {
        var o = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
            n = i;
        t.trim().split(Ce).forEach(function(t) {
            if (!Te) {
                var a = e.listeners;
                a && a[t] && a[t][i] && (n = a[t][i], delete a[t][i], 0 === Object.keys(a[t]).length && delete a[t], 0 === Object.keys(a).length && delete e.listeners)
            }
            e.removeEventListener(t, n, o)
        })
    }

    function m(e, t, i) {
        var o = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
            n = i;
        t.trim().split(Ce).forEach(function(t) {
            if (o.once && !Te) {
                var a = e.listeners,
                    s = void 0 === a ? {} : a;
                n = function() {
                    for (var a = arguments.length, r = Array(a), l = 0; l < a; l++) r[l] = arguments[l];
                    delete s[t][i], e.removeEventListener(t, n, o), i.apply(e, r)
                }, s[t] || (s[t] = {}), s[t][i] && e.removeEventListener(t, s[t][i], o), s[t][i] = n, e.listeners = s
            }
            e.addEventListener(t, n, o)
        })
    }

    function v(e, t, i) {
        var o = void 0;
        return n(Event) && n(CustomEvent) ? o = new CustomEvent(t, {
            detail: i,
            bubbles: !0,
            cancelable: !0
        }) : (o = document.createEvent("CustomEvent")).initCustomEvent(t, !0, !0, i), e.dispatchEvent(o)
    }

    function w(e) {
        var t = e.getBoundingClientRect();
        return {
            left: t.left + (window.pageXOffset - document.documentElement.clientLeft),
            top: t.top + (window.pageYOffset - document.documentElement.clientTop)
        }
    }

    function y(e) {
        var t = e.match($e);
        return t && (t[1] !== Se.protocol || t[2] !== Se.hostname || t[3] !== Se.port)
    }

    function b(e) {
        var t = "timestamp=" + (new Date).getTime();
        return e + (-1 === e.indexOf("?") ? "?" : "&") + t
    }

    function x(t) {
        var i = t.rotate,
            o = t.scaleX,
            n = t.scaleY,
            a = t.translateX,
            s = t.translateY,
            r = [];
        e(a) && 0 !== a && r.push("translateX(" + a + "px)"), e(s) && 0 !== s && r.push("translateY(" + s + "px)"), e(i) && 0 !== i && r.push("rotate(" + i + "deg)"), e(o) && 1 !== o && r.push("scaleX(" + o + ")"), e(n) && 1 !== n && r.push("scaleY(" + n + ")");
        var l = r.length ? r.join(" ") : "none";
        return {
            WebkitTransform: l,
            msTransform: l,
            transform: l
        }
    }

    function k(e, t) {
        var i = e.pageX,
            o = e.pageY,
            n = {
                endX: i,
                endY: o
            };
        return t ? n : ye({
            startX: i,
            startY: o
        }, n)
    }

    function C(e) {
        var t = e.aspectRatio,
            i = e.height,
            o = e.width,
            n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "contain",
            a = function(e) {
                return Me(e) && 0 < e
            };
        if (a(o) && a(i)) {
            var s = i * t;
            "contain" === n && o < s || "cover" === n && s < o ? i = o / t : o = i * t
        } else a(o) ? i = o / t : a(i) && (o = i * t);
        return {
            width: o,
            height: i
        }
    }

    function T(e) {
        var t = new DataView(e),
            i = void 0,
            o = void 0,
            n = void 0,
            a = void 0;
        if (255 === t.getUint8(0) && 216 === t.getUint8(1))
            for (var s = t.byteLength, r = 2; r < s;) {
                if (255 === t.getUint8(r) && 225 === t.getUint8(r + 1)) {
                    n = r;
                    break
                }
                r += 1
            }
        if (n) {
            var l = n + 10;
            if ("Exif" === function(e, t, i) {
                    var o = "",
                        n = void 0;
                    for (i += t, n = t; n < i; n += 1) o += Ee(e.getUint8(n));
                    return o
                }(t, n + 4, 4)) {
                var d = t.getUint16(l);
                if (((o = 18761 === d) || 19789 === d) && 42 === t.getUint16(l + 2, o)) {
                    var c = t.getUint32(l + 4, o);
                    8 <= c && (a = l + c)
                }
            }
        }
        if (a) {
            var p = t.getUint16(a, o),
                h = void 0,
                u = void 0;
            for (u = 0; u < p; u += 1)
                if (h = a + 12 * u + 2, 274 === t.getUint16(h, o)) {
                    h += 8, i = t.getUint16(h, o), t.setUint16(h, 1, o);
                    break
                }
        }
        return i
    }
    var S = "undefined" != typeof window,
        $ = S ? window : {},
        M = "cropper",
        E = "all",
        A = "crop",
        P = "move",
        O = "zoom",
        H = "e",
        I = "w",
        D = "s",
        B = "n",
        L = "ne",
        R = "nw",
        _ = "se",
        j = "sw",
        W = M + "-crop",
        z = M + "-disabled",
        N = M + "-hidden",
        F = M + "-hide",
        U = M + "-modal",
        X = M + "-move",
        G = M + "Action",
        q = M + "Preview",
        K = "crop",
        V = "move",
        Y = "none",
        Q = "crop",
        Z = "cropend",
        J = "cropmove",
        ee = "cropstart",
        te = "dblclick",
        ie = $.PointerEvent ? "pointerdown" : "touchstart mousedown",
        oe = $.PointerEvent ? "pointermove" : "touchmove mousemove",
        ne = $.PointerEvent ? "pointerup pointercancel" : "touchend touchcancel mouseup",
        ae = "ready",
        se = "resize",
        re = "wheel mousewheel DOMMouseScroll",
        le = "zoom",
        de = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,
        ce = /^data:/,
        pe = /^data:image\/jpeg;base64,/,
        he = /^(?:img|canvas)$/i,
        ue = {
            viewMode: 0,
            dragMode: K,
            initialAspectRatio: NaN,
            aspectRatio: NaN,
            data: null,
            preview: "",
            responsive: !0,
            restore: !0,
            checkCrossOrigin: !0,
            checkOrientation: !0,
            modal: !0,
            guides: !0,
            center: !0,
            highlight: !0,
            background: !0,
            autoCrop: !0,
            autoCropArea: .8,
            movable: !0,
            rotatable: !0,
            scalable: !0,
            zoomable: !0,
            zoomOnTouch: !0,
            zoomOnWheel: !0,
            wheelZoomRatio: .1,
            cropBoxMovable: !0,
            cropBoxResizable: !0,
            toggleDragModeOnDblclick: !0,
            minCanvasWidth: 0,
            minCanvasHeight: 0,
            minCropBoxWidth: 0,
            minCropBoxHeight: 0,
            minContainerWidth: 200,
            minContainerHeight: 100,
            ready: null,
            cropstart: null,
            cropmove: null,
            cropend: null,
            crop: null,
            zoom: null
        },
        fe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        },
        ge = function() {
            function e(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var o = t[i];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                }
            }
            return function(t, i, o) {
                return i && e(t.prototype, i), o && e(t, o), t
            }
        }(),
        me = function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                return i
            }
            return Array.from(e)
        },
        ve = Number.isNaN || $.isNaN,
        we = Object.prototype.hasOwnProperty,
        ye = Object.assign || function(e) {
            for (var t = arguments.length, o = Array(1 < t ? t - 1 : 0), n = 1; n < t; n++) o[n - 1] = arguments[n];
            return i(e) && 0 < o.length && o.forEach(function(t) {
                i(t) && Object.keys(t).forEach(function(i) {
                    e[i] = t[i]
                })
            }), e
        },
        be = /\.\d*(?:0|9){12}\d*$/i,
        xe = /^(?:width|height|left|top|marginLeft|marginTop)$/,
        ke = /([a-z\d])([A-Z])/g,
        Ce = /\s\s*/,
        Te = function() {
            var e = !1;
            if (S) {
                var t = !1,
                    i = function() {},
                    o = Object.defineProperty({}, "once", {
                        get: function() {
                            return e = !0, t
                        },
                        set: function(e) {
                            t = e
                        }
                    });
                $.addEventListener("test", i, o), $.removeEventListener("test", i, o)
            }
            return e
        }(),
        Se = $.location,
        $e = /^(https?:)\/\/([^:\/?#]+):?(\d*)/i,
        Me = Number.isFinite || $.isFinite,
        Ee = String.fromCharCode,
        Ae = /^data:.*,/,
        Pe = {
            render: function() {
                this.initContainer(), this.initCanvas(), this.initCropBox(), this.renderCanvas(), this.cropped && this.renderCropBox()
            },
            initContainer: function() {
                var e = this.element,
                    t = this.options,
                    i = this.container,
                    o = this.cropper;
                l(o, N), d(e, N);
                var n = {
                    width: Math.max(i.offsetWidth, Number(t.minContainerWidth) || 200),
                    height: Math.max(i.offsetHeight, Number(t.minContainerHeight) || 100)
                };
                r(o, {
                    width: (this.containerData = n).width,
                    height: n.height
                }), l(e, N), d(o, N)
            },
            initCanvas: function() {
                var e = this.containerData,
                    t = this.imageData,
                    i = this.options.viewMode,
                    o = Math.abs(t.rotate) % 180 == 90,
                    n = o ? t.naturalHeight : t.naturalWidth,
                    a = o ? t.naturalWidth : t.naturalHeight,
                    s = n / a,
                    r = e.width,
                    l = e.height;
                e.height * s > e.width ? 3 === i ? r = e.height * s : l = e.width / s : 3 === i ? l = e.width / s : r = e.height * s;
                var d = {
                    aspectRatio: s,
                    naturalWidth: n,
                    naturalHeight: a,
                    width: r,
                    height: l
                };
                d.left = (e.width - r) / 2, d.top = (e.height - l) / 2, d.oldLeft = d.left, d.oldTop = d.top, this.canvasData = d, this.limited = 1 === i || 2 === i, this.limitCanvas(!0, !0), this.initialImageData = ye({}, t), this.initialCanvasData = ye({}, d)
            },
            limitCanvas: function(e, t) {
                var i = this.options,
                    o = this.containerData,
                    n = this.canvasData,
                    a = this.cropBoxData,
                    s = i.viewMode,
                    r = n.aspectRatio,
                    l = this.cropped && a;
                if (e) {
                    var d = Number(i.minCanvasWidth) || 0,
                        c = Number(i.minCanvasHeight) || 0;
                    1 < s ? (d = Math.max(d, o.width), c = Math.max(c, o.height), 3 === s && (d < c * r ? d = c * r : c = d / r)) : 0 < s && (d ? d = Math.max(d, l ? a.width : 0) : c ? c = Math.max(c, l ? a.height : 0) : l && ((d = a.width) < (c = a.height) * r ? d = c * r : c = d / r));
                    var p = C({
                        aspectRatio: r,
                        width: d,
                        height: c
                    });
                    d = p.width, c = p.height, n.minWidth = d, n.minHeight = c, n.maxWidth = 1 / 0, n.maxHeight = 1 / 0
                }
                if (t)
                    if ((l ? 0 : 1) < s) {
                        var h = o.width - n.width,
                            u = o.height - n.height;
                        n.minLeft = Math.min(0, h), n.minTop = Math.min(0, u), n.maxLeft = Math.max(0, h), n.maxTop = Math.max(0, u), l && this.limited && (n.minLeft = Math.min(a.left, a.left + (a.width - n.width)), n.minTop = Math.min(a.top, a.top + (a.height - n.height)), n.maxLeft = a.left, n.maxTop = a.top, 2 === s && (n.width >= o.width && (n.minLeft = Math.min(0, h), n.maxLeft = Math.max(0, h)), n.height >= o.height && (n.minTop = Math.min(0, u), n.maxTop = Math.max(0, u))))
                    } else n.minLeft = -n.width, n.minTop = -n.height, n.maxLeft = o.width, n.maxTop = o.height
            },
            renderCanvas: function(e, t) {
                var i = this.canvasData,
                    o = this.imageData;
                if (t) {
                    var n = function(e) {
                            var t = e.width,
                                i = e.height,
                                o = e.degree;
                            if (90 == (o = Math.abs(o) % 180)) return {
                                width: i,
                                height: t
                            };
                            var n = o % 90 * Math.PI / 180,
                                a = Math.sin(n),
                                s = Math.cos(n),
                                r = t * s + i * a,
                                l = t * a + i * s;
                            return 90 < o ? {
                                width: l,
                                height: r
                            } : {
                                width: r,
                                height: l
                            }
                        }({
                            width: o.naturalWidth * Math.abs(o.scaleX || 1),
                            height: o.naturalHeight * Math.abs(o.scaleY || 1),
                            degree: o.rotate || 0
                        }),
                        a = n.width,
                        s = n.height,
                        l = i.width * (a / i.naturalWidth),
                        d = i.height * (s / i.naturalHeight);
                    i.left -= (l - i.width) / 2, i.top -= (d - i.height) / 2, i.width = l, i.height = d, i.aspectRatio = a / s, i.naturalWidth = a, i.naturalHeight = s, this.limitCanvas(!0, !1)
                }(i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft), (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), this.limitCanvas(!1, !0), i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft), i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop), i.oldLeft = i.left, i.oldTop = i.top, r(this.canvas, ye({
                    width: i.width,
                    height: i.height
                }, x({
                    translateX: i.left,
                    translateY: i.top
                }))), this.renderImage(e), this.cropped && this.limited && this.limitCropBox(!0, !0)
            },
            renderImage: function(e) {
                var t = this.canvasData,
                    i = this.imageData,
                    o = i.naturalWidth * (t.width / t.naturalWidth),
                    n = i.naturalHeight * (t.height / t.naturalHeight);
                ye(i, {
                    width: o,
                    height: n,
                    left: (t.width - o) / 2,
                    top: (t.height - n) / 2
                }), r(this.image, ye({
                    width: i.width,
                    height: i.height
                }, x(ye({
                    translateX: i.left,
                    translateY: i.top
                }, i)))), e && this.output()
            },
            initCropBox: function() {
                var e = this.options,
                    t = this.canvasData,
                    i = e.aspectRatio || e.initialAspectRatio,
                    o = Number(e.autoCropArea) || .8,
                    n = {
                        width: t.width,
                        height: t.height
                    };
                i && (t.height * i > t.width ? n.height = n.width / i : n.width = n.height * i), this.cropBoxData = n, this.limitCropBox(!0, !0), n.width = Math.min(Math.max(n.width, n.minWidth), n.maxWidth), n.height = Math.min(Math.max(n.height, n.minHeight), n.maxHeight), n.width = Math.max(n.minWidth, n.width * o), n.height = Math.max(n.minHeight, n.height * o), n.left = t.left + (t.width - n.width) / 2, n.top = t.top + (t.height - n.height) / 2, n.oldLeft = n.left, n.oldTop = n.top, this.initialCropBoxData = ye({}, n)
            },
            limitCropBox: function(e, t) {
                var i = this.options,
                    o = this.containerData,
                    n = this.canvasData,
                    a = this.cropBoxData,
                    s = this.limited,
                    r = i.aspectRatio;
                if (e) {
                    var l = Number(i.minCropBoxWidth) || 0,
                        d = Number(i.minCropBoxHeight) || 0,
                        c = s ? Math.min(o.width, n.width, n.width + n.left, o.width - n.left) : o.width,
                        p = s ? Math.min(o.height, n.height, n.height + n.top, o.height - n.top) : o.height;
                    l = Math.min(l, o.width), d = Math.min(d, o.height), r && (l && d ? l < d * r ? d = l / r : l = d * r : l ? d = l / r : d && (l = d * r), c < p * r ? p = c / r : c = p * r), a.minWidth = Math.min(l, c), a.minHeight = Math.min(d, p), a.maxWidth = c, a.maxHeight = p
                }
                t && (s ? (a.minLeft = Math.max(0, n.left), a.minTop = Math.max(0, n.top), a.maxLeft = Math.min(o.width, n.left + n.width) - a.width, a.maxTop = Math.min(o.height, n.top + n.height) - a.height) : (a.minLeft = 0, a.minTop = 0, a.maxLeft = o.width - a.width, a.maxTop = o.height - a.height))
            },
            renderCropBox: function() {
                var e = this.options,
                    t = this.containerData,
                    i = this.cropBoxData;
                (i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft), (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), this.limitCropBox(!1, !0), i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft), i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop), i.oldLeft = i.left, i.oldTop = i.top, e.movable && e.cropBoxMovable && u(this.face, G, i.width >= t.width && i.height >= t.height ? P : E), r(this.cropBox, ye({
                    width: i.width,
                    height: i.height
                }, x({
                    translateX: i.left,
                    translateY: i.top
                }))), this.cropped && this.limited && this.limitCanvas(!0, !0), this.disabled || this.output()
            },
            output: function() {
                this.preview(), v(this.element, Q, this.getData())
            }
        },
        Oe = {
            initPreview: function() {
                var e = this.crossOrigin,
                    t = this.options.preview,
                    i = e ? this.crossOriginUrl : this.url,
                    o = document.createElement("img");
                if (e && (o.crossOrigin = e), o.src = i, this.viewBox.appendChild(o), this.viewBoxImage = o, t) {
                    var n = t;
                    "string" == typeof t ? n = this.element.ownerDocument.querySelectorAll(t) : t.querySelector && (n = [t]), a(this.previews = n, function(t) {
                        var o = document.createElement("img");
                        u(t, q, {
                            width: t.offsetWidth,
                            height: t.offsetHeight,
                            html: t.innerHTML
                        }), e && (o.crossOrigin = e), o.src = i, o.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"', t.innerHTML = "", t.appendChild(o)
                    })
                }
            },
            resetPreview: function() {
                a(this.previews, function(e) {
                    var t = h(e, q);
                    r(e, {
                        width: t.width,
                        height: t.height
                    }), e.innerHTML = t.html, f(e, q)
                })
            },
            preview: function() {
                var e = this.imageData,
                    t = this.canvasData,
                    i = this.cropBoxData,
                    o = i.width,
                    n = i.height,
                    s = e.width,
                    l = e.height,
                    d = i.left - t.left - e.left,
                    c = i.top - t.top - e.top;
                this.cropped && !this.disabled && (r(this.viewBoxImage, ye({
                    width: s,
                    height: l
                }, x(ye({
                    translateX: -d,
                    translateY: -c
                }, e)))), a(this.previews, function(t) {
                    var i = h(t, q),
                        a = i.width,
                        p = i.height,
                        u = a,
                        f = p,
                        g = 1;
                    o && (f = n * (g = a / o)), n && p < f && (u = o * (g = p / n), f = p), r(t, {
                        width: u,
                        height: f
                    }), r(t.getElementsByTagName("img")[0], ye({
                        width: s * g,
                        height: l * g
                    }, x(ye({
                        translateX: -d * g,
                        translateY: -c * g
                    }, e))))
                }))
            }
        },
        He = {
            bind: function() {
                var e = this.element,
                    t = this.options,
                    i = this.cropper;
                n(t.cropstart) && m(e, ee, t.cropstart), n(t.cropmove) && m(e, J, t.cropmove), n(t.cropend) && m(e, Z, t.cropend), n(t.crop) && m(e, Q, t.crop), n(t.zoom) && m(e, le, t.zoom), m(i, ie, this.onCropStart = this.cropStart.bind(this)), t.zoomable && t.zoomOnWheel && m(i, re, this.onWheel = this.wheel.bind(this)), t.toggleDragModeOnDblclick && m(i, te, this.onDblclick = this.dblclick.bind(this)), m(e.ownerDocument, oe, this.onCropMove = this.cropMove.bind(this)), m(e.ownerDocument, ne, this.onCropEnd = this.cropEnd.bind(this)), t.responsive && m(window, se, this.onResize = this.resize.bind(this))
            },
            unbind: function() {
                var e = this.element,
                    t = this.options,
                    i = this.cropper;
                n(t.cropstart) && g(e, ee, t.cropstart), n(t.cropmove) && g(e, J, t.cropmove), n(t.cropend) && g(e, Z, t.cropend), n(t.crop) && g(e, Q, t.crop), n(t.zoom) && g(e, le, t.zoom), g(i, ie, this.onCropStart), t.zoomable && t.zoomOnWheel && g(i, re, this.onWheel), t.toggleDragModeOnDblclick && g(i, te, this.onDblclick), g(e.ownerDocument, oe, this.onCropMove), g(e.ownerDocument, ne, this.onCropEnd), t.responsive && g(window, se, this.onResize)
            }
        },
        Ie = {
            resize: function() {
                var e = this.options,
                    t = this.container,
                    i = this.containerData,
                    o = Number(e.minContainerWidth) || 200,
                    n = Number(e.minContainerHeight) || 100;
                if (!(this.disabled || i.width <= o || i.height <= n)) {
                    var s = t.offsetWidth / i.width;
                    if (1 !== s || t.offsetHeight !== i.height) {
                        var r = void 0,
                            l = void 0;
                        e.restore && (r = this.getCanvasData(), l = this.getCropBoxData()), this.render(), e.restore && (this.setCanvasData(a(r, function(e, t) {
                            r[t] = e * s
                        })), this.setCropBoxData(a(l, function(e, t) {
                            l[t] = e * s
                        })))
                    }
                }
            },
            dblclick: function() {
                var e, t;
                this.disabled || this.options.dragMode === Y || this.setDragMode((e = this.dragBox, t = W, (e.classList ? e.classList.contains(t) : -1 < e.className.indexOf(t)) ? V : K))
            },
            wheel: function(e) {
                var t = this,
                    i = Number(this.options.wheelZoomRatio) || .1,
                    o = 1;
                this.disabled || (e.preventDefault(), this.wheeling || (this.wheeling = !0, setTimeout(function() {
                    t.wheeling = !1
                }, 50), e.deltaY ? o = 0 < e.deltaY ? 1 : -1 : e.wheelDelta ? o = -e.wheelDelta / 120 : e.detail && (o = 0 < e.detail ? 1 : -1), this.zoom(-o * i, e)))
            },
            cropStart: function(e) {
                if (!this.disabled) {
                    var t = this.options,
                        i = this.pointers,
                        o = void 0;
                    e.changedTouches ? a(e.changedTouches, function(e) {
                        i[e.identifier] = k(e)
                    }) : i[e.pointerId || 0] = k(e), o = 1 < Object.keys(i).length && t.zoomable && t.zoomOnTouch ? O : h(e.target, G), de.test(o) && !1 !== v(this.element, ee, {
                        originalEvent: e,
                        action: o
                    }) && (e.preventDefault(), this.action = o, this.cropping = !1, o === A && (this.cropping = !0, l(this.dragBox, U)))
                }
            },
            cropMove: function(e) {
                var t = this.action;
                if (!this.disabled && t) {
                    var i = this.pointers;
                    e.preventDefault(), !1 !== v(this.element, J, {
                        originalEvent: e,
                        action: t
                    }) && (e.changedTouches ? a(e.changedTouches, function(e) {
                        ye(i[e.identifier], k(e, !0))
                    }) : ye(i[e.pointerId || 0], k(e, !0)), this.change(e))
                }
            },
            cropEnd: function(e) {
                if (!this.disabled) {
                    var t = this.action,
                        i = this.pointers;
                    e.changedTouches ? a(e.changedTouches, function(e) {
                        delete i[e.identifier]
                    }) : delete i[e.pointerId || 0], t && (e.preventDefault(), Object.keys(i).length || (this.action = ""), this.cropping && (this.cropping = !1, c(this.dragBox, U, this.cropped && this.options.modal)), v(this.element, Z, {
                        originalEvent: e,
                        action: t
                    }))
                }
            }
        },
        De = {
            change: function(e) {
                var t = this.options,
                    i = this.canvasData,
                    o = this.containerData,
                    n = this.cropBoxData,
                    s = this.pointers,
                    r = this.action,
                    l = t.aspectRatio,
                    c = n.left,
                    p = n.top,
                    h = n.width,
                    u = n.height,
                    f = c + h,
                    g = p + u,
                    m = 0,
                    v = 0,
                    y = o.width,
                    b = o.height,
                    x = !0,
                    k = void 0;
                !l && e.shiftKey && (l = h && u ? h / u : 1), this.limited && (m = n.minLeft, v = n.minTop, y = m + Math.min(o.width, i.width, i.left + i.width), b = v + Math.min(o.height, i.height, i.top + i.height));
                var C, T, S, $ = s[Object.keys(s)[0]],
                    M = {
                        x: $.endX - $.startX,
                        y: $.endY - $.startY
                    },
                    W = function(e) {
                        switch (e) {
                            case H:
                                f + M.x > y && (M.x = y - f);
                                break;
                            case I:
                                c + M.x < m && (M.x = m - c);
                                break;
                            case B:
                                p + M.y < v && (M.y = v - p);
                                break;
                            case D:
                                g + M.y > b && (M.y = b - g)
                        }
                    };
                switch (r) {
                    case E:
                        c += M.x, p += M.y;
                        break;
                    case H:
                        if (0 <= M.x && (y <= f || l && (p <= v || b <= g))) {
                            x = !1;
                            break
                        }
                        W(H), (h += M.x) < 0 && (r = I, c -= h = -h), l && (u = h / l, p += (n.height - u) / 2);
                        break;
                    case B:
                        if (M.y <= 0 && (p <= v || l && (c <= m || y <= f))) {
                            x = !1;
                            break
                        }
                        W(B), u -= M.y, p += M.y, u < 0 && (r = D, p -= u = -u), l && (h = u * l, c += (n.width - h) / 2);
                        break;
                    case I:
                        if (M.x <= 0 && (c <= m || l && (p <= v || b <= g))) {
                            x = !1;
                            break
                        }
                        W(I), h -= M.x, c += M.x, h < 0 && (r = H, c -= h = -h), l && (u = h / l, p += (n.height - u) / 2);
                        break;
                    case D:
                        if (0 <= M.y && (b <= g || l && (c <= m || y <= f))) {
                            x = !1;
                            break
                        }
                        W(D), (u += M.y) < 0 && (r = B, p -= u = -u), l && (h = u * l, c += (n.width - h) / 2);
                        break;
                    case L:
                        if (l) {
                            if (M.y <= 0 && (p <= v || y <= f)) {
                                x = !1;
                                break
                            }
                            W(B), u -= M.y, p += M.y, h = u * l
                        } else W(B), W(H), 0 <= M.x ? f < y ? h += M.x : M.y <= 0 && p <= v && (x = !1) : h += M.x, M.y <= 0 ? v < p && (u -= M.y, p += M.y) : (u -= M.y, p += M.y);
                        h < 0 && u < 0 ? (r = j, p -= u = -u, c -= h = -h) : h < 0 ? (r = R, c -= h = -h) : u < 0 && (r = _, p -= u = -u);
                        break;
                    case R:
                        if (l) {
                            if (M.y <= 0 && (p <= v || c <= m)) {
                                x = !1;
                                break
                            }
                            W(B), u -= M.y, p += M.y, h = u * l, c += n.width - h
                        } else W(B), W(I), M.x <= 0 ? m < c ? (h -= M.x, c += M.x) : M.y <= 0 && p <= v && (x = !1) : (h -= M.x, c += M.x), M.y <= 0 ? v < p && (u -= M.y, p += M.y) : (u -= M.y, p += M.y);
                        h < 0 && u < 0 ? (r = _, p -= u = -u, c -= h = -h) : h < 0 ? (r = L, c -= h = -h) : u < 0 && (r = j, p -= u = -u);
                        break;
                    case j:
                        if (l) {
                            if (M.x <= 0 && (c <= m || b <= g)) {
                                x = !1;
                                break
                            }
                            W(I), h -= M.x, c += M.x, u = h / l
                        } else W(D), W(I), M.x <= 0 ? m < c ? (h -= M.x, c += M.x) : 0 <= M.y && b <= g && (x = !1) : (h -= M.x, c += M.x), 0 <= M.y ? g < b && (u += M.y) : u += M.y;
                        h < 0 && u < 0 ? (r = L, p -= u = -u, c -= h = -h) : h < 0 ? (r = _, c -= h = -h) : u < 0 && (r = R, p -= u = -u);
                        break;
                    case _:
                        if (l) {
                            if (0 <= M.x && (y <= f || b <= g)) {
                                x = !1;
                                break
                            }
                            W(H), u = (h += M.x) / l
                        } else W(D), W(H), 0 <= M.x ? f < y ? h += M.x : 0 <= M.y && b <= g && (x = !1) : h += M.x, 0 <= M.y ? g < b && (u += M.y) : u += M.y;
                        h < 0 && u < 0 ? (r = R, p -= u = -u, c -= h = -h) : h < 0 ? (r = j, c -= h = -h) : u < 0 && (r = L, p -= u = -u);
                        break;
                    case P:
                        this.move(M.x, M.y), x = !1;
                        break;
                    case O:
                        this.zoom((T = ye({}, C = s), S = [], a(C, function(e, t) {
                            delete T[t], a(T, function(t) {
                                var i = Math.abs(e.startX - t.startX),
                                    o = Math.abs(e.startY - t.startY),
                                    n = Math.abs(e.endX - t.endX),
                                    a = Math.abs(e.endY - t.endY),
                                    s = Math.sqrt(i * i + o * o),
                                    r = (Math.sqrt(n * n + a * a) - s) / s;
                                S.push(r)
                            })
                        }), S.sort(function(e, t) {
                            return Math.abs(e) < Math.abs(t)
                        }), S[0]), e), x = !1;
                        break;
                    case A:
                        if (!M.x || !M.y) {
                            x = !1;
                            break
                        }
                        k = w(this.cropper), c = $.startX - k.left, p = $.startY - k.top, h = n.minWidth, u = n.minHeight, 0 < M.x ? r = 0 < M.y ? _ : L : M.x < 0 && (c -= h, r = 0 < M.y ? j : R), M.y < 0 && (p -= u), this.cropped || (d(this.cropBox, N), this.cropped = !0, this.limited && this.limitCropBox(!0, !0))
                }
                x && (n.width = h, n.height = u, n.left = c, n.top = p, this.action = r, this.renderCropBox()), a(s, function(e) {
                    e.startX = e.endX, e.startY = e.endY
                })
            }
        },
        Be = {
            crop: function() {
                return !this.ready || this.cropped || this.disabled || (this.cropped = !0, this.limitCropBox(!0, !0), this.options.modal && l(this.dragBox, U), d(this.cropBox, N), this.setCropBoxData(this.initialCropBoxData)), this
            },
            reset: function() {
                return this.ready && !this.disabled && (this.imageData = ye({}, this.initialImageData), this.canvasData = ye({}, this.initialCanvasData), this.cropBoxData = ye({}, this.initialCropBoxData), this.renderCanvas(), this.cropped && this.renderCropBox()), this
            },
            clear: function() {
                return this.cropped && !this.disabled && (ye(this.cropBoxData, {
                    left: 0,
                    top: 0,
                    width: 0,
                    height: 0
                }), this.cropped = !1, this.renderCropBox(), this.limitCanvas(!0, !0), this.renderCanvas(), d(this.dragBox, U), l(this.cropBox, N)), this
            },
            replace: function(e) {
                var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
                return !this.disabled && e && (this.isImg && (this.element.src = e), t ? (this.url = e, this.image.src = e, this.ready && (this.viewBoxImage.src = e, a(this.previews, function(t) {
                    t.getElementsByTagName("img")[0].src = e
                }))) : (this.isImg && (this.replaced = !0), this.options.data = null, this.uncreate(), this.load(e))), this
            },
            enable: function() {
                return this.ready && this.disabled && (this.disabled = !1, d(this.cropper, z)), this
            },
            disable: function() {
                return this.ready && !this.disabled && (this.disabled = !0, l(this.cropper, z)), this
            },
            destroy: function() {
                var e = this.element;
                return h(e, M) && (this.isImg && this.replaced && (e.src = this.originalUrl), this.uncreate(), f(e, M)), this
            },
            move: function(e) {
                var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : e,
                    o = this.canvasData,
                    n = o.left,
                    a = o.top;
                return this.moveTo(t(e) ? e : n + Number(e), t(i) ? i : a + Number(i))
            },
            moveTo: function(t) {
                var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : t,
                    o = this.canvasData,
                    n = !1;
                return t = Number(t), i = Number(i), this.ready && !this.disabled && this.options.movable && (e(t) && (o.left = t, n = !0), e(i) && (o.top = i, n = !0), n && this.renderCanvas(!0)), this
            },
            zoom: function(e, t) {
                var i = this.canvasData;
                return e = (e = Number(e)) < 0 ? 1 / (1 - e) : 1 + e, this.zoomTo(i.width * e / i.naturalWidth, null, t)
            },
            zoomTo: function(t, i, n) {
                var s, r, l, d = this.options,
                    c = this.canvasData,
                    p = c.width,
                    h = c.height,
                    u = c.naturalWidth,
                    f = c.naturalHeight;
                if (0 <= (t = Number(t)) && this.ready && !this.disabled && d.zoomable) {
                    var g = u * t,
                        m = f * t;
                    if (!1 === v(this.element, le, {
                            ratio: t,
                            oldRatio: p / u,
                            originalEvent: n
                        })) return this;
                    if (n) {
                        var y = this.pointers,
                            b = w(this.cropper),
                            x = y && Object.keys(y).length ? (l = r = s = 0, a(y, function(e) {
                                var t = e.startX,
                                    i = e.startY;
                                s += t, r += i, l += 1
                            }), {
                                pageX: s /= l,
                                pageY: r /= l
                            }) : {
                                pageX: n.pageX,
                                pageY: n.pageY
                            };
                        c.left -= (g - p) * ((x.pageX - b.left - c.left) / p), c.top -= (m - h) * ((x.pageY - b.top - c.top) / h)
                    } else o(i) && e(i.x) && e(i.y) ? (c.left -= (g - p) * ((i.x - c.left) / p), c.top -= (m - h) * ((i.y - c.top) / h)) : (c.left -= (g - p) / 2, c.top -= (m - h) / 2);
                    c.width = g, c.height = m, this.renderCanvas(!0)
                }
                return this
            },
            rotate: function(e) {
                return this.rotateTo((this.imageData.rotate || 0) + Number(e))
            },
            rotateTo: function(t) {
                return e(t = Number(t)) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = t % 360, this.renderCanvas(!0, !0)), this
            },
            scaleX: function(t) {
                var i = this.imageData.scaleY;
                return this.scale(t, e(i) ? i : 1)
            },
            scaleY: function(t) {
                var i = this.imageData.scaleX;
                return this.scale(e(i) ? i : 1, t)
            },
            scale: function(t) {
                var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : t,
                    o = this.imageData,
                    n = !1;
                return t = Number(t), i = Number(i), this.ready && !this.disabled && this.options.scalable && (e(t) && (o.scaleX = t, n = !0), e(i) && (o.scaleY = i, n = !0), n && this.renderCanvas(!0, !0)), this
            },
            getData: function() {
                var e = 0 < arguments.length && void 0 !== arguments[0] && arguments[0],
                    t = this.options,
                    i = this.imageData,
                    o = this.canvasData,
                    n = this.cropBoxData,
                    s = void 0;
                if (this.ready && this.cropped) {
                    s = {
                        x: n.left - o.left,
                        y: n.top - o.top,
                        width: n.width,
                        height: n.height
                    };
                    var r = i.width / i.naturalWidth;
                    if (a(s, function(e, t) {
                            s[t] = e / r
                        }), e) {
                        var l = Math.round(s.y + s.height),
                            d = Math.round(s.x + s.width);
                        s.x = Math.round(s.x), s.y = Math.round(s.y), s.width = d - s.x, s.height = l - s.y
                    }
                } else s = {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                };
                return t.rotatable && (s.rotate = i.rotate || 0), t.scalable && (s.scaleX = i.scaleX || 1, s.scaleY = i.scaleY || 1), s
            },
            setData: function(t) {
                var i = this.options,
                    n = this.imageData,
                    a = this.canvasData,
                    s = {};
                if (this.ready && !this.disabled && o(t)) {
                    var r = !1;
                    i.rotatable && e(t.rotate) && t.rotate !== n.rotate && (n.rotate = t.rotate, r = !0), i.scalable && (e(t.scaleX) && t.scaleX !== n.scaleX && (n.scaleX = t.scaleX, r = !0), e(t.scaleY) && t.scaleY !== n.scaleY && (n.scaleY = t.scaleY, r = !0)), r && this.renderCanvas(!0, !0);
                    var l = n.width / n.naturalWidth;
                    e(t.x) && (s.left = t.x * l + a.left), e(t.y) && (s.top = t.y * l + a.top), e(t.width) && (s.width = t.width * l), e(t.height) && (s.height = t.height * l), this.setCropBoxData(s)
                }
                return this
            },
            getContainerData: function() {
                return this.ready ? ye({}, this.containerData) : {}
            },
            getImageData: function() {
                return this.sized ? ye({}, this.imageData) : {}
            },
            getCanvasData: function() {
                var e = this.canvasData,
                    t = {};
                return this.ready && a(["left", "top", "width", "height", "naturalWidth", function addCommas(e) {
                        e += "", x = e.split("."), x1 = x[0], x2 = x.length > 1 ? "." + x[1] : "";
                        for (var t = /(\d+)(\d{3})/; t.test(x1);) x1 = x1.replace(t, "$1,$2");
                        return x1 + x2
                    }

                    function submitSearch(e) {
                        var t = $("#siteSearch-input").val();
                        "" !== t && (track("Search", e, t.toLowerCase()), $("#siteSearch").submit())
                    }

                    function bindSearchAutoComplete() {
                        $("#siteSearch-input").apcomplete($("#siteSearch").find("select").val(), !1, !0).on("autocompleteselect", function(e, t) {
                            window.location = t.item.url, track("Search", "autocomplete", t.item.name.toLowerCase())
                        })
                    }

                    function defaultBlur() {
                        "" != $(this).val() && $(this).val() != $(this).attr("title") || $(this).addClass("default-field").val($(this).attr("title"))
                    }

                    function defaultFocus() {
                        var e = $(this);
                        e.val() == e.attr("title") ? e.removeClass("default-field").val("") : e.removeClass("default-field").prev("label").hide()
                    }

                    function fadeToHidden(e, t, i) {
                        i = i || 500, t && (e.css("opacity", 0), e.css("visibility", "visible")), e.fadeTo(i, t ? 1 : 0, function() {
                            t || $(this).css("visibility", "hidden")
                        })
                    }

                    function changeTitleSearchType() {
                        var e = $("#title-search"),
                            t = e.val() == e.attr("title") ? "" : e.val();
                        t && (window.location = "/" + $(this).val() + "/all?" + $.param({
                            name: t
                        }))
                    }

                    function showMessage(e, t, i) {
                        var o = e.find(".alert");
                        o.empty().removeClass("error success").addClass(i ? "success" : "error"), o.html("<p>" + t + "</p>").fadeIn("fast")
                    }

                    function showModal(e, t, i, o) {
                        if (e.stopPropagation(), e.preventDefault(), !0 === e.handled) return !1;
                        var n = $("#tooltipModal");
                        if ("null" == i && !n.dialog) return !0;
                        "null" != i ? n.dialog({
                            modal: !0,
                            width: 440,
                            title: i,
                            hide: {
                                effect: "fade",
                                easing: "easeInBack"
                            },
                            show: {
                                effect: o ? "show" : "scale",
                                easing: "easeOutBack"
                            },
                            dialogClass: o ? "" : "fullInfo",
                            open: function() {
                                n.html(t), $(".ui-widget-overlay,.close-button").on("click", function() {
                                    n.dialog("close")
                                })
                            }
                        }).dialog() : n.dialog({
                            modal: !0,
                            width: 440,
                            hide: {
                                effect: "fade",
                                easing: "easeInBack"
                            },
                            show: {
                                effect: o ? "show" : "scale",
                                easing: "easeOutBack"
                            },
                            dialogClass: o ? "onboarder" : "fullInfo",
                            open: function() {
                                n.html(t), $(".ui-widget-overlay,.close-button").on("click", function() {
                                    n.dialog("close")
                                })
                            }
                        }).dialog(), e.handled = !0
                    }

                    function submitFauxForm(e, t) {
                        var i = $('<form method="POST"' + (t ? "action=" + t : "") + ">" + e + "</form>");
                        $("body").append(i), $(i).submit()
                    }

                    function updatePerPage(e) {
                        track("Page", "per page", e.value), window.location = "?per_page=" + e.value
                    }

                    function track(e, t, i) {
                        ga("send", "event", e, t, i)
                    }

                    function PillPharmacy() {
                        function e(e, t, i, o) {
                            return void 0 == o && (o = e), $("<a class='pill " + o + (void 0 != i ? "' data-field='" + i : "") + "' data-type='" + e + "'>" + t + "</a>")
                        }
                        return this.pillFilters = $(".pillFilters"), this.pillBottle = this.pillFilters.find(".pillBottle"), this.createPill = function(t, i, o) {
                            var n = this.findPill(t.attr("id"));
                            if (t.val()) {
                                var a = (void 0 != t.data("name") ? t.data("name") : "") + (void 0 != i ? i : t.val());
                                0 == n.length ? this.dispensePill(this.pillBottle, e(t.attr("id"), a, o)) : n.text() != a && (n.text(a).removeClass("selected"), this.showApply())
                            } else this.removePill(n)
                        }, this.createPillFromButton = function(t, i, o) {
                            var n = this.findPill(t.attr("id"), o);
                            i = i.replace("- ", "<i class='fa fa-minus'></i> ").replace("+ ", "<i class='fa fa-plus'></i> "), i = (void 0 != t.data("name") ? t.data("name") : "") + i, 0 == n.length ? this.dispensePill(this.pillBottle, e(o, i, t.attr("id"), t.attr("id"))) : (n.html(i).removeClass("selected").data("type", o), this.showApply())
                        }, this.removePill = function(e) {
                            var t = e.data("type");
                            if (void 0 != t) {
                                var i = " #" + e.data("field");
                                if ("include_types" == t) $(".af-filters" + i).removeClass("include");
                                else if ("rating_less" == t) $("#rating_less").val(5), $("#rating-slider").slider("option", "values", [100 * $("#rating_greater").val(), 500]);
                                else if ("rating_greater" == t) $("#rating_greater").val(0), $("#rating-slider").slider("option", "values", [0, 100 * $("#rating_less").val()]);
                                else if ("incTag" == t) $(".filterTagList" + i).removeClass("include");
                                else if ("excTag" == t) $(".filterTagList" + i).removeClass("exclude");
                                else if (0 == t.indexOf("single-")) {
                                    var o = t.substring(t.indexOf("single-"));
                                    0 == this.pillBottle.find("a." + o).length && ($("#" + o).val(""), this.removePill($("#to_" + o))), 0 == this.pillBottle.find("a.to_" + o).length && ($("#to_" + o).val(""), this.removePill($("#" + o)))
                                } else $("#" + t).val("");
                                e.remove(), this.showApply(), 1 == this.pillBottle.find("a").length && this.pillFilters.slideUp()
                            }
                        }, this.removeAllPills = function() {
                            var e = this;
                            this.pillBottle.find("a").each(function() {
                                e.removePill($(this))
                            })
                        }, this.dispensePill = function(e, t) {
                            this.showApply(), (1 == e.find("a").length || e.is(":hidden")) && this.pillFilters.slideDown(), e.prepend(t)
                        }, this.combinePills = function(t, i, o) {
                            var n = this.findPill(i),
                                a = "to_" + i,
                                s = "single-" + o,
                                r = this.findPill(s);
                            if ($("#" + i).val() == $("#" + a).val())
                                if (t.val()) {
                                    if (0 == r.length) {
                                        var l = i.charAt(0).toUpperCase() + i.slice(1) + " = " + t.val();
                                        this.pillBottle.prepend(e(s, l)), n.remove(), this.findPill(a).remove()
                                    }
                                } else this.removePill(this.findPill(t.attr("id")));
                            else r.length > 0 ? (r.remove(), this.createPill($("#" + i)), this.createPill($("#" + a))) : this.createPill(t);
                            this.showApply()
                        }, this.findPill = function(e, t) {
                            return void 0 == t ? this.pillFilters.find("a." + e) : "excTag" == t || "incTag" == t ? this.pillFilters.find("a." + e + "[data-type$='Tag']") : this.pillFilters.find("a." + e + "[data-type='" + t + "']")
                        }, this.showApply = function() {
                            var e = $(".pillLabel");
                            e.find("button").show(), e.find("span").hide()
                        }, this
                    }

                    function displayBadges(e) {
                        if (e && e.badges) {
                            var t = e.more_added,
                                i = e.badges,
                                o = 0,
                                n = 0;
                            if (i.length) {
                                var a = $("#achievementDialog"),
                                    s = $("#badgeBlockHTML div.badgeBlock");
                                parseInt(t) > 0 ? a.find(".badgeAdditional").show().find(".additionalNum").html(t) : a.find(".badgeAdditional").hide(), $("#badgeContainer").empty(), $.each(i, function(e, t) {
                                    var i = s.clone();
                                    t.is_added ? o++ : n++, i.find(".badgeLink").attr("href", "/badges/" + t.url_slug).last().html(t.is_added ? t.name : "<strong>LOST</strong>: " + t.name), i.find(".badgeDescription").html(t.description), i.find(".badgeImage").attr("src", "/images/badges/" + t.image_path + ".png").attr("alt", t.name), t.gift_from_user_id && (i.find(".badgeFromUser a").attr("href", "/users/" + t.gift_from_user_name).last().html(t.gift_from_user_name), i.find(".badgeFromUser").show(), t.gift_message && i.find(".badgeGiftMessage").html(t.gift_message).show()), i.appendTo("#badgeContainer")
                                }), n > 0 && o < 1 && a.find("h2").text("You've Lost Badges!"), $("#achievementDialog").dialog({
                                    modal: !0,
                                    width: 500,
                                    dialogClass: "achievement",
                                    open: function() {
                                        $(".ui-widget-overlay").on("click", function() {
                                            $("#achievementDialog").dialog("close")
                                        })
                                    }
                                }).dialog()
                            }
                        }
                    }

                    function initMyListBar(e) {
                        var t = e || $("body");
                        t.off("change").on("change", ".changeStatus", function(e) {
                            set_status(!1, e.target.value, $(e.target).closest("form"))
                        }), t.on("change", ".timeswatched", function(e) {
                            getData($(e.target).closest("form"), "times", e.target.value, function(e, t) {
                                t.find(".timeswatched").val(e.times_watched)
                            })
                        }), t.on("change", ".episodes", function(e) {
                            getData($(e.target).closest("form"), "update", e.target.value, function(e, t) {
                                var i = t.parent().siblings().find(".incEps");
                                if (e.success) {
                                    t.find(".episodes").val(e.episodes);
                                    var o = t.find(".totalEps");
                                    fadeToHidden(o.add(i), e.episodes != o.text().replace("+", "").replace(/[\t\s]/g, ""));
                                    var n = "eps";
                                    e.episodes || (n = t.find(".changeStatus").find(":selected").text()), t.trigger("EpsChanged", [e.episodes, t.find(".episodes").data("eps"), n, t.data("id")])
                                }
                            })
                        }), t.on("change", ".volumes, .chapters", function(e) {
                            if (form = $(e.target).closest("form"), readSet = $(this).hasClass("volumes") ? "volumes" : "chapters", readUnset = "volumes" == readSet ? "chapters" : "volumes", incEps = form.parent().parent().find(".incEps"), 0 != form.find("." + readUnset)[0].value) {
                                if (!confirm("You can only keep track of chapters OR volumes for each manga. If you continue, " + readSet + "  will be reset to 0.")) return void form.find("." + readSet).val(0);
                                form.find("." + readUnset).val(0)
                            }
                            getData(form, "update", form.find(".chapters").val() + "/" + form.find(".volumes").val(), function(e, t) {
                                if (e.success) {
                                    t.find("." + readSet).val(e.amountRead), t.find("." + readUnset).val(0);
                                    var i = t.find(".changeStatus").find(":selected").text();
                                    e.amountRead ? (i = "volumes" == readSet ? "vol" : "ch", fadeToHidden(incEps, e.amountRead != form.find("." + readSet).data("eps")), incEps.data("episode-type", readSet).text(i), e.amountRead > 1 && (i += "s")) : incEps.fadeOut(), totalEps = 0, t.find("." + readSet).children().each(function() {
                                        value = parseInt($(this).val()), value > totalEps && (totalEps = value)
                                    }), t.trigger("EpsChanged", [e.amountRead, totalEps, i, t.data("id")]), track("Lists", "updated read " + readSet, "manga", t.data("id"))
                                }
                            })
                        }), t.on("click", ".incEps", function(e) {
                            if (!0 !== e.handled) {
                                $(this).addClass("working");
                                var t = $(this).parent().siblings(".entryRating").find("form");
                                switch (t.data("mode")) {
                                    case "anime":
                                        eps = t.find(".episodes"), data = parseInt(eps.val()) + 1;
                                        break;
                                    case "manga":
                                        "volumes" == $(this).data("episode-type") ? (eps = t.find(".volumes"), data = "0/" + (parseInt(eps.val()) + 1)) : "chapters" == $(this).data("episode-type") && (eps = t.find(".chapters"), data = parseInt(eps.val()) + 1 + "/0")
                                }
                                eps.val() != eps.data("eps") ? getData(t, "update", data, function(e, i) {
                                    var o = i.parent().siblings("td").find(".incEps.working").removeClass("working");
                                    i.find(".progress-img").remove(), e.success && ("anime" == t.data("mode") ? (eps.val(e.episodes), e.episodes == i.find(".totalEps").text().replace("+", "").replace(/[\t\s]/g, "") && fadeToHidden(i.find(".totalEps").add(o))) : (e.amountRead == eps.data("eps") && fadeToHidden(o), eps.val(e.amountRead)), track("Lists", "incr eps", "anime", t.data("id")))
                                }) : (t.find(".progress-img").remove(), $(this).removeClass("working").effect("shake", {
                                    distance: 2
                                })), e.handled = !0
                            }
                        })
                    }

                    function tt_status(e, t, i) {
                        var o = e + t;
                        return addWorking($("a." + o).parents(".myListBar")), $.getJSON("/api/list/status/" + e + "/" + t + "/" + i + "/" + TOKEN, function(i) {
                            $("a." + o).parent().siblings(".progress-img").remove(), i.success && ($(".rated." + o).toggleClass("selected off"), $(".tooltip." + o).tooltip("option", "content", $(".ui-tooltip-content").html()), $(document).trigger("rated", [{
                                mode: e,
                                id: t
                            }]), $(".tooltip." + o).tooltip("close"), track("Lists", "updated status from tooltip", e, t))
                        }), !1
                    }

                    function status_anime(e, t) {
                        var i = t.find(".episodes"),
                            o = t.find(".timeswatched"),
                            n = t.find(".totalEps"),
                            a = t.find(".starrating"),
                            s = t.parent().siblings().find(".incEps");
                        switch (e) {
                            case 0:
                            case 4:
                            case 6:
                                o.fadeOut(function() {
                                    fadeToHidden(i.val(0).add(n))
                                }), s.fadeOut(), a.fadeOut().children(".cancel").triggerHandler("click", !0);
                                break;
                            case 1:
                                var r = t.parents("td").length;
                                if (1 == i.find("option").length)
                                    for (var l = 0; l < i.data("eps"); l++) i.append($("<option>", {
                                        value: l + 1,
                                        text: l + 1
                                    }));
                                for (var d = 1; d < 100; d++) o.append($("<option>", {
                                    value: d,
                                    text: d + "x"
                                }));
                                n.fadeOut(), i.attr("disabled", !0).fadeTo(500, r ? 0 : 1, function() {
                                    r && $(this).css("visibility", "hidden"), o.fadeIn().find(">option:eq(0)").attr("selected", "selected"), s.fadeOut()
                                }).find(">option:last-child").attr("selected", "selected"), a.fadeIn();
                                break;
                            case 2:
                            case 3:
                            case 5:
                                if (1 == i.find("option").length)
                                    for (var l = 0; l < i.data("eps"); l++) i.append($("<option>", {
                                        value: l + 1,
                                        text: l + 1
                                    }));
                                o.fadeOut(function() {
                                    fadeToHidden(i.attr("disabled", !1).add(n), !0), i.data("eps") == n.text().replace("+", "") ? fadeToHidden(n, !1, 200) : s.fadeIn(), a.fadeIn()
                                })
                        }
                    }

                    function status_manga(e, t) {
                        var i = t.find(".volumes"),
                            o = t.find(".chapters"),
                            n = t.find(".starrating");
                        switch (incEps = t.parent().parent().find(".incEps"), e) {
                            case 0:
                            case 4:
                            case 6:
                                i.add(o).val(0).fadeOut(), n.fadeOut().children(".cancel").triggerHandler("click", !0), incEps.fadeOut();
                                break;
                            case 1:
                                n.fadeIn(), o.val() > 0 ? (i.fadeIn().val(0).prop("disabled", !0), o.prop("disabled", !0).show().find(">option:last-child").attr("selected", "selected")) : (o.fadeIn().val(0).prop("disabled", !0), i.prop("disabled", !0).show().find(">option:last-child").attr("selected", "selected")), incEps.fadeOut();
                                break;
                            case 2:
                            case 3:
                            case 5:
                                i.add(o).fadeIn().prop("disabled", !1), n.fadeIn(), o.val() > 0 && o.val() != o.data("eps") ? (incEps.data("episode-type", "chapters").text("ch"), incEps.fadeIn()) : i.val() > 0 && i.val() != i.data("eps") && (incEps.data("episode-type", "volumes").text("vol"), incEps.fadeIn())
                        }
                    }

                    function set_rating(e, t) {
                        getData($(t).closest("form"), "rate", e, function(e, t) {
                            if (e.success && 0 != e.rating) {
                                var i = 2 * parseFloat(e.rating) - 1;
                                t.find(".star").eq(i).triggerHandler("click", !0), track("Lists", "rated", e.type, t.data("id"))
                            } else t.find(".starrating").find(".cancel").triggerHandler("click", !0);
                            t.find(".starrating").find("div").first().attr("name", e.rating), t.trigger("Rated", [e.id, e.type, e.rating])
                        })
                    }

                    function set_status(e, t, i) {
                        getData(i || $("form." + e), "status", t, function(e, t) {
                            if (e.success) {
                                var i = parseInt(e.status_id);
                                t.find(".display").attr("class", "display status" + i), "anime" == e.type ? status_anime(i, t) : status_manga(i, t), t.find(".changeStatus").val(i), t.trigger("StatusChanged", {
                                    id: e.id,
                                    mode: e.type,
                                    status: i,
                                    statusname: t.find(".changeStatus").find(":selected").text(),
                                    rating: t.find(".starrating > div:first-child").attr("name")
                                }), track("Lists", "changed status", e.type, e.id)
                            }
                        })
                    }

                    function getData(e, t, i, o) {
                        addWorking(e), $.getJSON("/api/list/" + t + "/" + e.data("mode") + "/" + e.data("id") + "/" + i + "/" + TOKEN, function(e) {
                            var t = $("form." + e.type + e.id);
                            t.find(".progress-img").remove(), o(e, t), e.error ? alert(e.error) : (displayChallenges(e.challenge_popups), displayBadges(e.badges))
                        })
                    }

                    function addWorking(e) {
                        e.append($("<div class='progress-img'></div>").show())
                    }

                    function displayChallenges(e) {
                        if (e && e.length) {
                            for (var t = e.length, i = "", o = 0; o < t; o++) e[o].current_tier ? i += '<img src="/inc/img/big-' + e[o].current_tier + '.png" class="big-icon"/><h4>' + e[o].title + "</h4><p>" + e[o].body + "</p>" : i += '<h1 style="margin-top:0">' + e[o].title + "</h1>" + e[o].body;
                            $("#challengeNotificationContainer").html(i), $("#challengeDialog").dialog({
                                modal: !0,
                                width: 500,
                                dialogClass: "achievement",
                                open: function() {
                                    $(".ui-widget-overlay").on("click", function() {
                                        $("#challengeDialog").dialog("close")
                                    }), $("#challengeDialog > .dialogButton > button").on("click", function() {
                                        $("#challengeDialog").dialog("close")
                                    })
                                }
                            }).dialog()
                        }
                    }

                    function toggle_favorite(e, t, i, o, n) {
                        var a = $("." + e + t),
                            s = "remove";
                        n || !a.hasClass(o) ? (s = "love" == o ? "like" : "dislike", a.removeClass("hate love").addClass(o)) : a.removeClass("hate love"), favorite_item(e, t, s, i, !1)
                    }

                    function toggle_love(e, t, i) {
                        favorite_item(e, t, i || !$("." + e + t).hasClass("selected") ? "like" : "remove", 0, !0)
                    }

                    function favorite_item(e, t, i, o, n) {
                        var a = $("." + e + t),
                            s = $("#soLonely");
                        set_fav_styles(a, i, n, s), $.getJSON("/api/user/favorite/" + e + "/" + t + "/" + i + "/" + o + "/" + TOKEN, function(e) {
                            e.success ? (n ? a.html(addCommas(e.counts.num_likes)) : ($(".like-count").html(addCommas(e.counts.num_likes) + " " + (1 == e.counts.num_likes ? "person" : "people")), e.can_dislike && $(".dislike-count").html(addCommas(e.counts.num_dislikes) + " " + (1 == e.counts.num_dislikes ? "person" : "people"))), displayBadges(e.badges), a.trigger("FavChanged", [{
                                action: e.action
                            }])) : (set_fav_styles(a, e.action, e.doSelect, s), alert(e.error)), n || $(".tooltip." + e.favorite_id).tooltip("option", "content", $(".ui-tooltip-content").html()), track("Users", e.action || "unset hate/love", "Clicked heart button")
                        })
                    }

                    function set_fav_styles(e, t, i, o) {
                        e.find("a").removeClass("pulse"), "like" == t ? (i ? e.addClass("selected") : e.addClass("love").removeClass("hate").find(".heartOn").addClass("pulse"), o.css("background-image", "url(/inc/img/megusta.png)").find("h3").text("You like...me?"), o.find("p").text("Senpai noticed me!")) : "dislike" == t ? (e.addClass("hate").removeClass("love"), o.css("background-image", "url(/inc/img/yuno.jpg)").find("h3").text("Y U no like me?"), o.find("p").text("I don't like you either... b.... baka!!!")) : e.removeClass("selected love hate")
                    }

                    function toggle_follow(e, t) {
                        var i = $(".friend" + e),
                            o = t || !i.hasClass("selected") ? "add" : "remove";
                        $.getJSON("/api/user/follow/" + e + "/" + o + "/" + TOKEN, function(e) {
                            e.success ? ("remove" == e.action ? i.removeClass("selected").html("Follow") : i.addClass("selected").html("Following"), displayBadges(e.badges), track("Users", (o ? "" : "un") + "follow user")) : alert(e.error)
                        })
                    }

                    function confirmDelete(e) {
                        return track("Users", "click", "delete " + e), confirm("Are you sure you want to delete this " + e + "? This can't be undone.")
                    }

                    function confirmBlockUser() {
                        return track("Users", "click", "block user"), confirm("Are you sure you want to block this user? Any profile comments they've left you will be removed. You can't undo this action at the moment, but will be able to in the future.")
                    }

                    function ImageChooser(e) {
                        function t(e) {
                            $.post("/api/" + s + "/upload/" + l + "/" + (r ? r + "/" : "") + TOKEN, {
                                params: e
                            }, function(e) {
                                a(e.status ? e : {
                                    longdetail: "Unable to complete request.",
                                    innerException: e
                                })
                            }, "json")
                        }

                        function i(e, t) {
                            if (null == e) return "That image does not meet our upload requirements.";
                            var i = t.importRanges.width.min || 0,
                                o = t.importRanges.width.max || 1e5,
                                n = t.importRanges.height.min || 0,
                                a = t.importRanges.height.max || 1e5;
                            if (t.constrainGIFs && "gif" == e.src.substring(11, 14)) {
                                var s = e.width / t.width,
                                    r = e.height / t.height;
                                return s == r && e.width <= o && e.width >= i ? "" : s != r ? "GIF images must be square." : e.width > o || e.width < i ? "GIF images must be no smaller than " + i + "px across." : "That image does not meet our upload requirements."
                            }
                            return e.width < i || e.height < n ? "Minimum image dimensions are " + i + " x " + n + " pixels" : e.width > o || e.height > a ? "Maximum image dimensions are " + o + " x " + a + " pixels" : ""
                        }
                        "undefined" == typeof aspect && (aspect = 1);
                        var o, n, a, s, r, l, d = this;
                        d.cropper = null, d.chooserElem = null, d.setOnLoad = function(e, t) {
                            o = function(o, n, a) {
                                var s = new Image;
                                s.onload = function() {
                                    var o = i(s, e);
                                    if ("" == o)
                                        if ("gif" !== s.src.substring(11, 14)) {
                                            new Loader(s, {
                                                done: function(e) {
                                                    t(e, d)
                                                }
                                            })
                                        } else t(s, d);
                                    else $(a.target).trigger("verifyfailed", {
                                        message: o
                                    })
                                }, s.src = o.target.result
                            }
                        }, d.setPost = function(e, t, i, o) {
                            a = i, s = t, l = e, r = o
                        }, d.handleFileSelect = function(e) {
                            $(".editableBanner").find(".alert").removeClass("error").html("");
                            var t = e.target.files,
                                i = t[t.length - 1];
                            if (i && i.type.match("image.*")) {
                                var n = new FileReader;
                                n.onload = function(t) {
                                    return function(i) {
                                        o(i, t, e)
                                    }
                                }(i), n.readAsDataURL(i), null == $(e.target).data("no-disable") && $(e.target).attr("disabled", !0).trigger("isloading").on("verifyfailed saved cancelled", function() {
                                    $(this).attr("disabled", !1)
                                })
                            }
                        }, d.prepareImage = function(e, i, o, a, s) {
                            i ? (n = new Image, n.onload = function() {
                                var e = $("<canvas/>").hide().appendTo("body"),
                                    i = e.get(0).getContext("2d"),
                                    n = ($('<a download="cropped-image" title="click to download the image" />'), d.cropper.getCroppedCanvas()),
                                    s = n.getContext("2d");
                                s.mozImageSmoothingEnabled = !0, s.webkitImageSmoothingEnabled = !0, s.msImageSmoothingEnabled = !0, s.imageSmoothingEnabled = !0, e.get(0).width = n.width, e.get(0).height = n.height, i.drawImage(n, 0, 0), n.width = o, n.height = a, s.drawImage(e.get(0), 0, 0, e.get(0).width, e.get(0).height, 0, 0, o, a);
                                for (var r = s.getImageData(0, 0, o, a).data, l = !1, c = 0; c < r.length; c += 4)
                                    if (r[c + 3] < 255) {
                                        l = !0;
                                        break
                                    }
                                var p = l ? n.toDataURL("image/png") : n.toDataURL("image/jpeg");
                                e.remove(), t(p)
                            }, n.src = e.src) : t(e.src)
                        }, this.setChangeListener = function(e) {
                            d.chooserElem = "string" == typeof e ? $("#" + e) : e, d.chooserElem.on("change", this.handleFileSelect)
                        }, this.setChangeListener(e)
                    }

                    function EditProfileImages() {
                        function e(e) {
                            return "gif" == e.src.substring(11, 14)
                        }

                        function t(e) {
                            a.hide(), r.displayCropTools(c.width / c.height), $(".editableBanner").find(".croppedImage").siblings(".jwc_controls").children("a").remove(), r.bindSave(e, "background", o)
                        }

                        function i(t, i) {
                            var n = i.find(".croppedImage");
                            i.find("#avatarChooser").hide(), "gif" !== t.src.substring(11, 14) && (i.find(".cropContainer").parent().removeClass("sm-7-24"), i.find(".EditInformation").hide()), i.find("#user-avatar, .delete").hide(), e(t) ? n.addClass("gif-preview") : n.removeClass("gif-preview").load(function() {
                                l.displayCropTools(1)
                            }), l.bindSave(t, "avatar", o, i)
                        }

                        function o(e, t, i) {
                            "avatar" == t && ($("#user-avatar, #profile-avatar, .loggedIn .avatar").attr("src", e), void 0 !== i && (i.find(".croppedImage").attr("src", ""), i.dialog("close"))), "background" == t && a.css("background-image", "url('" + e + "')").fadeIn()
                        }

                        function n(e, t, i) {
                            e.preventDefault(), confirm("Are you sure you want to delete your image? Delete happens immediately and can't be undone.") && $.get("/api/user/delete_image/" + t + "/users/" + i + "/" + TOKEN, function(t) {
                                "Success" == t ? ($(e.target).hide(), "main" == i ? (o($(e.target).data("default"), "avatar"), void 0 !== $(".croppedImage").getjWindowCrop() && ($(".croppedImage").getjWindowCrop().destroy(), $(".croppedImage").hide(), $("#user-avatar").show())) : a.css("backgroundImage", "")) : "main" == i ? showMessage(s, "Couldn't delete your avatar", !1) : $(".editableBanner").find(".alert").text("Couldn't delete header image")
                            })
                        }
                        var a = $("#profileBackground"),
                            s = $("#avatarModal"),
                            r = new InlineImageEditor,
                            l = new InlineImageEditor,
                            d = {
                                type: "avatar",
                                width: 450,
                                height: 450,
                                maxSize: 256e3,
                                importRanges: {
                                    width: {
                                        min: 140
                                    },
                                    height: {
                                        min: 140
                                    }
                                },
                                constrainGIFs: !0
                            },
                            c = {
                                type: "background",
                                width: 1226,
                                height: 300,
                                maxSize: 204800,
                                importRanges: {
                                    width: {
                                        min: 500,
                                        max: 4e3
                                    },
                                    height: {
                                        min: 150,
                                        max: 4e3
                                    }
                                }
                            };
                        return this.Init = function(e) {
                            l.Init("avatarChooser", d, i, s), r.Init("bgfile", c, t, $(".editableBanner")), $(".profile-avatar").on("click", ".edit", function(t) {
                                t.preventDefault();
                                var i = s.clone();
                                i.data("userid", e), l.setModal(i, n)
                            }), $(".editableBanner").find(".delete").click(function(t) {
                                n(t, e, "background")
                            })
                        }, this
                    }

                    function EditBanner() {
                        function e(e) {
                            i.displayCropTools(3.42), t.find("h1").css("position", "absolute"), i.bindSave(e, "banner", function(e) {
                                t.css("background-image", "url('" + e + "')").fadeIn().find("h1").css("position", "relative")
                            })
                        }
                        var t, i = new InlineImageEditor,
                            o = {
                                width: 1026,
                                height: 300,
                                maxSize: 204800,
                                importRanges: {
                                    width: {
                                        min: 500,
                                        max: 2e3
                                    },
                                    height: {
                                        min: 130,
                                        max: 2e3
                                    }
                                }
                            };
                        this.Init = function() {
                            t = $(".editableBanner"), i.Init("bgfile", o, e, t)
                        }
                    }

                    function InlineImageEditor() {
                        var e, t, i, o, n;
                        return this.Init = function(a, s, r, l) {
                            e = s, t = l, n = t.find(".croppedImage"), o = r, Cropper.setDefaults({
                                dragMode: "move",
                                viewMode: 2,
                                background: !0,
                                rotatable: !1,
                                scalable: !1,
                                modal: !0,
                                center: !1
                            }), t.hasClass("editableBanner") && (t.on("click", ".edit-background", function(e) {
                                e.preventDefault(), e.stopPropagation(), $(e.target).hasClass("delete") || $("#" + a).click()
                            }), t.on("click", ".reset", function() {
                                n.hide(), t.find("h1").css("position", "relative"), t.find(".save-controls").fadeOut(), t.find("input[type=file]").trigger("cancelled"), i.cropper.destroy(), $("#profileBackground").show()
                            })), t.on("verifyfailed", function(e, i) {
                                t.find(".alert").html("<p>" + i.message + "</p>").addClass("error").fadeIn()
                            }), i = new ImageChooser(a), i.setOnLoad(e, function(e) {
                                t.find(".alert").removeClass("error").html(""), t.find(".disclaimer").text(""), n.attr("src", e.src).show(), t.find(".save-controls").fadeIn();
                                var a = {
                                    zoomable: !0
                                };
                                "background" === s.type && (a.zoomOnWheel = !1, a.zoomOnTouch = !1), "gif" !== e.src.substring(11, 14) && (i.cropper = new Cropper(n.get(0), a), n.get(0).addEventListener("ready", function() {
                                    var e = i.cropper.getContainerData(),
                                        t = i.cropper.getImageData();
                                    "background" == s.type && (i.cropper.zoomTo(e.width / t.naturalWidth), i.cropper.setCropBoxData({
                                        left: 0,
                                        top: 0,
                                        width: e.width,
                                        height: e.height
                                    })), n.hide()
                                })), o(e, t)
                            }, t)
                        }, this.setModal = function(e, o) {
                            e.find(".delete").click(function(e) {
                                t.deleteCallback(e, t.data("userid"), "main")
                            }), e.dialog({
                                title: "Edit Avatar",
                                modal: !0,
                                width: 590,
                                open: function() {
                                    var t = e.get(0).offsetWidth - 20;
                                    $(".cropContainer").css({
                                        "max-width": t,
                                        "max-height": t
                                    }), $(".ui-widget-overlay").on("click", function() {
                                        e.dialog("close")
                                    })
                                }
                            }).dialog(), t = e, t.deleteCallback = o, n = t.find(".croppedImage"), i.setChangeListener(e.find("#avatarChooser")), e.on("isloading", function() {
                                e.find(".disclaimer").html('Loading image... <div class="progress-img" style="display:inline-block"></div>')
                            }), e.on("verifyfailed", function(i, o) {
                                t.find(".alert").html("<p>" + o.message + "</p>").addClass("error").fadeIn(), e.find(".disclaimer").html("")
                            })
                        }, this.displayCropTools = function(e) {
                            i.cropper.setAspectRatio(e)
                        }, this.bindSave = function(o, n, a, s) {
                            var r = t.find(".save-image").unbind("click").click(function() {
                                r.attr("disabled", !0).parent(".save-controls").hide(), void 0 !== s && s.find(".containerImage").attr("src", "");
                                var l = t.find(".saving").fadeIn();
                                i.setPost(n, "banner" == n ? "admin" : "user", function(e) {
                                    l.fadeOut(), r.attr("disabled", !1).show(), null != e && void 0 != e.status && "success" == e.status ? (a(e.updatedImage, n, s), t.find(".delete").show()) : (t.find(".save-controls").fadeIn(), t.find(".alert").html("Something went wrong: " + e.longdetail)), i.cropper && i.cropper.destroy(), $(i.chooserElem).trigger("saved"), t.find("#avatarChooser").show()
                                }, "banner" == n ? t.data("id") : ""), i.prepareImage(o, !("avatar" == n && "gif" == o.src.substring(11, 14)), e.width, e.height, void 0)
                            })
                        }, this
                    }

                    function getRateDesc(e) {
                        return e < 1 ? "Bad" : e < 2 ? "Ok" : e < 3 ? "Fair" : e < 4 ? "Good" : "Great"
                    }

                    function buildRateCell(e, t) {
                        return "<td class='starrating" + (t == e ? " selected" : "") + "'><div class='rateme" + (e ? " nocan" : "") + " r" + e.toString().replace(".", "") + "' data-rate='" + e + "'></div></td>"
                    }

                    function initRating(e) {
                        $(e).on("mouseover", ".myListBar .starrating", function() {
                            var e = $(this).find(".rateme:visible");
                            if (e.length) {
                                $(this).off("mouseover");
                                var t = $(e).attr("name");
                                t || (t = 0), $(e).parent().html("<div id='rate" + $(e).attr("id").substring(3) + "' name='" + t + "'> </div>").rating({
                                    increment: .5,
                                    curvalue: t
                                })
                            }
                        })
                    }

                    function doRating(e) {
                        if (!0 === e.handled) return !1;
                        e.preventDefault(), e.stopPropagation(), $(".touchRateTable").find("td").removeClass("selected"), set_rating($(e.target).closest("td").addClass("selected").find(".rateme").data("rate"), $(e.target).parents("form")), $(".ui-dialog-titlebar-close").click(), e.handled = !0
                    }

                    function updateTableRating(e, t, i, o) {
                        var n = $("table").not(".touchRateTable").find("form." + i + t).find(".starrating"),
                            a = n.find(".rateme").attr("name");
                        n.html(n.html().replace(new RegExp(a, "g"), o).replace("not rated", o)), o || n.contents().last().remove(), n.find(".rateme").attr("class", "rateme r" + (o ? o.toString().replace(".", "") : 0)), 0 == a && n.find(".rateme").after(" " + o)
                    }

                    function updateRec(e, t, i) {
                        var o = {};
                        o.totype = i.attr("totype"), o.toid = i.attr("toid"), o.fromtype = i.attr("fromtype"), o.fromid = i.attr("fromid"), o.reason = t, o.both_ways = e.find(":checkbox").is(":checked"), o.rec_location = "popup", $.post("/api/rec/add/" + TOKEN, o, function(i) {
                            if (e.find(".progress-img").hide(), i.success) {
                                showMessage(e, "Your recommendation was saved.", !0);
                                var n = $(".expandButton[data-totype='" + o.totype + "'][data-toid='" + o.toid + "'][data-fromtype='" + o.fromtype + "'][data-fromid='" + o.fromid + "']");
                                if (n.data("isown")) {
                                    var a = n.parent().siblings(".tableReason");
                                    if (a.length || (a = n.parent(".recoCta")), a.length && a.find("[data-isown]").length) {
                                        var s = a.find(".tooltip").attr("title").split("</h5>");
                                        a.find(".tooltip").attr("title", (s.length > 1 ? s[0] + "</h5>" : "") + t)
                                    }
                                } else n.addClass("selected").html("Edit your rec");
                                track("Users", "submit", "Save rec from popup")
                            } else showMessage(e, i.errors.join("<br/>"), !1)
                        }, "json")
                    }! function(e) {
                        e.fn.extend({
                            apcomplete: function(t, i, o) {
                                if (!e.fn.autocomplete) return this;
                                var n = this.autocomplete({
                                    minLength: 3,
                                    delay: 300,
                                    source: function(o, n) {
                                        e.get("/autocomplete.php?type=" + t + (i ? "" : "&show_slug=false"), {
                                            q: o.term
                                        }, function(t, i) {
                                            n(e.parseJSON(t))
                                        })
                                    }
                                }).keydown(function(t) {
                                    13 === t.keyCode && (e(this).siblings("button").click(), e(this).autocomplete("close"))
                                }).on("autocompleteselect", function(e, t) {
                                    t.item.value = t.item.name
                                });
                                return null != n && null != n.data("ui-autocomplete") && n.each(function() {
                                    e(this).data("ui-autocomplete")._renderItem = function(t, n) {
                                        return e("<li></li>").data("ui-autocomplete-item", n).append((!i && n.img ? (o ? "<a href='" + n.url + "'>" : "") + "<span><img src='" + n.img + "' /></span>" : "") + String(n.name).replace(new RegExp(this.term, "gi"), "<b>$&</b>") + (o ? "</a>" : "")).appendTo(t)
                                    }
                                }), n
                            }
                        })
                    }(jQuery),
                    function(e) {
                        e.fn.circliful = function(t, i) {
                            var o = e.extend({
                                foregroundColor: "#3498DB",
                                backgroundColor: "#ccc",
                                pointColor: "none",
                                fillColor: "none",
                                foregroundBorderWidth: 15,
                                backgroundBorderWidth: 15,
                                pointSize: 28.5,
                                fontColor: "#aaa",
                                percent: 75,
                                animation: 1,
                                animationStep: 5,
                                icon: "none",
                                iconSize: "30",
                                iconColor: "#ccc",
                                iconPosition: "top",
                                target: 0,
                                start: 0,
                                showPercent: 1,
                                percentageTextSize: 22,
                                textAdditionalCss: "",
                                targetPercent: 0,
                                targetTextSize: 17,
                                targetColor: "#2980B9",
                                text: null,
                                textStyle: null,
                                textColor: "#666",
                                multiPercentage: 0,
                                percentages: null,
                                textBelow: !1,
                                noPercentageSign: !1,
                                replacePercentageByText: null,
                                halfCircle: !1,
                                animateInView: !1
                            }, t);
                            return this.each(function() {
                                function t() {
                                    var e = window.setInterval(function() {
                                        w >= T ? (window.clearInterval(e), b = 1, "function" == typeof i && i.call(this)) : (w += y, x += k), w / 3.6 >= d && 1 == b && (w = 3.6 * d), x > o.target && 1 == b && (x = o.target), null == o.replacePercentageByText && (C = o.halfCircle ? parseInt(100 * w / 360 * 2) : parseInt(100 * w / 360)), g.attr("stroke-dasharray", w + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%")) : m.text(x)
                                    }.bind(g), v)
                                }

                                function n() {
                                    var t = -1 != navigator.userAgent.toLowerCase().indexOf("webkit") ? "body" : "html",
                                        i = e(t).scrollTop(),
                                        o = i + e(window).height(),
                                        n = Math.round(g.offset().top),
                                        a = n + g.height();
                                    return n < o && a > i
                                }

                                function a() {
                                    g.hasClass("start") || n(g) && (g.addClass("start"), setTimeout(t, 250))
                                }
                                var s, r, l = e(this),
                                    d = o.percent,
                                    c = 83,
                                    p = 100,
                                    h = 100,
                                    u = 100,
                                    f = o.backgroundBorderWidth;
                                if (o.halfCircle ? "left" == o.iconPosition ? (p = 80, c = 100, u = 117, h = 100) : o.halfCircle && (c = 80, h = 100) : "bottom" == o.iconPosition ? (c = 124, h = 95) : "left" == o.iconPosition ? (p = 80, c = 110, u = 117) : "middle" == o.iconPosition ? 1 == o.multiPercentage ? "object" == typeof o.percentages ? f = 30 : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 228, h = 47) : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 175, h = 35) : "right" == o.iconPosition && (p = 120, c = 110, u = 80), o.targetPercent > 0 && (h = 95, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>', s += '<text text-anchor="middle" x="' + u + '" y="120" style="font-size: ' + o.targetTextSize + 'px;" fill="' + o.targetColor + '">' + o.targetPercent + (o.noPercentageSign && null == o.replacePercentageByText ? "" : "%") + "</text>", s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.backgroundColor + '" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />', s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.targetColor + '" stroke-width="3" stroke-dasharray="' + 3.6 * o.targetPercent + ', 20000" transform="rotate(-90,100,100)" />'), null != o.text && (o.halfCircle ? o.textBelow ? s += '<text text-anchor="middle" x="100" y="120" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>") : o.textBelow ? s += '<text text-anchor="middle" x="100" y="190" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>")), "none" != o.icon && (r = '<text text-anchor="middle" x="' + p + '" y="' + c + '" class="icon" style="font-size: ' + o.iconSize + 'px" fill="' + o.iconColor + '">&#x' + o.icon + "</text>"), o.halfCircle) {
                                    l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-180,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"))
                                } else l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"));
                                var g = l.find(".circle"),
                                    m = l.find(".timer"),
                                    v = 30,
                                    w = 0,
                                    y = o.animationStep,
                                    b = 0,
                                    x = 0,
                                    k = 0,
                                    C = d,
                                    T = 3.6 * d;
                                o.halfCircle && (T = 3.6 * d / 2), null != o.replacePercentageByText && (C = o.replacePercentageByText), o.start > 0 && o.target > 0 && (d = o.start / (o.target / 100), k = o.target / 100), 1 == o.animation ? o.animateInView ? e(window).scroll(function() {
                                    a()
                                }) : t() : (g.attr("stroke-dasharray", T + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign ? "" : "%")) : m.text(o.target))
                            })
                        }
                    }(jQuery), eval(function(e, t, i, o, n, a) {
                        if (n = function(e) {
                                return (e < 62 ? "" : n(parseInt(e / 62))) + ((e %= 62) > 35 ? String.fromCharCode(e + 29) : e.toString(36))
                            }, !"".replace(/^/, String)) {
                            for (; i--;) a[n(i)] = o[i] || n(i);
                            o = [function(e) {
                                return a[e]
                            }], n = function() {
                                return "\\w+"
                            }, i = 1
                        }
                        for (; i--;) o[i] && (e = e.replace(new RegExp("\\b" + n(i) + "\\b", "g"), o[i]));
                        return e
                    }("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});", 0, 74, "||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"), 0, {})),
                    function(e, t, i, o) {
                        "use strict";
                        var n = i(e),
                            a = i(t),
                            s = i.fancybox = function() {
                                s.open.apply(this, arguments)
                            },
                            r = navigator.userAgent.match(/msie/i),
                            l = null,
                            d = void 0 !== t.createTouch,
                            c = function(e) {
                                return e && e.hasOwnProperty && e instanceof i
                            },
                            p = function(e) {
                                return e && "string" === i.type(e)
                            },
                            h = function(e) {
                                return p(e) && e.indexOf("%") > 0
                            },
                            u = function(e) {
                                return e && !(e.style.overflow && "hidden" === e.style.overflow) && (e.clientWidth && e.scrollWidth > e.clientWidth || e.clientHeight && e.scrollHeight > e.clientHeight)
                            },
                            f = function(e, t) {
                                var i = parseInt(e, 10) || 0;
                                return t && h(e) && (i = s.getViewport()[t] / 100 * i), Math.ceil(i)
                            },
                            g = function(e, t) {
                                return f(e, t) + "px"
                            };
                        i.extend(s, {
                            version: "2.1.4",
                            defaults: {
                                padding: 15,
                                margin: 20,
                                width: 800,
                                height: 600,
                                minWidth: 100,
                                minHeight: 100,
                                maxWidth: 9999,
                                maxHeight: 9999,
                                autoSize: !0,
                                autoHeight: !1,
                                autoWidth: !1,
                                autoResize: !0,
                                autoCenter: !d,
                                fitToView: !0,
                                aspectRatio: !1,
                                topRatio: .5,
                                leftRatio: .5,
                                scrolling: "yes",
                                arrows: !0,
                                closeBtn: !0,
                                closeClick: !1,
                                nextClick: !1,
                                mouseWheel: !0,
                                preload: 3,
                                loop: !0,
                                ajax: {
                                    dataType: "html",
                                    headers: {
                                        "X-fancyBox": !0
                                    }
                                },
                                keys: {
                                    next: {
                                        13: "left",
                                        34: "up",
                                        39: "left",
                                        40: "up"
                                    },
                                    prev: {
                                        8: "right",
                                        33: "down",
                                        37: "right",
                                        38: "down"
                                    },
                                    close: [27],
                                    toggle: [70]
                                },
                                direction: {
                                    next: "left",
                                    prev: "right"
                                },
                                scrollOutside: !0,
                                index: 0,
                                type: "image",
                                href: null,
                                content: null,
                                title: null,
                                tpl: {
                                    wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                                    image: '<img class="fancybox-image" src="{href}" alt="{alt}" />',
                                    error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                                    closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                                    next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                                    prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
                                },
                                openEffect: "elastic",
                                openSpeed: 250,
                                openEasing: "swing",
                                openMethod: "zoomIn",
                                closeSpeed: 250,
                                closeEasing: "swing",
                                closeOpacity: !0,
                                closeMethod: "zoomOut",
                                nextMethod: "changeIn",
                                prevEffect: "none",
                                prevSpeed: 250,
                                prevEasing: "swing",
                                prevMethod: "changeOut",
                                helpers: {
                                    overlay: !0,
                                    title: !0
                                },
                                onCancel: i.noop,
                                beforeLoad: i.noop,
                                afterLoad: i.noop,
                                beforeShow: i.noop,
                                afterShow: i.noop,
                                beforeChange: i.noop,
                                beforeClose: i.noop,
                                afterClose: i.noop
                            },
                            group: {},
                            opts: {},
                            previous: null,
                            coming: null,
                            current: null,
                            isActive: !1,
                            isOpen: !1,
                            isOpened: !1,
                            wrap: null,
                            skin: null,
                            outer: null,
                            inner: null,
                            imgPreload: null,
                            transitions: {},
                            helpers: {},
                            open: function(e, t) {
                                if (e && (i.isPlainObject(t) || (t = {}), !1 !== s.close(!0))) return i.isArray(e) || (e = c(e) ? i(e).get() : [e]), i.each(e, function(o, n) {
                                    var a, s, r, l, d = {};
                                    "object" === i.type(n) && (n.nodeType && (n = i(n)), d = c(n) ? {
                                        href: n.data("fancybox-href") || n.attr("href"),
                                        title: n.data("fancybox-title") || n.attr("title"),
                                        isDom: !0,
                                        element: n
                                    } : n), a = t.href || d.href || (p(n) ? n : null), s = void 0 !== t.title ? t.title : d.title || "", r = t.content || d.content, l = r ? "html" : t.type || d.type, r || ("inline" === l ? a ? r = i(p(a) ? a.replace(/.*(?=#[^\s]+$)/, "") : a) : d.isDom && (r = n) : "html" === l ? r = a : l || a || !d.isDom || (l = "inline", r = n)), i.extend(d, {
                                        href: a,
                                        type: l,
                                        content: r,
                                        title: s,
                                        selector: void 0
                                    }), e[o] = d
                                }), s.opts = i.extend(!0, {}, s.defaults, t), void 0 !== t.keys && (s.opts.keys = !!t.keys && i.extend({}, s.defaults.keys, t.keys)), s.group = e, s._start(s.opts.index)
                            },
                            cancel: function() {
                                var e = s.coming;
                                e && !1 !== s.trigger("onCancel") && (s.hideLoading(), s.imgPreload && (s.imgPreload.onload = s.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), s.coming = null, s.current || s._afterZoomOut(e))
                            },
                            close: function(e) {
                                s.cancel(), !1 !== s.trigger("beforeClose") && (s.unbindEvents(), s.isActive && (s.isOpen && !0 !== e ? (s.isOpen = s.isOpened = !1, s.isClosing = !0, i(".fancybox-item, .fancybox-nav").remove(), s.wrap.stop(!0, !0).removeClass("fancybox-opened"), s.transitions[s.current.closeMethod]()) : (i(".fancybox-wrap").stop(!0).trigger("onReset").remove(), s._afterZoomOut())))
                            },
                            next: function(e) {
                                var t = s.current;
                                t && (p(e) || (e = t.direction.next), s.jumpto(t.index + 1, e, "next"))
                            },
                            prev: function(e) {
                                var t = s.current;
                                t && (p(e) || (e = t.direction.prev), s.jumpto(t.index - 1, e, "prev"))
                            },
                            jumpto: function(e, t, i) {
                                var o = s.current;
                                o && (e = f(e), s.direction = t || o.direction[e >= o.index ? "next" : "prev"], s.router = i || "jumpto", o.loop && (e < 0 && (e = o.group.length + e % o.group.length), e %= o.group.length), void 0 !== o.group[e] && (s.cancel(), s._start(e)))
                            },
                            reposition: function(e, t) {
                                var o, n = s.current,
                                    a = n ? n.wrap : null;
                                a && (o = s._getPosition(t), e && "scroll" === e.type ? (delete o.position, a.stop(!0, !0).animate(o, 200)) : (a.css(o), n.pos = i.extend({}, n.dim, o)))
                            },
                            update: function(e) {
                                var t = e && e.type,
                                    i = !t || "orientationchange" === t;
                                i && (clearTimeout(l), l = null), s.isOpen && !l && (l = setTimeout(function() {
                                    var o = s.current;
                                    o && !s.isClosing && (s.wrap.removeClass("fancybox-tmp"), (i || "load" === t || "resize" === t && o.autoResize) && s._setDimension(), "scroll" === t && o.canShrink || s.reposition(e), s.trigger("onUpdate"), l = null)
                                }, i && !d ? 0 : 300))
                            },
                            toggle: function(e) {
                                s.isOpen && (s.current.fitToView = "boolean" === i.type(e) ? e : !s.current.fitToView, d && (s.wrap.removeAttr("style").addClass("fancybox-tmp"), s.trigger("onUpdate")), s.update())
                            },
                            hideLoading: function() {
                                a.unbind(".loading"), i("#fancybox-loading").remove()
                            },
                            showLoading: function() {
                                s.hideLoading(), i('<div id="fancybox-loading"><div></div></div>').appendTo("body"), a.bind("keydown.loading", function(e) {
                                    27 === (e.which || e.keyCode) && (e.preventDefault(), s.cancel())
                                })
                            },
                            getViewport: function() {
                                var t = s.current && s.current.locked || !1,
                                    i = {
                                        x: n.scrollLeft(),
                                        y: n.scrollTop()
                                    };
                                return t ? (i.w = t[0].clientWidth, i.h = t[0].clientHeight) : (i.w = d && e.innerWidth ? e.innerWidth : n.width(), i.h = d && e.innerHeight ? e.innerHeight : n.height()), i
                            },
                            unbindEvents: function() {
                                s.wrap && c(s.wrap) && s.wrap.unbind(".fb"), a.unbind(".fb"), n.unbind(".fb")
                            },
                            bindEvents: function() {
                                var e, t = s.current;
                                t && (n.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), s.update), e = t.keys, e && a.bind("keydown.fb", function(o) {
                                    var n = o.which || o.keyCode,
                                        a = o.target || o.srcElement;
                                    if (27 === n && s.coming) return !1;
                                    o.ctrlKey || o.altKey || o.shiftKey || o.metaKey || a && (a.type || i(a).is("[contenteditable]")) || i.each(e, function(e, a) {
                                        return t.group.length > 1 && void 0 !== a[n] ? (s[e](a[n]), o.preventDefault(), !1) : i.inArray(n, a) > -1 ? (s[e](), o.preventDefault(), !1) : void 0
                                    })
                                }), i.fn.mousewheel && t.mouseWheel && s.wrap.bind("mousewheel.fb", function(e, o, n, a) {
                                    for (var r = e.target || null, l = i(r), d = !1; l.length && !(d || l.is(".fancybox-skin") || l.is(".fancybox-wrap"));) d = u(l[0]), l = i(l).parent();
                                    0 === o || d || s.group.length > 1 && !t.canShrink && (a > 0 || n > 0 ? s.prev(a > 0 ? "down" : "left") : (a < 0 || n < 0) && s.next(a < 0 ? "up" : "right"), e.preventDefault())
                                }))
                            },
                            trigger: function(e, t) {
                                var o = t || s.coming || s.current;
                                if (o) {
                                    if (i.isFunction(o[e]) && !1 === o[e].apply(o, Array.prototype.slice.call(arguments, 1))) return !1;
                                    o.helpers && i.each(o.helpers, function(t, n) {
                                        n && s.helpers[t] && i.isFunction(s.helpers[t][e]) && (n = i.extend(!0, {}, s.helpers[t].defaults, n), s.helpers[t][e](n, o))
                                    }), a.trigger(e)
                                }
                            },
                            isImage: function(e) {
                                return p(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)
                            },
                            _start: function(e) {
                                var t, o, n, a, r = {};
                                return e = f(e), !!(t = s.group[e] || null) && (r = i.extend(!0, {}, s.opts, t), n = r.margin, a = r.padding, r.margin = [n, n, n, n], r.padding = [a, a, a, a], r.autoSize && (r.autoWidth = r.autoHeight = !0), "auto" === r.width && (r.autoWidth = !0), "auto" === r.height && (r.autoHeight = !0), r.group = s.group, r.index = e, s.coming = r, !1 === s.trigger("beforeLoad") ? void(s.coming = null) : (o = r.type, r.href, o ? (s.isActive = !0, r.autoHeight = r.autoWidth = !1, r.scrolling = "visible", r.aspectRatio = !0, r.wrap = i(r.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + o + " fancybox-tmp ").appendTo(r.parent || "body"), i.extend(r, {
                                    skin: i(".fancybox-skin", r.wrap),
                                    outer: i(".fancybox-outer", r.wrap),
                                    inner: i(".fancybox-inner", r.wrap)
                                }), i.each(["Top", "Right", "Bottom", "Left"], function(e, t) {
                                    r.skin.css("padding" + t, g(r.padding[e]))
                                }), s.trigger("onReady"), void s._loadImage()) : (s.coming = null, !(!s.current || !s.router || "jumpto" === s.router) && (s.current.index = e, s[s.router](s.direction)))))
                            },
                            _error: function(e) {
                                i.extend(s.coming, {
                                    type: "html",
                                    autoWidth: !0,
                                    autoHeight: !0,
                                    minWidth: 0,
                                    minHeight: 0,
                                    scrolling: "no",
                                    hasError: e,
                                    content: s.coming.tpl.error
                                }), s._afterLoad()
                            },
                            _loadImage: function() {
                                var e = s.imgPreload = new Image;
                                e.onload = function() {
                                    this.onload = this.onerror = null, s.coming.width = this.width, s.coming.height = this.height, s._afterLoad()
                                }, e.onerror = function() {
                                    this.onload = this.onerror = null, s._error("image")
                                }, e.src = s.coming.href, !0 !== e.complete && s.showLoading()
                            },
                            _preloadImages: function() {
                                var e, t, i = s.group,
                                    o = s.current,
                                    n = i.length,
                                    a = o.preload ? Math.min(o.preload, n - 1) : 0;
                                for (t = 1; t <= a; t += 1) e = i[(o.index + t) % n], e.href && ((new Image).src = e.href)
                            },
                            _afterLoad: function() {
                                var e, t, o, n, a = s.coming,
                                    r = s.current;
                                if (s.hideLoading(), a && !1 !== s.isActive) {
                                    if (!1 === s.trigger("afterLoad", a, r)) return a.wrap.stop(!0).trigger("onReset").remove(), void(s.coming = null);
                                    r && (s.trigger("beforeChange", r), r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), s.unbindEvents(), e = a, t = a.content, a.type, o = a.scrolling, i.extend(s, {
                                        wrap: e.wrap,
                                        skin: e.skin,
                                        outer: e.outer,
                                        inner: e.inner,
                                        current: e,
                                        previous: r
                                    }), n = e.href, t = e.tpl.image.replace("{href}", n).replace("{alt}", e.alt), c(t) && t.parent().is(e.inner) || e.inner.append(t), s.trigger("beforeShow"), e.inner.css("overflow", "yes" === o ? "scroll" : "no" === o ? "hidden" : o), s._setDimension(), s.reposition(), s.isOpen = !1, s.coming = null, s.bindEvents(), s.isOpened ? r.prevMethod && s.transitions[r.prevMethod]() : i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(), s.transitions[s.isOpened ? e.nextMethod : e.openMethod](), s._preloadImages()
                                }
                            },
                            _setDimension: function() {
                                var e, t, o, n, a, r, l, d, c, p, u, m, v, w = s.getViewport(),
                                    y = 0,
                                    b = !1,
                                    x = !1,
                                    k = s.wrap,
                                    C = s.skin,
                                    T = s.inner,
                                    S = s.current,
                                    $ = S.width,
                                    M = S.height,
                                    E = S.minWidth,
                                    A = S.minHeight,
                                    P = S.maxWidth,
                                    O = S.maxHeight,
                                    H = S.scrolling,
                                    I = S.scrollOutside ? S.scrollbarWidth : 0,
                                    D = S.margin,
                                    B = f(D[1] + D[3]),
                                    L = f(D[0] + D[2]);
                                if (k.add(C).add(T).width("auto").height("auto").removeClass("fancybox-tmp"), e = f(C.outerWidth(!0) - C.width()), t = f(C.outerHeight(!0) - C.height()), o = B + e, n = L + t, a = h($) ? (w.w - o) * f($) / 100 : $, r = h(M) ? (w.h - n) * f(M) / 100 : M, (S.autoWidth || S.autoHeight) && (T.addClass("fancybox-tmp"), S.autoWidth || T.width(a), S.autoHeight || T.height(r), S.autoWidth && (a = T.width()), S.autoHeight && (r = T.height()), T.removeClass("fancybox-tmp")), $ = f(a), M = f(r), c = a / r, E = f(h(E) ? f(E, "w") - o : E), P = f(h(P) ? f(P, "w") - o : P), A = f(h(A) ? f(A, "h") - n : A), O = f(h(O) ? f(O, "h") - n : O), l = P, d = O, S.fitToView && (P = Math.min(w.w - o, P), O = Math.min(w.h - n, O)), m = w.w - B, v = w.h - L, S.aspectRatio ? ($ > P && ($ = P, M = f($ / c)), M > O && (M = O, $ = f(M * c)), $ < E && ($ = E, M = f($ / c)), M < A && (M = A, $ = f(M * c))) : ($ = Math.max(E, Math.min($, P)), S.autoHeight && "iframe" !== S.type && (T.width($), M = T.height()), M = Math.max(A, Math.min(M, O))), S.fitToView)
                                    if (T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), S.aspectRatio)
                                        for (;
                                            (p > m || u > v) && $ > E && M > A && !(y++ > 19);) M = Math.max(A, Math.min(O, M - 10)), $ = f(M * c), $ < E && ($ = E, M = f($ / c)), $ > P && ($ = P, M = f($ / c)), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height();
                                    else $ = Math.max(E, Math.min($, $ - (p - m))), M = Math.max(A, Math.min(M, M - (u - v)));
                                I && "auto" === H && M < r && $ + e + I < m && ($ += I), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), b = (p > m || u > v) && $ > E && M > A, x = S.aspectRatio ? $ < l && M < d && $ < a && M < r : ($ < l || M < d) && ($ < a || M < r), i.extend(S, {
                                    dim: {
                                        width: g(p),
                                        height: g(u)
                                    },
                                    origWidth: a,
                                    origHeight: r,
                                    canShrink: b,
                                    canExpand: x,
                                    wPadding: e,
                                    hPadding: t,
                                    wrapSpace: u - C.outerHeight(!0),
                                    skinSpace: C.height() - M
                                }), S.autoHeight && M > A && M < O && !x && T.height("auto")
                            },
                            _getPosition: function(e) {
                                var t = s.current,
                                    i = s.getViewport(),
                                    o = t.margin,
                                    n = s.wrap.width() + o[1] + o[3],
                                    a = s.wrap.height() + o[0] + o[2],
                                    r = {
                                        position: "absolute",
                                        top: o[0],
                                        left: o[3]
                                    };
                                return t.autoCenter && t.fixed && !e && a <= i.h && n <= i.w ? r.position = "fixed" : t.locked || (r.top += i.y, r.left += i.x), r.top = g(Math.max(r.top, r.top + (i.h - a) * t.topRatio)), r.left = g(Math.max(r.left, r.left + (i.w - n) * t.leftRatio)), r
                            },
                            _afterZoomIn: function() {
                                var e = s.current;
                                e && (s.isOpen = s.isOpened = !0, s.wrap.css("overflow", "visible").addClass("fancybox-opened"), s.update(), (e.closeClick || e.nextClick && s.group.length > 1) && s.inner.css("cursor", "pointer").bind("click.fb", function(t) {
                                    i(t.target).is("a") || i(t.target).parent().is("a") || (t.preventDefault(), s[e.closeClick ? "close" : "next"]())
                                }), e.closeBtn && i(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb", function(e) {
                                    e.preventDefault(), s.close()
                                }), e.arrows && s.group.length > 1 && ((e.loop || e.index > 0) && i(e.tpl.prev).appendTo(s.outer).bind("click.fb", s.prev), (e.loop || e.index < s.group.length - 1) && i(e.tpl.next).appendTo(s.outer).bind("click.fb", s.next)), s.trigger("afterShow"))
                            },
                            _afterZoomOut: function(e) {
                                e = e || s.current, i(".fancybox-wrap").trigger("onReset").remove(), i.extend(s, {
                                    group: {},
                                    opts: {},
                                    router: !1,
                                    current: null,
                                    isActive: !1,
                                    isOpened: !1,
                                    isOpen: !1,
                                    isClosing: !1,
                                    wrap: null,
                                    skin: null,
                                    outer: null,
                                    inner: null
                                }), s.trigger("afterClose", e)
                            }
                        }), s.transitions = {
                            getOrigPosition: function() {
                                var e = s.current,
                                    t = e.element,
                                    i = e.orig,
                                    o = {},
                                    n = 50,
                                    a = 50,
                                    r = e.hPadding,
                                    l = e.wPadding,
                                    d = s.getViewport();
                                return !i && e.isDom && t.is(":visible") && (i = t.find("img:first"), i.length || (i = t)), c(i) ? (o = i.offset(), i.is("img") && (n = i.outerWidth(), a = i.outerHeight())) : (o.top = d.y + (d.h - a) * e.topRatio, o.left = d.x + (d.w - n) * e.leftRatio), ("fixed" === s.wrap.css("position") || e.locked) && (o.top -= d.y, o.left -= d.x), o = {
                                    top: g(o.top - r * e.topRatio),
                                    left: g(o.left - l * e.leftRatio),
                                    width: g(n + l),
                                    height: g(a + r)
                                }
                            },
                            step: function(e, t) {
                                var i, o, n, a = t.prop,
                                    r = s.current,
                                    l = r.wrapSpace,
                                    d = r.skinSpace;
                                "width" !== a && "height" !== a || (i = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), s.isClosing && (i = 1 - i), o = "width" === a ? r.wPadding : r.hPadding, n = e - o, s.skin[a](f("width" === a ? n : n - l * i)), s.inner[a](f("width" === a ? n : n - l * i - d * i)))
                            },
                            zoomIn: function() {
                                var e = s.current,
                                    t = e.pos,
                                    o = i.extend({
                                        opacity: 1
                                    }, t);
                                delete o.position, t = this.getOrigPosition(), t.opacity = .1, s.wrap.css(t).animate(o, {
                                    duration: e.openSpeed,
                                    easing: e.openEasing,
                                    step: this.step,
                                    complete: s._afterZoomIn
                                })
                            },
                            zoomOut: function() {
                                var e = s.current,
                                    t = this.getOrigPosition();
                                t.opacity = .1, s.wrap.animate(t, {
                                    duration: e.closeSpeed,
                                    easing: e.closeEasing,
                                    step: this.step,
                                    complete: s._afterZoomOut
                                })
                            },
                            changeIn: function() {
                                s.current.pos.opacity = .1, s._afterZoomIn()
                            },
                            changeOut: function() {
                                var e = s.previous,
                                    t = {
                                        opacity: .1
                                    };
                                e.wrap.animate(t, {
                                    duration: 0,
                                    easing: e.prevEasing,
                                    complete: function() {
                                        i(this).trigger("onReset").remove()
                                    }
                                })
                            }
                        }, s.helpers.overlay = {
                            defaults: {
                                closeClick: !0,
                                speedOut: 200,
                                showEarly: !0,
                                css: {},
                                locked: !1,
                                fixed: !0
                            },
                            overlay: null,
                            fixed: !0,
                            create: function(e) {
                                e = i.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = i('<div class="fancybox-overlay fancybox-overlay-fixed"></div>').appendTo("body")
                            },
                            open: function(e) {
                                var t = this;
                                e = i.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.overlay.bind("click.overlay", function(e) {
                                    i(e.target).hasClass("fancybox-overlay") && (s.isActive ? s.close() : t.close())
                                }), this.overlay.css(e.css).show()
                            },
                            close: function() {
                                i(".fancybox-overlay").remove(), n.unbind("resize.overlay"), this.overlay = null, !1 !== this.margin && (i("body").css("margin-right", this.margin), this.margin = !1), this.el && this.el.removeClass("fancybox-lock")
                            },
                            update: function() {
                                var e, i = "100%";
                                this.overlay.width(i).height("100%"), r ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), a.width() > e && (i = a.width())) : a.width() > n.width() && (i = a.width()), this.overlay.width(i).height(a.height())
                            },
                            onReady: function(e, o) {
                                i(".fancybox-overlay").stop(!0, !0), this.overlay || (this.margin = (a.height() > n.height() || "scroll" === i("body").css("overflow-y")) && i("body").css("margin-right"), this.el = i(t.all && !t.querySelector ? "html" : "body"), this.create(e)), e.locked && this.fixed && (o.locked = this.overlay.append(o.wrap), o.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments)
                            },
                            beforeShow: function(e, t) {
                                this.open(e)
                            },
                            onUpdate: function() {},
                            afterClose: function(e) {
                                this.overlay && !s.isActive && this.overlay.fadeOut(e.speedOut, i.proxy(this.close, this))
                            }
                        }, s.helpers.title = {
                            defaults: {
                                type: "float",
                                position: "bottom"
                            },
                            beforeShow: function(e) {
                                var t, o = s.current,
                                    n = o.title,
                                    a = e.type,
                                    r = s.inner;
                                i.isFunction(n) && (n = n.call(o.element, o)), p(n) && "" !== i.trim(n) && (t = i('<div class="fancybox-title fancybox-title-' + a + '-wrap">' + n + "</div>"), t["top" === e.position ? "prependTo" : "appendTo"](r))
                            }
                        }, i.fn.fancybox = function(e) {
                            var t, o = i(this),
                                n = this.selector || "",
                                r = function(a) {
                                    var r, l, d = i(this).blur(),
                                        c = t;
                                    a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || d.is(".fancybox-wrap") || (r = e.groupAttr || "data-fancybox-group", l = d.attr(r), l || (r = "rel", l = d.get(0)[r]), l && "" !== l && "nofollow" !== l && (d = n.length ? i(n) : o, d = d.filter("[" + r + '="' + l + '"]'), c = d.index(this)), e.index = c, !1 !== s.open(d, e) && a.preventDefault())
                                };
                            return e = e || {}, t = e.index || 0, n && !1 !== e.live ? a.undelegate(n, "click.fb-start").delegate(n + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", r) : o.unbind("click.fb-start").bind("click.fb-start", r), this.filter("[data-fancybox-start=1]").trigger("click"), this
                        }, a.ready(function() {
                            void 0 === i.scrollbarWidth && (i.scrollbarWidth = function() {
                                var e = i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
                                    t = e.children(),
                                    o = t.innerWidth() - t.height(99).innerWidth();
                                return e.remove(), o
                            }), void 0 === i.support.fixedPosition && (i.support.fixedPosition = function() {
                                var e = i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
                                    t = 20 === e[0].offsetTop || 15 === e[0].offsetTop;
                                return e.remove(), t
                            }()), i.extend(s.defaults, {
                                scrollbarWidth: i.scrollbarWidth(),
                                fixed: i.support.fixedPosition,
                                parent: i("body")
                            })
                        })
                    }(window, document, jQuery),
                    function(e) {
                        function t(t) {
                            var i = t || window.event,
                                o = [].slice.call(arguments, 1),
                                n = 0,
                                a = 0,
                                s = 0,
                                t = e.event.fix(i);
                            return t.type = "mousewheel", i.wheelDelta && (n = i.wheelDelta / 120), i.detail && (n = -i.detail / 3), s = n, void 0 !== i.axis && i.axis === i.HORIZONTAL_AXIS && (s = 0, a = -1 * n), void 0 !== i.wheelDeltaY && (s = i.wheelDeltaY / 120), void 0 !== i.wheelDeltaX && (a = -1 * i.wheelDeltaX / 120), o.unshift(t, n, a, s), (e.event.dispatch || e.event.handle).apply(this, o)
                        }
                        var i = ["DOMMouseScroll", "mousewheel"];
                        if (e.event.fixHooks)
                            for (var o = i.length; o;) e.event.fixHooks[i[--o]] = e.event.mouseHooks;
                        e.event.special.mousewheel = {
                            setup: function() {
                                if (this.addEventListener)
                                    for (var e = i.length; e;) this.addEventListener(i[--e], t, !1);
                                else this.onmousewheel = t
                            },
                            teardown: function() {
                                if (this.removeEventListener)
                                    for (var e = i.length; e;) this.removeEventListener(i[--e], t, !1);
                                else this.onmousewheel = null
                            }
                        }, e.fn.extend({
                            mousewheel: function(e) {
                                return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
                            },
                            unmousewheel: function(e) {
                                return this.unbind("mousewheel", e)
                            }
                        })
                    }(jQuery), new function(e) {
                        var t = e.separator || "&",
                            i = !!e.spaces,
                            o = !1 !== e.prefix,
                            n = o ? !0 === e.hash ? "#" : "?" : "",
                            a = !1 !== e.numbers;
                        $.query = new function() {
                            var e = function(e, t) {
                                    return void 0 != e && (!t || e.constructor == t)
                                },
                                o = function(e) {
                                    for (var t, i = /\[([^[]*)\]/g, o = /^([^[]+)(\[.*\])?$/.exec(e), n = o[1], a = []; t = i.exec(o[2]);) a.push(t[1]);
                                    return [n, a]
                                },
                                s = function(t, i, o) {
                                    var n = i.shift();
                                    if ("object" != typeof t && (t = null), "" === n)
                                        if (t || (t = []), e(t, Array)) t.push(0 == i.length ? o : s(null, i.slice(0), o));
                                        else if (e(t, Object)) {
                                        for (var a = 0; null != t[a++];);
                                        t[--a] = 0 == i.length ? o : s(t[a], i.slice(0), o)
                                    } else t = [], t.push(0 == i.length ? o : s(null, i.slice(0), o));
                                    else if (n && n.match(/^\s*[0-9]+\s*$/)) {
                                        var r = parseInt(n, 10);
                                        t || (t = []), t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                                    } else {
                                        if (!n) return o;
                                        var r = n.replace(/^\s*|\s*$/g, "");
                                        if (t || (t = {}), e(t, Array)) {
                                            for (var l = {}, a = 0; a < t.length; ++a) l[a] = t[a];
                                            t = l
                                        }
                                        t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                                    }
                                    return t
                                },
                                r = function(e) {
                                    var t = this;
                                    return t.keys = {}, e.queryObject ? $.each(e.get(), function(e, i) {
                                        t.SET(e, i)
                                    }) : $.each(arguments, function() {
                                        var e = "" + this;
                                        e = e.replace(/^[?#]/, ""), e = e.replace(/[;&]$/, ""), i && (e = e.replace(/[+]/g, " ")), $.each(e.split(/[&;]/), function() {
                                            var e = decodeURIComponent(this.split("=")[0] || ""),
                                                i = decodeURIComponent(this.split("=")[1] || "");
                                            e && (a && (/^[+-]?[0-9]+\.[0-9]*$/.test(i) ? i = parseFloat(i) : /^[+-]?[0-9]+$/.test(i) && (i = parseInt(i, 10))), i = !i && 0 !== i || i, t.SET(e, i))
                                        })
                                    }), t
                                };
                            return r.prototype = {
                                queryObject: !0,
                                has: function(t, i) {
                                    return e(this.get(t), i)
                                },
                                GET: function(t) {
                                    if (!e(t)) return this.keys;
                                    for (var i = o(t), n = i[0], a = i[1], s = this.keys[n]; null != s && 0 != a.length;) s = s[a.shift()];
                                    return "number" == typeof s ? s : s || ""
                                },
                                get: function(t) {
                                    var i = this.GET(t);
                                    return e(i, Object) ? $.extend(!0, {}, i) : e(i, Array) ? i.slice(0) : i
                                },
                                SET: function(t, i, n) {
                                    if (i && n != i) {
                                        var a = o(t),
                                            r = a[0];
                                        this.keys[r] = s(this.keys[r], a[1].slice(0), e(i) ? i : null)
                                    }
                                    return this
                                },
                                EMPTY: function() {
                                    var e = this;
                                    return $.each(e.keys, function(t) {
                                        delete e.keys[t]
                                    }), e
                                },
                                copy: function() {
                                    return new r(this)
                                },
                                toString: function() {
                                    var o = [],
                                        a = [],
                                        s = function(e) {
                                            return e += "", i && (e = e.replace(/ /g, "+")), encodeURIComponent(e).replace(/%2C/g, ",").replace(/%21/g, "!").replace(/%27/g, "'").replace(/%28/g, "(").replace(/%29/g, ")").replace(/%2A/g, "*")
                                        },
                                        r = function(t, i, o) {
                                            if (e(o) && !1 !== o) {
                                                var n = [s(i)];
                                                !0 !== o && (n.push("="), n.push(s(o))), t.push(n.join(""))
                                            }
                                        },
                                        l = function(e, t) {
                                            var i = function(e) {
                                                return t && "" != t ? [t, "[", e, "]"].join("") : [e].join("")
                                            };
                                            $.each(e, function(e, t) {
                                                "object" == typeof t ? l(t, i(e)) : r(a, i(e), t)
                                            })
                                        };
                                    return l(this.keys), a.length > 0 && o.push(n), o.push(a.join(t)), o.join("")
                                }
                            }, new r(location.search, location.hash)
                        }
                    }(jQuery.query || {}),
                    function(e) {
                        "use strict";
                        "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
                    }(function(e) {
                        "use strict";
                        var t = window.Slick || {};
                        t = function() {
                            function t(t, o) {
                                var n, a = this;
                                a.defaults = {
                                    accessibility: !0,
                                    adaptiveHeight: !1,
                                    appendArrows: e(t),
                                    appendDots: e(t),
                                    arrows: !0,
                                    asNavFor: null,
                                    prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                                    nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                                    autoplay: !1,
                                    autoplaySpeed: 3e3,
                                    centerMode: !1,
                                    centerPadding: "50px",
                                    cssEase: "ease",
                                    customPaging: function(t, i) {
                                        return e('<button type="button" />').text(i + 1)
                                    },
                                    dots: !1,
                                    dotsClass: "slick-dots",
                                    draggable: !0,
                                    easing: "linear",
                                    edgeFriction: .35,
                                    fade: !1,
                                    focusOnSelect: !1,
                                    focusOnChange: !1,
                                    infinite: !0,
                                    initialSlide: 0,
                                    lazyLoad: "ondemand",
                                    mobileFirst: !1,
                                    pauseOnHover: !0,
                                    pauseOnFocus: !0,
                                    pauseOnDotsHover: !1,
                                    respondTo: "window",
                                    responsive: null,
                                    rows: 1,
                                    rtl: !1,
                                    slide: "",
                                    slidesPerRow: 1,
                                    slidesToShow: 1,
                                    slidesToScroll: 1,
                                    speed: 500,
                                    swipe: !0,
                                    swipeToSlide: !1,
                                    touchMove: !0,
                                    touchThreshold: 5,
                                    useCSS: !0,
                                    useTransform: !0,
                                    variableWidth: !1,
                                    vertical: !1,
                                    verticalSwiping: !1,
                                    waitForAnimate: !0,
                                    zIndex: 1e3
                                }, a.initials = {
                                    animating: !1,
                                    dragging: !1,
                                    autoPlayTimer: null,
                                    currentDirection: 0,
                                    currentLeft: null,
                                    currentSlide: 0,
                                    direction: 1,
                                    $dots: null,
                                    listWidth: null,
                                    listHeight: null,
                                    loadIndex: 0,
                                    $nextArrow: null,
                                    $prevArrow: null,
                                    scrolling: !1,
                                    slideCount: null,
                                    slideWidth: null,
                                    $slideTrack: null,
                                    $slides: null,
                                    sliding: !1,
                                    slideOffset: 0,
                                    swipeLeft: null,
                                    swiping: !1,
                                    $list: null,
                                    touchObject: {},
                                    transformsEnabled: !1,
                                    unslicked: !1
                                }, e.extend(a, a.initials), a.activeBreakpoint = null, a.animType = null, a.animProp = null, a.breakpoints = [], a.breakpointSettings = [], a.cssTransitions = !1, a.focussed = !1, a.interrupted = !1, a.hidden = "hidden", a.paused = !0, a.positionProp = null, a.respondTo = null, a.rowCount = 1, a.shouldClick = !0, a.$slider = e(t), a.$slidesCache = null, a.transformType = null, a.transitionType = null, a.visibilityChange = "visibilitychange", a.windowWidth = 0, a.windowTimer = null, n = e(t).data("slick") || {}, a.options = e.extend({}, a.defaults, o, n), a.currentSlide = a.options.initialSlide, a.originalSettings = a.options, void 0 !== document.mozHidden ? (a.hidden = "mozHidden", a.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (a.hidden = "webkitHidden", a.visibilityChange = "webkitvisibilitychange"), a.autoPlay = e.proxy(a.autoPlay, a), a.autoPlayClear = e.proxy(a.autoPlayClear, a), a.autoPlayIterator = e.proxy(a.autoPlayIterator, a), a.changeSlide = e.proxy(a.changeSlide, a), a.clickHandler = e.proxy(a.clickHandler, a), a.selectHandler = e.proxy(a.selectHandler, a), a.setPosition = e.proxy(a.setPosition, a), a.swipeHandler = e.proxy(a.swipeHandler, a), a.dragHandler = e.proxy(a.dragHandler, a), a.keyHandler = e.proxy(a.keyHandler, a), a.instanceUid = i++, a.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, a.registerBreakpoints(), a.init(!0)
                            }
                            var i = 0;
                            return t
                        }(), t.prototype.activateADA = function() {
                            this.$slideTrack.find(".slick-active").attr({
                                "aria-hidden": "false"
                            }).find("a, input, button, select").attr({
                                tabindex: "0"
                            })
                        }, t.prototype.addSlide = t.prototype.slickAdd = function(t, i, o) {
                            var n = this;
                            if ("boolean" == typeof i) o = i, i = null;
                            else if (i < 0 || i >= n.slideCount) return !1;
                            n.unload(), "number" == typeof i ? 0 === i && 0 === n.$slides.length ? e(t).appendTo(n.$slideTrack) : o ? e(t).insertBefore(n.$slides.eq(i)) : e(t).insertAfter(n.$slides.eq(i)) : !0 === o ? e(t).prependTo(n.$slideTrack) : e(t).appendTo(n.$slideTrack), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slides.each(function(t, i) {
                                e(i).attr("data-slick-index", t)
                            }), n.$slidesCache = n.$slides, n.reinit()
                        }, t.prototype.animateHeight = function() {
                            var e = this;
                            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                                e.$list.animate({
                                    height: t
                                }, e.options.speed)
                            }
                        }, t.prototype.animateSlide = function(t, i) {
                            var o = {},
                                n = this;
                            n.animateHeight(), !0 === n.options.rtl && !1 === n.options.vertical && (t = -t), !1 === n.transformsEnabled ? !1 === n.options.vertical ? n.$slideTrack.animate({
                                left: t
                            }, n.options.speed, n.options.easing, i) : n.$slideTrack.animate({
                                top: t
                            }, n.options.speed, n.options.easing, i) : !1 === n.cssTransitions ? (!0 === n.options.rtl && (n.currentLeft = -n.currentLeft), e({
                                animStart: n.currentLeft
                            }).animate({
                                animStart: t
                            }, {
                                duration: n.options.speed,
                                easing: n.options.easing,
                                step: function(e) {
                                    e = Math.ceil(e), !1 === n.options.vertical ? (o[n.animType] = "translate(" + e + "px, 0px)", n.$slideTrack.css(o)) : (o[n.animType] = "translate(0px," + e + "px)", n.$slideTrack.css(o))
                                },
                                complete: function() {
                                    i && i.call()
                                }
                            })) : (n.applyTransition(), t = Math.ceil(t), !1 === n.options.vertical ? o[n.animType] = "translate3d(" + t + "px, 0px, 0px)" : o[n.animType] = "translate3d(0px," + t + "px, 0px)", n.$slideTrack.css(o), i && setTimeout(function() {
                                n.disableTransition(), i.call()
                            }, n.options.speed))
                        }, t.prototype.getNavTarget = function() {
                            var t = this,
                                i = t.options.asNavFor;
                            return i && null !== i && (i = e(i).not(t.$slider)), i
                        }, t.prototype.asNavFor = function(t) {
                            var i = this,
                                o = i.getNavTarget();
                            null !== o && "object" == typeof o && o.each(function() {
                                var i = e(this).slick("getSlick");
                                i.unslicked || i.slideHandler(t, !0)
                            })
                        }, t.prototype.applyTransition = function(e) {
                            var t = this,
                                i = {};
                            !1 === t.options.fade ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
                        }, t.prototype.autoPlay = function() {
                            var e = this;
                            e.autoPlayClear(), e.slideCount > e.options.slidesToShow && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed))
                        }, t.prototype.autoPlayClear = function() {
                            var e = this;
                            e.autoPlayTimer && clearInterval(e.autoPlayTimer)
                        }, t.prototype.autoPlayIterator = function() {
                            var e = this,
                                t = e.currentSlide + e.options.slidesToScroll;
                            e.paused || e.interrupted || e.focussed || (!1 === e.options.infinite && (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1 ? e.direction = 0 : 0 === e.direction && (t = e.currentSlide - e.options.slidesToScroll, e.currentSlide - 1 == 0 && (e.direction = 1))), e.slideHandler(t))
                        }, t.prototype.buildArrows = function() {
                            var t = this;
                            !0 === t.options.arrows && (t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow"), t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow"), t.slideCount > t.options.slidesToShow ? (t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.prependTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), !0 !== t.options.infinite && t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({
                                "aria-disabled": "true",
                                tabindex: "-1"
                            }))
                        }, t.prototype.buildDots = function() {
                            var t, i, o = this;
                            if (!0 === o.options.dots && o.slideCount > o.options.slidesToShow) {
                                for (o.$slider.addClass("slick-dotted"), i = e("<ul />").addClass(o.options.dotsClass), t = 0; t <= o.getDotCount(); t += 1) i.append(e("<li />").append(o.options.customPaging.call(this, o, t)));
                                o.$dots = i.appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active")
                            }
                        }, t.prototype.buildOut = function() {
                            var t = this;
                            t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function(t, i) {
                                e(i).attr("data-slick-index", t).data("originalStyling", e(i).attr("style") || "")
                            }), t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), !0 !== t.options.centerMode && !0 !== t.options.swipeToSlide || (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), !0 === t.options.draggable && t.$list.addClass("draggable")
                        }, t.prototype.buildRows = function() {
                            var e, t, i, o, n, a, s, r = this;
                            if (o = document.createDocumentFragment(), a = r.$slider.children(), r.options.rows > 0) {
                                for (s = r.options.slidesPerRow * r.options.rows, n = Math.ceil(a.length / s), e = 0; e < n; e++) {
                                    var l = document.createElement("div");
                                    for (t = 0; t < r.options.rows; t++) {
                                        var d = document.createElement("div");
                                        for (i = 0; i < r.options.slidesPerRow; i++) {
                                            var c = e * s + (t * r.options.slidesPerRow + i);
                                            a.get(c) && d.appendChild(a.get(c))
                                        }
                                        l.appendChild(d)
                                    }
                                    o.appendChild(l)
                                }
                                r.$slider.empty().append(o), r.$slider.children().children().children().css({
                                    width: 100 / r.options.slidesPerRow + "%",
                                    display: "inline-block"
                                })
                            }
                        }, t.prototype.checkResponsive = function(t, i) {
                            var o, n, a, s = this,
                                r = !1,
                                l = s.$slider.width(),
                                d = window.innerWidth || e(window).width();
                            if ("window" === s.respondTo ? a = d : "slider" === s.respondTo ? a = l : "min" === s.respondTo && (a = Math.min(d, l)), s.options.responsive && s.options.responsive.length && null !== s.options.responsive) {
                                n = null;
                                for (o in s.breakpoints) s.breakpoints.hasOwnProperty(o) && (!1 === s.originalSettings.mobileFirst ? a < s.breakpoints[o] && (n = s.breakpoints[o]) : a > s.breakpoints[o] && (n = s.breakpoints[o]));
                                null !== n ? null !== s.activeBreakpoint ? (n !== s.activeBreakpoint || i) && (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t), r = n), t || !1 === r || s.$slider.trigger("breakpoint", [s, r])
                            }
                        }, t.prototype.changeSlide = function(t, i) {
                            var o, n, a, s = this,
                                r = e(t.currentTarget);
                            switch (r.is("a") && t.preventDefault(), r.is("li") || (r = r.closest("li")), a = s.slideCount % s.options.slidesToScroll != 0, o = a ? 0 : (s.slideCount - s.currentSlide) % s.options.slidesToScroll, t.data.message) {
                                case "previous":
                                    n = 0 === o ? s.options.slidesToScroll : s.options.slidesToShow - o, s.slideCount > s.options.slidesToShow && s.slideHandler(Math.max(0, s.currentSlide - n), !1, i);
                                    break;
                                case "next":
                                    n = 0 === o ? s.options.slidesToScroll : o, s.slideCount > s.options.slidesToShow && (n = Math.min(s.slideCount - s.currentSlide - n, n), s.slideHandler(s.currentSlide + n, !1, i));
                                    break;
                                case "index":
                                    var l = 0 === t.data.index ? 0 : t.data.index || r.index() * s.options.slidesToScroll;
                                    s.slideHandler(s.checkNavigable(l), !1, i), r.children().trigger("focus");
                                    break;
                                default:
                                    return
                            }
                        }, t.prototype.checkNavigable = function(e) {
                            var t, i, o = this;
                            if (t = o.getNavigableIndexes(), i = 0, e > t[t.length - 1]) e = t[t.length - 1];
                            else
                                for (var n in t) {
                                    if (e < t[n]) {
                                        e = i;
                                        break
                                    }
                                    i = t[n]
                                }
                            return e
                        }, t.prototype.cleanUpEvents = function() {
                            var t = this;
                            t.options.dots && null !== t.$dots && (e("li", t.$dots).off("click.slick", t.changeSlide).off("mouseenter.slick", e.proxy(t.interrupt, t, !0)).off("mouseleave.slick", e.proxy(t.interrupt, t, !1)), !0 === t.options.accessibility && t.$dots.off("keydown.slick", t.keyHandler)), t.$slider.off("focus.slick blur.slick"), !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide), t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide), !0 === t.options.accessibility && (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler), t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))), t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler), t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler), t.$list.off("touchend.slick mouseup.slick", t.swipeHandler), t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler), t.$list.off("click.slick", t.clickHandler), e(document).off(t.visibilityChange, t.visibility), t.cleanUpSlideEvents(), !0 === t.options.accessibility && t.$list.off("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().off("click.slick", t.selectHandler), e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange), e(window).off("resize.slick.slick-" + t.instanceUid, t.resize), e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault), e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition)
                        }, t.prototype.cleanUpSlideEvents = function() {
                            var t = this;
                            t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1))
                        }, t.prototype.cleanUpRows = function() {
                            var e, t = this;
                            t.options.rows > 0 && (e = t.$slides.children().children(), e.removeAttr("style"), t.$slider.empty().append(e))
                        }, t.prototype.clickHandler = function(e) {
                            !1 === this.shouldClick && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault())
                        }, t.prototype.destroy = function(t) {
                            var i = this;
                            i.autoPlayClear(), i.touchObject = {}, i.cleanUpEvents(), e(".slick-cloned", i.$slider).detach(), i.$dots && i.$dots.remove(), i.$prevArrow && i.$prevArrow.length && (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()), i.$nextArrow && i.$nextArrow.length && (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()), i.$slides && (i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
                                e(this).attr("style", e(this).data("originalStyling"))
                            }), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.detach(), i.$list.detach(), i.$slider.append(i.$slides)), i.cleanUpRows(), i.$slider.removeClass("slick-slider"), i.$slider.removeClass("slick-initialized"), i.$slider.removeClass("slick-dotted"), i.unslicked = !0, t || i.$slider.trigger("destroy", [i])
                        }, t.prototype.disableTransition = function(e) {
                            var t = this,
                                i = {};
                            i[t.transitionType] = "", !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
                        }, t.prototype.fadeSlide = function(e, t) {
                            var i = this;
                            !1 === i.cssTransitions ? (i.$slides.eq(e).css({
                                zIndex: i.options.zIndex
                            }), i.$slides.eq(e).animate({
                                opacity: 1
                            }, i.options.speed, i.options.easing, t)) : (i.applyTransition(e), i.$slides.eq(e).css({
                                opacity: 1,
                                zIndex: i.options.zIndex
                            }), t && setTimeout(function() {
                                i.disableTransition(e), t.call()
                            }, i.options.speed))
                        }, t.prototype.fadeSlideOut = function(e) {
                            var t = this;
                            !1 === t.cssTransitions ? t.$slides.eq(e).animate({
                                opacity: 0,
                                zIndex: t.options.zIndex - 2
                            }, t.options.speed, t.options.easing) : (t.applyTransition(e), t.$slides.eq(e).css({
                                opacity: 0,
                                zIndex: t.options.zIndex - 2
                            }))
                        }, t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
                            var t = this;
                            null !== e && (t.$slidesCache = t.$slides, t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit())
                        }, t.prototype.focusHandler = function() {
                            var t = this;
                            t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", function(i) {
                                i.stopImmediatePropagation();
                                var o = e(this);
                                setTimeout(function() {
                                    t.options.pauseOnFocus && (t.focussed = o.is(":focus"), t.autoPlay())
                                }, 0)
                            })
                        }, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
                            return this.currentSlide
                        }, t.prototype.getDotCount = function() {
                            var e = this,
                                t = 0,
                                i = 0,
                                o = 0;
                            if (!0 === e.options.infinite)
                                if (e.slideCount <= e.options.slidesToShow) ++o;
                                else
                                    for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
                            else if (!0 === e.options.centerMode) o = e.slideCount;
                            else if (e.options.asNavFor)
                                for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
                            else o = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
                            return o - 1
                        }, t.prototype.getLeft = function(e) {
                            var t, i, o, n, a = this,
                                s = 0;
                            return a.slideOffset = 0, i = a.$slides.first().outerHeight(!0), !0 === a.options.infinite ? (a.slideCount > a.options.slidesToShow && (a.slideOffset = a.slideWidth * a.options.slidesToShow * -1, n = -1, !0 === a.options.vertical && !0 === a.options.centerMode && (2 === a.options.slidesToShow ? n = -1.5 : 1 === a.options.slidesToShow && (n = -2)), s = i * a.options.slidesToShow * n), a.slideCount % a.options.slidesToScroll != 0 && e + a.options.slidesToScroll > a.slideCount && a.slideCount > a.options.slidesToShow && (e > a.slideCount ? (a.slideOffset = (a.options.slidesToShow - (e - a.slideCount)) * a.slideWidth * -1, s = (a.options.slidesToShow - (e - a.slideCount)) * i * -1) : (a.slideOffset = a.slideCount % a.options.slidesToScroll * a.slideWidth * -1, s = a.slideCount % a.options.slidesToScroll * i * -1))) : e + a.options.slidesToShow > a.slideCount && (a.slideOffset = (e + a.options.slidesToShow - a.slideCount) * a.slideWidth, s = (e + a.options.slidesToShow - a.slideCount) * i), a.slideCount <= a.options.slidesToShow && (a.slideOffset = 0, s = 0), !0 === a.options.centerMode && a.slideCount <= a.options.slidesToShow ? a.slideOffset = a.slideWidth * Math.floor(a.options.slidesToShow) / 2 - a.slideWidth * a.slideCount / 2 : !0 === a.options.centerMode && !0 === a.options.infinite ? a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2) - a.slideWidth : !0 === a.options.centerMode && (a.slideOffset = 0, a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2)), t = !1 === a.options.vertical ? e * a.slideWidth * -1 + a.slideOffset : e * i * -1 + s, !0 === a.options.variableWidth && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, !0 === a.options.centerMode && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow + 1), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, t += (a.$list.width() - o.outerWidth()) / 2)), t
                        }, t.prototype.getOption = t.prototype.slickGetOption = function(e) {
                            return this.options[e]
                        }, t.prototype.getNavigableIndexes = function() {
                            var e, t = this,
                                i = 0,
                                o = 0,
                                n = [];
                            for (!1 === t.options.infinite ? e = t.slideCount : (i = -1 * t.options.slidesToScroll, o = -1 * t.options.slidesToScroll, e = 2 * t.slideCount); i < e;) n.push(i), i = o + t.options.slidesToScroll, o += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
                            return n
                        }, t.prototype.getSlick = function() {
                            return this
                        }, t.prototype.getSlideCount = function() {
                            var t, i, o = this;
                            return i = !0 === o.options.centerMode ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) : 0, !0 === o.options.swipeToSlide ? (o.$slideTrack.find(".slick-slide").each(function(n, a) {
                                if (a.offsetLeft - i + e(a).outerWidth() / 2 > -1 * o.swipeLeft) return t = a, !1
                            }), Math.abs(e(t).attr("data-slick-index") - o.currentSlide) || 1) : o.options.slidesToScroll
                        }, t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
                            this.changeSlide({
                                data: {
                                    message: "index",
                                    index: parseInt(e)
                                }
                            }, t)
                        }, t.prototype.init = function(t) {
                            var i = this;
                            e(i.$slider).hasClass("slick-initialized") || (e(i.$slider).addClass("slick-initialized"), i.buildRows(), i.buildOut(), i.setProps(), i.startLoad(), i.loadSlider(), i.initializeEvents(), i.updateArrows(), i.updateDots(), i.checkResponsive(!0), i.focusHandler()), t && i.$slider.trigger("init", [i]), !0 === i.options.accessibility && i.initADA(), i.options.autoplay && (i.paused = !1, i.autoPlay())
                        }, t.prototype.initADA = function() {
                            var t = this,
                                i = Math.ceil(t.slideCount / t.options.slidesToShow),
                                o = t.getNavigableIndexes().filter(function(e) {
                                    return e >= 0 && e < t.slideCount
                                });
                            t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({
                                "aria-hidden": "true",
                                tabindex: "-1"
                            }).find("a, input, button, select").attr({
                                tabindex: "-1"
                            }), null !== t.$dots && (t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i) {
                                var n = o.indexOf(i);
                                if (e(this).attr({
                                        role: "tabpanel",
                                        id: "slick-slide" + t.instanceUid + i,
                                        tabindex: -1
                                    }), -1 !== n) {
                                    var a = "slick-slide-control" + t.instanceUid + n;
                                    e("#" + a).length && e(this).attr({
                                        "aria-describedby": a
                                    })
                                }
                            }), t.$dots.attr("role", "tablist").find("li").each(function(n) {
                                var a = o[n];
                                e(this).attr({
                                    role: "presentation"
                                }), e(this).find("button").first().attr({
                                    role: "tab",
                                    id: "slick-slide-control" + t.instanceUid + n,
                                    "aria-controls": "slick-slide" + t.instanceUid + a,
                                    "aria-label": n + 1 + " of " + i,
                                    "aria-selected": null,
                                    tabindex: "-1"
                                })
                            }).eq(t.currentSlide).find("button").attr({
                                "aria-selected": "true",
                                tabindex: "0"
                            }).end());
                            for (var n = t.currentSlide, a = n + t.options.slidesToShow; n < a; n++) t.options.focusOnChange ? t.$slides.eq(n).attr({
                                tabindex: "0"
                            }) : t.$slides.eq(n).removeAttr("tabindex");
                            t.activateADA()
                        }, t.prototype.initArrowEvents = function() {
                            var e = this;
                            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.off("click.slick").on("click.slick", {
                                message: "previous"
                            }, e.changeSlide), e.$nextArrow.off("click.slick").on("click.slick", {
                                message: "next"
                            }, e.changeSlide), !0 === e.options.accessibility && (e.$prevArrow.on("keydown.slick", e.keyHandler), e.$nextArrow.on("keydown.slick", e.keyHandler)))
                        }, t.prototype.initDotEvents = function() {
                            var t = this;
                            !0 === t.options.dots && t.slideCount > t.options.slidesToShow && (e("li", t.$dots).on("click.slick", {
                                message: "index"
                            }, t.changeSlide), !0 === t.options.accessibility && t.$dots.on("keydown.slick", t.keyHandler)), !0 === t.options.dots && !0 === t.options.pauseOnDotsHover && t.slideCount > t.options.slidesToShow && e("li", t.$dots).on("mouseenter.slick", e.proxy(t.interrupt, t, !0)).on("mouseleave.slick", e.proxy(t.interrupt, t, !1))
                        }, t.prototype.initSlideEvents = function() {
                            var t = this;
                            t.options.pauseOnHover && (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)))
                        }, t.prototype.initializeEvents = function() {
                            var t = this;
                            t.initArrowEvents(), t.initDotEvents(), t.initSlideEvents(), t.$list.on("touchstart.slick mousedown.slick", {
                                action: "start"
                            }, t.swipeHandler), t.$list.on("touchmove.slick mousemove.slick", {
                                action: "move"
                            }, t.swipeHandler), t.$list.on("touchend.slick mouseup.slick", {
                                action: "end"
                            }, t.swipeHandler), t.$list.on("touchcancel.slick mouseleave.slick", {
                                action: "end"
                            }, t.swipeHandler), t.$list.on("click.slick", t.clickHandler), e(document).on(t.visibilityChange, e.proxy(t.visibility, t)), !0 === t.options.accessibility && t.$list.on("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), e(window).on("orientationchange.slick.slick-" + t.instanceUid, e.proxy(t.orientationChange, t)), e(window).on("resize.slick.slick-" + t.instanceUid, e.proxy(t.resize, t)), e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault), e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition), e(t.setPosition)
                        }, t.prototype.initUI = function() {
                            var e = this;
                            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.show()
                        }, t.prototype.keyHandler = function(e) {
                            var t = this;
                            e.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === e.keyCode && !0 === t.options.accessibility ? t.changeSlide({
                                data: {
                                    message: !0 === t.options.rtl ? "next" : "previous"
                                }
                            }) : 39 === e.keyCode && !0 === t.options.accessibility && t.changeSlide({
                                data: {
                                    message: !0 === t.options.rtl ? "previous" : "next"
                                }
                            }))
                        }, t.prototype.lazyLoad = function() {
                            function t(t) {
                                e("img[data-lazy]", t).each(function() {
                                    var t = e(this),
                                        i = e(this).attr("data-lazy"),
                                        o = e(this).attr("data-srcset"),
                                        n = e(this).attr("data-sizes") || s.$slider.attr("data-sizes"),
                                        a = document.createElement("img");
                                    a.onload = function() {
                                        t.animate({
                                            opacity: 0
                                        }, 100, function() {
                                            o && (t.attr("srcset", o), n && t.attr("sizes", n)), t.attr("src", i).animate({
                                                opacity: 1
                                            }, 200, function() {
                                                t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")
                                            }), s.$slider.trigger("lazyLoaded", [s, t, i])
                                        })
                                    }, a.onerror = function() {
                                        t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), s.$slider.trigger("lazyLoadError", [s, t, i])
                                    }, a.src = i
                                })
                            }
                            var i, o, n, a, s = this;
                            if (!0 === s.options.centerMode ? !0 === s.options.infinite ? (n = s.currentSlide + (s.options.slidesToShow / 2 + 1), a = n + s.options.slidesToShow + 2) : (n = Math.max(0, s.currentSlide - (s.options.slidesToShow / 2 + 1)), a = s.options.slidesToShow / 2 + 1 + 2 + s.currentSlide) : (n = s.options.infinite ? s.options.slidesToShow + s.currentSlide : s.currentSlide, a = Math.ceil(n + s.options.slidesToShow), !0 === s.options.fade && (n > 0 && n--, a <= s.slideCount && a++)), i = s.$slider.find(".slick-slide").slice(n, a), "anticipated" === s.options.lazyLoad)
                                for (var r = n - 1, l = a, d = s.$slider.find(".slick-slide"), c = 0; c < s.options.slidesToScroll; c++) r < 0 && (r = s.slideCount - 1), i = i.add(d.eq(r)), i = i.add(d.eq(l)), r--, l++;
                            t(i), s.slideCount <= s.options.slidesToShow ? (o = s.$slider.find(".slick-slide"), t(o)) : s.currentSlide >= s.slideCount - s.options.slidesToShow ? (o = s.$slider.find(".slick-cloned").slice(0, s.options.slidesToShow), t(o)) : 0 === s.currentSlide && (o = s.$slider.find(".slick-cloned").slice(-1 * s.options.slidesToShow), t(o))
                        }, t.prototype.loadSlider = function() {
                            var e = this;
                            e.setPosition(), e.$slideTrack.css({
                                opacity: 1
                            }), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad()
                        }, t.prototype.next = t.prototype.slickNext = function() {
                            this.changeSlide({
                                data: {
                                    message: "next"
                                }
                            })
                        }, t.prototype.orientationChange = function() {
                            var e = this;
                            e.checkResponsive(), e.setPosition()
                        }, t.prototype.pause = t.prototype.slickPause = function() {
                            var e = this;
                            e.autoPlayClear(), e.paused = !0
                        }, t.prototype.play = t.prototype.slickPlay = function() {
                            var e = this;
                            e.autoPlay(), e.options.autoplay = !0, e.paused = !1, e.focussed = !1, e.interrupted = !1
                        }, t.prototype.postSlide = function(t) {
                            var i = this;
                            if (!i.unslicked && (i.$slider.trigger("afterChange", [i, t]), i.animating = !1, i.slideCount > i.options.slidesToShow && i.setPosition(), i.swipeLeft = null, i.options.autoplay && i.autoPlay(), !0 === i.options.accessibility && (i.initADA(), i.options.focusOnChange))) {
                                e(i.$slides.get(i.currentSlide)).attr("tabindex", 0).focus()
                            }
                        }, t.prototype.prev = t.prototype.slickPrev = function() {
                            this.changeSlide({
                                data: {
                                    message: "previous"
                                }
                            })
                        }, t.prototype.preventDefault = function(e) {
                            e.preventDefault()
                        }, t.prototype.progressiveLazyLoad = function(t) {
                            t = t || 1;
                            var i, o, n, a, s, r = this,
                                l = e("img[data-lazy]", r.$slider);
                            l.length ? (i = l.first(), o = i.attr("data-lazy"), n = i.attr("data-srcset"), a = i.attr("data-sizes") || r.$slider.attr("data-sizes"), s = document.createElement("img"), s.onload = function() {
                                n && (i.attr("srcset", n), a && i.attr("sizes", a)), i.attr("src", o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"), !0 === r.options.adaptiveHeight && r.setPosition(), r.$slider.trigger("lazyLoaded", [r, i, o]), r.progressiveLazyLoad()
                            }, s.onerror = function() {
                                t < 3 ? setTimeout(function() {
                                    r.progressiveLazyLoad(t + 1)
                                }, 500) : (i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), r.$slider.trigger("lazyLoadError", [r, i, o]), r.progressiveLazyLoad())
                            }, s.src = o) : r.$slider.trigger("allImagesLoaded", [r])
                        }, t.prototype.refresh = function(t) {
                            var i, o, n = this;
                            o = n.slideCount - n.options.slidesToShow, !n.options.infinite && n.currentSlide > o && (n.currentSlide = o), n.slideCount <= n.options.slidesToShow && (n.currentSlide = 0), i = n.currentSlide, n.destroy(!0), e.extend(n, n.initials, {
                                currentSlide: i
                            }), n.init(), t || n.changeSlide({
                                data: {
                                    message: "index",
                                    index: i
                                }
                            }, !1)
                        }, t.prototype.registerBreakpoints = function() {
                            var t, i, o, n = this,
                                a = n.options.responsive || null;
                            if ("array" === e.type(a) && a.length) {
                                n.respondTo = n.options.respondTo || "window";
                                for (t in a)
                                    if (o = n.breakpoints.length - 1, a.hasOwnProperty(t)) {
                                        for (i = a[t].breakpoint; o >= 0;) n.breakpoints[o] && n.breakpoints[o] === i && n.breakpoints.splice(o, 1), o--;
                                        n.breakpoints.push(i), n.breakpointSettings[i] = a[t].settings
                                    }
                                n.breakpoints.sort(function(e, t) {
                                    return n.options.mobileFirst ? e - t : t - e
                                })
                            }
                        }, t.prototype.reinit = function() {
                            var t = this;
                            t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.registerBreakpoints(), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.cleanUpSlideEvents(), t.initSlideEvents(), t.checkResponsive(!1, !0), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), t.setPosition(), t.focusHandler(), t.paused = !t.options.autoplay, t.autoPlay(), t.$slider.trigger("reInit", [t])
                        }, t.prototype.resize = function() {
                            var t = this;
                            e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function() {
                                t.windowWidth = e(window).width(), t.checkResponsive(), t.unslicked || t.setPosition()
                            }, 50))
                        }, t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
                            var o = this;
                            if ("boolean" == typeof e ? (t = e, e = !0 === t ? 0 : o.slideCount - 1) : e = !0 === t ? --e : e, o.slideCount < 1 || e < 0 || e > o.slideCount - 1) return !1;
                            o.unload(), !0 === i ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(e).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, o.reinit()
                        }, t.prototype.setCSS = function(e) {
                            var t, i, o = this,
                                n = {};
                            !0 === o.options.rtl && (e = -e), t = "left" == o.positionProp ? Math.ceil(e) + "px" : "0px", i = "top" == o.positionProp ? Math.ceil(e) + "px" : "0px", n[o.positionProp] = e, !1 === o.transformsEnabled ? o.$slideTrack.css(n) : (n = {}, !1 === o.cssTransitions ? (n[o.animType] = "translate(" + t + ", " + i + ")", o.$slideTrack.css(n)) : (n[o.animType] = "translate3d(" + t + ", " + i + ", 0px)", o.$slideTrack.css(n)))
                        }, t.prototype.setDimensions = function() {
                            var e = this;
                            !1 === e.options.vertical ? !0 === e.options.centerMode && e.$list.css({
                                padding: "0px " + e.options.centerPadding
                            }) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), !0 === e.options.centerMode && e.$list.css({
                                padding: e.options.centerPadding + " 0px"
                            })), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), !1 === e.options.vertical && !1 === e.options.variableWidth ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : !0 === e.options.variableWidth ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
                            var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
                            !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
                        }, t.prototype.setFade = function() {
                            var t, i = this;
                            i.$slides.each(function(o, n) {
                                t = i.slideWidth * o * -1, !0 === i.options.rtl ? e(n).css({
                                    position: "relative",
                                    right: t,
                                    top: 0,
                                    zIndex: i.options.zIndex - 2,
                                    opacity: 0
                                }) : e(n).css({
                                    position: "relative",
                                    left: t,
                                    top: 0,
                                    zIndex: i.options.zIndex - 2,
                                    opacity: 0
                                })
                            }), i.$slides.eq(i.currentSlide).css({
                                zIndex: i.options.zIndex - 1,
                                opacity: 1
                            })
                        }, t.prototype.setHeight = function() {
                            var e = this;
                            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                                e.$list.css("height", t)
                            }
                        }, t.prototype.setOption = t.prototype.slickSetOption = function() {
                            var t, i, o, n, a, s = this,
                                r = !1;
                            if ("object" === e.type(arguments[0]) ? (o = arguments[0], r = arguments[1], a = "multiple") : "string" === e.type(arguments[0]) && (o = arguments[0], n = arguments[1], r = arguments[2], "responsive" === arguments[0] && "array" === e.type(arguments[1]) ? a = "responsive" : void 0 !== arguments[1] && (a = "single")), "single" === a) s.options[o] = n;
                            else if ("multiple" === a) e.each(o, function(e, t) {
                                s.options[e] = t
                            });
                            else if ("responsive" === a)
                                for (i in n)
                                    if ("array" !== e.type(s.options.responsive)) s.options.responsive = [n[i]];
                                    else {
                                        for (t = s.options.responsive.length - 1; t >= 0;) s.options.responsive[t].breakpoint === n[i].breakpoint && s.options.responsive.splice(t, 1), t--;
                                        s.options.responsive.push(n[i])
                                    }
                            r && (s.unload(), s.reinit())
                        }, t.prototype.setPosition = function() {
                            var e = this;
                            e.setDimensions(), e.setHeight(), !1 === e.options.fade ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(), e.$slider.trigger("setPosition", [e])
                        }, t.prototype.setProps = function() {
                            var e = this,
                                t = document.body.style;
                            e.positionProp = !0 === e.options.vertical ? "top" : "left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"), void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition || !0 === e.options.useCSS && (e.cssTransitions = !0), e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : e.options.zIndex = e.defaults.zIndex), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && !1 !== e.animType && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType
                        }, t.prototype.setSlideClasses = function(e) {
                            var t, i, o, n, a = this;
                            if (i = a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), a.$slides.eq(e).addClass("slick-current"), !0 === a.options.centerMode) {
                                var s = a.options.slidesToShow % 2 == 0 ? 1 : 0;
                                t = Math.floor(a.options.slidesToShow / 2), !0 === a.options.infinite && (e >= t && e <= a.slideCount - 1 - t ? a.$slides.slice(e - t + s, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = a.options.slidesToShow + e, i.slice(o - t + 1 + s, o + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? i.eq(i.length - 1 - a.options.slidesToShow).addClass("slick-center") : e === a.slideCount - 1 && i.eq(a.options.slidesToShow).addClass("slick-center")), a.$slides.eq(e).addClass("slick-center")
                            } else e >= 0 && e <= a.slideCount - a.options.slidesToShow ? a.$slides.slice(e, e + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : i.length <= a.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") : (n = a.slideCount % a.options.slidesToShow, o = !0 === a.options.infinite ? a.options.slidesToShow + e : e, a.options.slidesToShow == a.options.slidesToScroll && a.slideCount - e < a.options.slidesToShow ? i.slice(o - (a.options.slidesToShow - n), o + n).addClass("slick-active").attr("aria-hidden", "false") : i.slice(o, o + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false"));
                            "ondemand" !== a.options.lazyLoad && "anticipated" !== a.options.lazyLoad || a.lazyLoad()
                        }, t.prototype.setupInfinite = function() {
                            var t, i, o, n = this;
                            if (!0 === n.options.fade && (n.options.centerMode = !1), !0 === n.options.infinite && !1 === n.options.fade && (i = null, n.slideCount > n.options.slidesToShow)) {
                                for (o = !0 === n.options.centerMode ? n.options.slidesToShow + 1 : n.options.slidesToShow, t = n.slideCount; t > n.slideCount - o; t -= 1) i = t - 1, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");
                                for (t = 0; t < o + n.slideCount; t += 1) i = t, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");
                                n.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                                    e(this).attr("id", "")
                                })
                            }
                        }, t.prototype.interrupt = function(e) {
                            var t = this;
                            e || t.autoPlay(), t.interrupted = e
                        }, t.prototype.selectHandler = function(t) {
                            var i = this,
                                o = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide"),
                                n = parseInt(o.attr("data-slick-index"));
                            if (n || (n = 0), i.slideCount <= i.options.slidesToShow) return void i.slideHandler(n, !1, !0);
                            i.slideHandler(n)
                        }, t.prototype.slideHandler = function(e, t, i) {
                            var o, n, a, s, r, l = null,
                                d = this;
                            if (t = t || !1, !(!0 === d.animating && !0 === d.options.waitForAnimate || !0 === d.options.fade && d.currentSlide === e)) {
                                if (!1 === t && d.asNavFor(e), o = e, l = d.getLeft(o), s = d.getLeft(d.currentSlide), d.currentLeft = null === d.swipeLeft ? s : d.swipeLeft, !1 === d.options.infinite && !1 === d.options.centerMode && (e < 0 || e > d.getDotCount() * d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                                    d.postSlide(o)
                                }) : d.postSlide(o)));
                                if (!1 === d.options.infinite && !0 === d.options.centerMode && (e < 0 || e > d.slideCount - d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                                    d.postSlide(o)
                                }) : d.postSlide(o)));
                                if (d.options.autoplay && clearInterval(d.autoPlayTimer), n = o < 0 ? d.slideCount % d.options.slidesToScroll != 0 ? d.slideCount - d.slideCount % d.options.slidesToScroll : d.slideCount + o : o >= d.slideCount ? d.slideCount % d.options.slidesToScroll != 0 ? 0 : o - d.slideCount : o, d.animating = !0, d.$slider.trigger("beforeChange", [d, d.currentSlide, n]), a = d.currentSlide, d.currentSlide = n, d.setSlideClasses(d.currentSlide), d.options.asNavFor && (r = d.getNavTarget(), r = r.slick("getSlick"), r.slideCount <= r.options.slidesToShow && r.setSlideClasses(d.currentSlide)), d.updateDots(), d.updateArrows(), !0 === d.options.fade) return !0 !== i ? (d.fadeSlideOut(a), d.fadeSlide(n, function() {
                                    d.postSlide(n)
                                })) : d.postSlide(n), void d.animateHeight();
                                !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(l, function() {
                                    d.postSlide(n)
                                }) : d.postSlide(n)
                            }
                        }, t.prototype.startLoad = function() {
                            var e = this;
                            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading")
                        }, t.prototype.swipeDirection = function() {
                            var e, t, i, o, n = this;
                            return e = n.touchObject.startX - n.touchObject.curX, t = n.touchObject.startY - n.touchObject.curY, i = Math.atan2(t, e), o = Math.round(180 * i / Math.PI), o < 0 && (o = 360 - Math.abs(o)), o <= 45 && o >= 0 ? !1 === n.options.rtl ? "left" : "right" : o <= 360 && o >= 315 ? !1 === n.options.rtl ? "left" : "right" : o >= 135 && o <= 225 ? !1 === n.options.rtl ? "right" : "left" : !0 === n.options.verticalSwiping ? o >= 35 && o <= 135 ? "down" : "up" : "vertical"
                        }, t.prototype.swipeEnd = function(e) {
                            var t, i, o = this;
                            if (o.dragging = !1, o.swiping = !1, o.scrolling) return o.scrolling = !1, !1;
                            if (o.interrupted = !1, o.shouldClick = !(o.touchObject.swipeLength > 10), void 0 === o.touchObject.curX) return !1;
                            if (!0 === o.touchObject.edgeHit && o.$slider.trigger("edge", [o, o.swipeDirection()]), o.touchObject.swipeLength >= o.touchObject.minSwipe) {
                                switch (i = o.swipeDirection()) {
                                    case "left":
                                    case "down":
                                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide + o.getSlideCount()) : o.currentSlide + o.getSlideCount(), o.currentDirection = 0;
                                        break;
                                    case "right":
                                    case "up":
                                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide - o.getSlideCount()) : o.currentSlide - o.getSlideCount(), o.currentDirection = 1
                                }
                                "vertical" != i && (o.slideHandler(t), o.touchObject = {}, o.$slider.trigger("swipe", [o, i]))
                            } else o.touchObject.startX !== o.touchObject.curX && (o.slideHandler(o.currentSlide), o.touchObject = {})
                        }, t.prototype.swipeHandler = function(e) {
                            var t = this;
                            if (!(!1 === t.options.swipe || "ontouchend" in document && !1 === t.options.swipe || !1 === t.options.draggable && -1 !== e.type.indexOf("mouse"))) switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold), e.data.action) {
                                case "start":
                                    t.swipeStart(e);
                                    break;
                                case "move":
                                    t.swipeMove(e);
                                    break;
                                case "end":
                                    t.swipeEnd(e)
                            }
                        }, t.prototype.swipeMove = function(e) {
                            var t, i, o, n, a, s, r = this;
                            return a = void 0 !== e.originalEvent ? e.originalEvent.touches : null, !(!r.dragging || r.scrolling || a && 1 !== a.length) && (t = r.getLeft(r.currentSlide), r.touchObject.curX = void 0 !== a ? a[0].pageX : e.clientX, r.touchObject.curY = void 0 !== a ? a[0].pageY : e.clientY, r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curX - r.touchObject.startX, 2))), s = Math.round(Math.sqrt(Math.pow(r.touchObject.curY - r.touchObject.startY, 2))), !r.options.verticalSwiping && !r.swiping && s > 4 ? (r.scrolling = !0, !1) : (!0 === r.options.verticalSwiping && (r.touchObject.swipeLength = s), i = r.swipeDirection(), void 0 !== e.originalEvent && r.touchObject.swipeLength > 4 && (r.swiping = !0, e.preventDefault()), n = (!1 === r.options.rtl ? 1 : -1) * (r.touchObject.curX > r.touchObject.startX ? 1 : -1), !0 === r.options.verticalSwiping && (n = r.touchObject.curY > r.touchObject.startY ? 1 : -1), o = r.touchObject.swipeLength, r.touchObject.edgeHit = !1, !1 === r.options.infinite && (0 === r.currentSlide && "right" === i || r.currentSlide >= r.getDotCount() && "left" === i) && (o = r.touchObject.swipeLength * r.options.edgeFriction, r.touchObject.edgeHit = !0), !1 === r.options.vertical ? r.swipeLeft = t + o * n : r.swipeLeft = t + o * (r.$list.height() / r.listWidth) * n, !0 === r.options.verticalSwiping && (r.swipeLeft = t + o * n), !0 !== r.options.fade && !1 !== r.options.touchMove && (!0 === r.animating ? (r.swipeLeft = null, !1) : void r.setCSS(r.swipeLeft))))
                        }, t.prototype.swipeStart = function(e) {
                            var t, i = this;
                            if (i.interrupted = !0, 1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, !1;
                            void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY, i.dragging = !0
                        }, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
                            var e = this;
                            null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit())
                        }, t.prototype.unload = function() {
                            var t = this;
                            e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove(), t.$nextArrow && t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
                        }, t.prototype.unslick = function(e) {
                            var t = this;
                            t.$slider.trigger("unslick", [t, e]), t.destroy()
                        }, t.prototype.updateArrows = function() {
                            var e = this;
                            Math.floor(e.options.slidesToShow / 2), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode ? (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
                        }, t.prototype.updateDots = function() {
                            var e = this;
                            null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").end(), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active"))
                        }, t.prototype.visibility = function() {
                            var e = this;
                            e.options.autoplay && (document[e.hidden] ? e.interrupted = !0 : e.interrupted = !1)
                        }, e.fn.slick = function() {
                            var e, i, o = this,
                                n = arguments[0],
                                a = Array.prototype.slice.call(arguments, 1),
                                s = o.length;
                            for (e = 0; e < s; e++)
                                if ("object" == typeof n || void 0 === n ? o[e].slick = new t(o[e], n) : i = o[e].slick[n].apply(o[e].slick, a), void 0 !== i) return i;
                            return o
                        }
                    }),
                    function(e, t) {
                        "use strict";

                        function i(i, a) {
                            var s = this;
                            s.$el = e(i), s.el = i, s.$el.bind("destroyed", e.proxy(s.teardown, s)), s.$window = e(t), s.$clonedHeader = null, s.$originalHeader = null, s.isCloneVisible = !1, s.leftOffset = null, s.topOffset = null, s.init = function() {
                                s.options = e.extend({}, n, a), s.$el.each(function() {
                                    var t = e(this);
                                    t.css("padding", 0), s.$originalHeader = e("thead:first", this), s.$clonedHeader = s.$originalHeader.clone(), s.$clonedHeader.addClass("tableFloatingHeader"), s.$clonedHeader.css({
                                        position: "fixed",
                                        top: 0,
                                        "z-index": 1,
                                        display: "none"
                                    }), s.$originalHeader.addClass("tableFloatingHeaderOriginal"), s.$originalHeader.after(s.$clonedHeader), e("th", s.$clonedHeader).on("click." + o, function() {
                                        var t = e("th", s.$clonedHeader).index(this);
                                        e("th", s.$originalHeader).eq(t).click()
                                    }), t.on("sortEnd." + o, s.updateWidth)
                                }), s.updateWidth(), s.toggleHeaders(), s.bind()
                            }, s.destroy = function() {
                                s.$el.unbind("destroyed", s.teardown), s.teardown()
                            }, s.teardown = function() {
                                e.removeData(s.el, "plugin_" + o), s.unbind(), s.$clonedHeader.remove(), s.$originalHeader.removeClass("tableFloatingHeaderOriginal"), s.$originalHeader.css("visibility", "visible"), s.el = null, s.$el = null
                            }, s.bind = function() {
                                s.$window.on("scroll." + o, s.toggleHeaders), s.$window.on("resize." + o, s.toggleHeaders), s.$window.on("resize." + o, s.updateWidth)
                            }, s.unbind = function() {
                                s.$window.off("." + o, s.toggleHeaders), s.$window.off("." + o, s.updateWidth), s.$el.off("." + o), s.$el.find("*").off("." + o)
                            }, s.toggleHeaders = function() {
                                s.$el.each(function() {
                                    var t = e(this),
                                        i = isNaN(s.options.fixedOffset) ? s.options.fixedOffset.height() : s.options.fixedOffset,
                                        o = t.offset(),
                                        n = s.$window.scrollTop() + i,
                                        a = s.$window.scrollLeft();
                                    if (n > o.top && o.top + t.height() > n) {
                                        var r = o.left - a;
                                        if (s.isCloneVisible && r === s.leftOffset && i === s.topOffset) return;
                                        s.$clonedHeader.css({
                                            top: i,
                                            "margin-top": 0,
                                            left: r,
                                            display: "block"
                                        }), s.$originalHeader.css("visibility", "hidden"), s.isCloneVisible = !0, s.leftOffset = r, s.topOffset = i
                                    } else s.isCloneVisible && (s.$clonedHeader.css("display", "none"), s.$originalHeader.css("visibility", "visible"), s.isCloneVisible = !1)
                                })
                            }, s.updateWidth = function() {
                                e("th", s.$clonedHeader).each(function(t) {
                                    var i = e(this),
                                        o = e("th", s.$originalHeader).eq(t);
                                    this.className = o.attr("class") || "", i.css("width", o.width())
                                }), s.$clonedHeader.css("width", s.$originalHeader.width())
                            }, s.init()
                        }
                        var o = "stickyTableHeaders",
                            n = {
                                fixedOffset: 0
                            };
                        e.fn[o] = function(t) {
                            return this.each(function() {
                                var n = e.data(this, "plugin_" + o);
                                n ? "string" == typeof t && n[t].apply(n) : "destroy" !== t && e.data(this, "plugin_" + o, new i(this, t))
                            })
                        }
                    }(jQuery, window),
                    function(e) {
                        e.fn.unveil = function(t, i) {
                            function o() {
                                var t = r.filter(function() {
                                    var t = e(this);
                                    if (!t.is(":hidden")) {
                                        var i = a.scrollTop(),
                                            o = i + a.height(),
                                            n = t.offset().top;
                                        return n + t.height() >= i - s && n <= o + s
                                    }
                                });
                                n = t.trigger("unveil"), r = r.not(n)
                            }
                            var n, a = e(window),
                                s = t || 0,
                                r = this;
                            return this.one("unveil", function() {
                                var e = this.getAttribute("data-src");
                                (e = e || this.getAttribute("data-src")) && (this.setAttribute("src", e), "function" == typeof i && i.call(this))
                            }), a.on("scroll.unveil resize.unveil lookup.unveil", o), o(), this
                        }
                    }(window.jQuery),
                    function(e) {
                        e.fn.visible = function(t) {
                            var i = e(this),
                                o = e(window),
                                n = o.scrollTop(),
                                a = n + o.height(),
                                s = i.offset().top,
                                r = s + i.height(),
                                l = !0 === t ? r : s;
                            return (!0 === t ? s : r) <= a && l >= n
                        }
                    }(jQuery),
                    function(e) {
                        function t(e, t, i) {
                            return e + t < i && (e = i - t), e > 0 && (e = 0), e
                        }
                        e.jWindowCrop = function(i, o) {
                            function n() {
                                if (0 == f.originalWidth && (f.originalWidth = f.$image.width(), f.originalHeight = f.$image.height()), f.originalWidth > 0) {
                                    var e = f.options.targetWidth / f.originalWidth,
                                        t = f.options.targetHeight / f.originalHeight;
                                    f.minPercent = e >= t ? f.originalWidth < f.options.targetWidth ? f.options.targetWidth / f.originalWidth : e : f.originalHeight < f.options.targetHeight ? f.options.targetHeight / f.originalHeight : t, f.focalPoint = {
                                        x: Math.round(f.originalWidth / 2),
                                        y: Math.round(f.originalHeight / 2)
                                    }, f.setZoom(f.minPercent), f.$image.fadeIn("fast")
                                }
                            }

                            function a() {
                                var e = (-1 * parseInt(f.$image.css("left")) + f.options.targetWidth / 2) / f.workingPercent,
                                    t = (-1 * parseInt(f.$image.css("top")) + f.options.targetHeight / 2) / f.workingPercent;
                                f.focalPoint = {
                                    x: Math.round(e),
                                    y: Math.round(t)
                                }
                            }

                            function s() {
                                var e = t(-1 * Math.round(f.focalPoint.x * f.workingPercent - f.options.targetWidth / 2), f.$image.width(), f.options.targetWidth),
                                    i = t(-1 * Math.round(f.focalPoint.y * f.workingPercent - f.options.targetHeight / 2), f.$image.height(), f.options.targetHeight);
                                f.$image.css({
                                    left: e.toString() + "px",
                                    top: i.toString() + "px"
                                }), a()
                            }

                            function r() {
                                f.result = {
                                    cropX: Math.floor(parseInt(f.$image.css("left")) / f.workingPercent * -1),
                                    cropY: Math.floor(parseInt(f.$image.css("top")) / f.workingPercent * -1),
                                    cropW: Math.round(f.options.targetWidth / f.workingPercent),
                                    cropH: Math.round(f.options.targetHeight / f.workingPercent),
                                    mustStretch: f.minPercent > 1
                                }, f.options.onChange.call(f.image, f.result)
                            }

                            function l() {
                                n()
                            }

                            function d(e) {
                                e.preventDefault(), f.isDragging = !0, f.dragMouseCoords = {
                                    x: e.pageX || e.originalEvent.touches[0].pageX,
                                    y: e.pageY || e.originalEvent.touches[0].pageY
                                }, f.dragImageCoords = {
                                    x: parseInt(f.$image.css("left")),
                                    y: parseInt(f.$image.css("top"))
                                }
                            }

                            function c() {
                                f.isDragging = !1
                            }

                            function p(e) {
                                if (f.isDragging) {
                                    var i = (e.pageX || e.originalEvent.touches[0].pageX) - f.dragMouseCoords.x,
                                        o = (e.pageY || e.originalEvent.touches[0].pageY) - f.dragMouseCoords.y,
                                        n = t(f.dragImageCoords.x + i, f.$image.width(), f.options.targetWidth),
                                        s = t(f.dragImageCoords.y + o, f.$image.height(), f.options.targetHeight);
                                    f.$image.css({
                                        left: n.toString() + "px",
                                        top: s.toString() + "px"
                                    }), a(), r()
                                }
                            }

                            function h() {
                                f.options.smartControls && f.$frame.find(".jwc_controls").fadeIn("fast")
                            }

                            function u() {
                                f.options.smartControls && f.$frame.find(".jwc_controls").fadeOut("fast")
                            }
                            var f = this;
                            f.$image = e(i), f.image = i, f.$image.data("jWindowCrop", f), f.namespace = "jWindowCrop", f.originalWidth = 0, f.isDragging = !1, f.init = function() {
                                f.$image.css({
                                    display: "none"
                                }), f.options = e.extend({}, e.jWindowCrop.defaultOptions, o), f.options.zoomSteps < 2 && (f.options.zoomSteps = 2), f.$image.addClass("jwc_image").wrap('<div class="jwc_frame" />'), f.$frame = f.$image.parent(), f.$frame.append('<div class="jwc_loader">' + f.options.loadingText + "</div>"), f.$frame.append('<div class="jwc_controls" style="display:' + (f.options.showControlsOnStart ? "block" : "none") + ';"><span>click to drag</span><a href="#" class="jwc_zoom_in"></a><a href="#" class="jwc_zoom_out"></a></div>'), f.$frame.css({
                                    overflow: "hidden",
                                    position: "relative",
                                    width: f.options.targetWidth,
                                    height: f.options.targetHeight
                                }), f.$image.css({
                                    position: "absolute",
                                    top: "0px",
                                    left: "0px"
                                }), n(), f.$frame.find(".jwc_zoom_in").on("click." + f.namespace, f.zoomIn), f.$frame.find(".jwc_zoom_out").on("click." + f.namespace, f.zoomOut), f.$frame.on("mouseenter." + f.namespace, h), f.$frame.on("mouseleave." + f.namespace, u), f.$image.on("load." + f.namespace, l), f.$image.on("mousedown." + f.namespace + " touchstart." + f.namespace, d), e(document).on("mousemove." + f.namespace + " touchmove." + f.namespace, p), e(document).on("mouseup." + f.namespace + " touchend." + f.namespace, c)
                            }, f.destroy = function() {
                                f.$image.removeData("jWindowCrop"), e(document).unbind(), f.$image.unbind(), f.$frame.unbind(), f.$frame.find(".jwc_zoom_out").unbind(), f.$frame.find(".jwc_zoom_in").unbind(), e(".jwc_loader").remove(), e(".jwc_controls").remove(), f.$image.removeAttr("style"), f.$image.unwrap()
                            }, f.setZoom = function(e) {
                                f.minPercent >= 1 ? e = f.minPercent : e > 1 ? e = 1 : e < f.minPercent && (e = f.minPercent), f.$image.width(Math.ceil(f.originalWidth * e)), f.workingPercent = e, s(), r()
                            }, f.zoomIn = function() {
                                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                                return f.setZoom(f.workingPercent + e), !1
                            }, f.zoomOut = function() {
                                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                                return f.setZoom(f.workingPercent - e), !1
                            }, f.init()
                        }, e.jWindowCrop.defaultOptions = {
                            targetWidth: 320,
                            targetHeight: 180,
                            zoomSteps: 10,
                            loadingText: "",
                            smartControls: !0,
                            showControlsOnStart: !0,
                            onChange: function() {}
                        }, e.fn.jWindowCrop = function(t) {
                            return this.each(function() {
                                new e.jWindowCrop(this, t)
                            })
                        }, e.fn.getjWindowCrop = function() {
                            return this.data("jWindowCrop")
                        }
                    }(jQuery), jQuery.fn.rating = function(e) {
                        var t = {
                            increment: .5,
                            maxvalue: 5,
                            curvalue: 0
                        };
                        e && jQuery.extend(t, e), jQuery.extend(t, {
                            cancel: t.maxvalue > 1
                        });
                        var i = jQuery(this);
                        jQuery.extend(i, {
                            averageRating: t.curvalue
                        }), t.increment = t.increment < .75 ? .5 : 1;
                        for (var o = 0, n = 0; n <= t.maxvalue; n++) {
                            if (0 == n) {
                                if (1 == t.cancel) {
                                    i.append('<div class="cancel"><a href="#0" title="Cancel Rating">Cancel Rating</a></div>')
                                }
                            } else {
                                var a = $('<div class="star"></div>').append('<a href="#' + n + '" title="Give it ' + n + "/" + t.maxvalue + '">' + n + "</a>").appendTo(i);.5 == t.increment && (o % 2 ? a.addClass("star-left") : a.addClass("star-right"))
                            }
                            n = n - 1 + t.increment, o++
                        }
                        var s = jQuery(i).children(".star"),
                            r = jQuery(i).children(".cancel");
                        s.mouseover(function() {
                            l.drain(), l.fill(this)
                        }).mouseout(function() {
                            l.drain(), l.reset()
                        }).focus(function() {
                            l.drain(), l.fill(this)
                        }).blur(function() {
                            l.drain(), l.reset()
                        }).click(function(e, i) {
                            return t.curvalue = jQuery(this).children("a")[0].href.split("#")[1], $(this).toggleClass("on"), l.drain(), l.reset(), i || set_rating(t.curvalue, this), !1
                        }), r && r.mouseover(function() {
                            l.drain(), jQuery(this).addClass("on")
                        }).mouseout(function() {
                            l.reset(), jQuery(this).removeClass("on")
                        }).focus(function() {
                            l.drain(), jQuery(this).addClass("on")
                        }).blur(function() {
                            l.reset(), jQuery(this).removeClass("on")
                        }).click(function(e, i) {
                            return t.curvalue = 0, l.drain(), l.reset(), i || set_rating(jQuery(this).children("a")[0].href.split("#")[1], this), !1
                        });
                        var l = {
                            fill: function(e) {
                                var t = s.index(e) + 1;
                                s.children("a").css("width", "100%").end().slice(0, t).addClass("hover").end()
                            },
                            drain: function() {
                                s.filter(".on").removeClass("on").end().filter(".hover").removeClass("hover").end()
                            },
                            reset: function() {
                                s.slice(0, t.curvalue / t.increment).addClass("on").end()
                            }
                        };
                        return l.reset(), this
                    },
                    $(function() {
                        initRating(".desktop")
                    }), $(document).ready(function() {
                        AdvancedFilter.init()
                    }), AdvancedFilter = function(e) {
                        function t() {
                            function t(e, t) {
                                n.removePill(n.findPill(e.attr("id"), t))
                            }

                            function o(e, t, i, o) {
                                e.removeClass(i).addClass(o), n.createPillFromButton(e, ("incTag" == t ? "+ " : "- ") + e.find("a").text(), t)
                            }
                            var n = new PillPharmacy,
                                a = e("#advancedFilter"),
                                s = e(".filterTags");
                            a.length && (e("#advanced_filter_tags").click(function() {
                                return e("#advanced_more_tags").toggle(), e(this).toggleClass("moreSmall lessSmall").html((e(this).hasClass("moreSmall") ? "more" : "less") + " tags"), !1
                            }), s.find(".filter a").click(function(i) {
                                i.preventDefault();
                                var n = e(this).parent();
                                n.hasClass("n") ? o(n, "incTag", "n", "include") : n.hasClass("include") ? o(n, "excTag", "include", "exclude") : (t(n, "incTag"), n.removeClass("exclude").addClass("n"))
                            }), s.find(".fa-minus").click(function() {
                                var i = e(this).parent();
                                i.hasClass("exclude") ? (i.removeClass("exclude include").addClass("n"), t(i, "excTag")) : o(i, "excTag", "n include", "exclude")
                            }), s.find(".fa-plus").click(function() {
                                var i = e(this).parent();
                                i.hasClass("include") ? (i.removeClass("exclude include").addClass("n"), t(i, "incTag")) : o(i, "incTag", "n exclude", "include")
                            }), a.find(".af-filters .fa-plus").add(".af-filters .filter a").click(function() {
                                var i = e(this).parent();
                                i.hasClass("include") ? (i.removeClass("include"), t(i, "include_types")) : (i.addClass("include"), n.createPillFromButton(i, i.find("a").text(), "include_types"))
                            }), a.find("select").on("change", function() {
                                var i = e(this),
                                    o = i.find(":selected");
                                o.val() ? (n.createPillFromButton(i, o.text(), i.attr("id")), "formSeason" == i.attr("id") && (n.removePill(n.findPill("year")), n.removePill(n.findPill("to_year")), n.removePill(n.findPill("single-year")))) : t(i)
                            }), a.find("input").on("blur keyup result", function() {
                                var t = e(this);
                                t.text().toLowerCase() != t.attr("placeholder") && ("year" == t.attr("id") || "to_year" == t.attr("id") ? n.combinePills(t, "year", "year") : "episodes" == t.attr("id") || "to_episodes" == t.attr("id") ? n.combinePills(t, "episodes", "episode") : "staff-input" != t.attr("id") && n.createPill(t))
                            }), a.find("#add-staff").click(function() {
                                e(this).hide(), e("#staff-input").show()
                            }), a.find("#staff-input").on("keydown", function(e) {
                                13 == e.which && this.value && e.preventDefault()
                            }).apcomplete("people", !1).on("autocompleteselect", function(t, i) {
                                e(this).hide(), e("#add-staff").show(), n.createPillFromButton(e("<input>"), "Staff: " + i.item.value, "include_staff"), i.item.value = ""
                            }), a.on("keyup", "#staff-input", function(t) {
                                13 == t.which && (this.value && t.preventDefault(), e(this).hide(), e("#add-staff").show(), n.createPillFromButton(e("<input>"), "Staff: " + this.value, "include_staff"), this.value = "")
                            }), e("#formPublisher").apcomplete("publishers"), e("#formMagazine").apcomplete("magazines"), e("#formStudio").apcomplete("studios"), e("#formArtist").apcomplete("people"), e("#formAuthor").apcomplete("people"), e(".pillFilters").on("click", "a", function(t) {
                                t.preventDefault(), n.removePill(e(this)), e(document).trigger("RemovedPill", [e(this).attr("href")])
                            }), e(".pillReset").click(function(t) {
                                t.preventDefault(), n.removeAllPills(), 0 == e(".pillFilters").find(".pillLabel span:visible").length && (location.href = location.href.split("?")[0])
                            }), e("#qaForm").submit(function(e) {
                                e.preventDefault();
                                var t = window.location.href.split("#")[0];
                                location.href = t.split("?")[0] + i()
                            }))
                        }

                        function i() {
                            var t = e.query.GET("sort"),
                                i = e.query.GET("order"),
                                a = e.query.GET("compare"),
                                s = e.query.GET("has_video"),
                                r = e.query.copy().EMPTY(),
                                l = new PillPharmacy,
                                d = l.findPill("letter");
                            return r.SET("sort", t), r.SET("order", i), r.SET("compare", a), r.SET("has_video", s), e("#advancedFilter :input[name]").each(function() {
                                var t = e(this),
                                    i = t.val(),
                                    o = t.attr("name"),
                                    n = {
                                        rating_greater: 0,
                                        rating_less: 5,
                                        include_types: "none",
                                        include_tags: "none",
                                        exclude_tags: "none",
                                        include_status: "none"
                                    };
                                i == t.attr("placeholder") && (i = ""), i.length && o.length && n[o] != i && r.SET(o, i)
                            }), e(".filterShowOnly li.include").map(function() {
                                r.SET(e(this).attr("id"), 1)
                            }), o(r, "include_types", ".filterType li.include", "id"), o(r, "include_tags", ".filterTags .filter.include"), o(r, "exclude_tags", ".filterTags .filter.exclude"), o(r, "include_status", ".filterStatus .filter.include"), n(r, "include_staff", ".pillFilters .include_staff"), 0 != d.length && r.SET("l", d.data("field")), r.toString()
                        }

                        function o(t, i, o, n) {
                            n || (n = "value");
                            var a = e(o).map(function() {
                                return e(this).attr(n)
                            }).get();
                            a.length && t.SET(i, a.join(","))
                        }

                        function n(t, i, o) {
                            var n = e(o).map(function() {
                                var e = this.innerText.indexOf(":");
                                return this.innerText.substring(e + 2)
                            }).get();
                            n.length && t.SET(i, n.join(","))
                        }
                        return {
                            init: t,
                            buildQueryString: i
                        }
                    }(jQuery),
                    function(e) {
                        function t(t) {
                            for (var i = e(".slick"), o = 0; o < i.length; o++) {
                                var n = 0,
                                    a = e(i[o]),
                                    s = a.data("zero-eps") || 0,
                                    r = a.children().length;
                                a.data("watched") && (n = a.data("offset") < a.data("watched") + s ? Math.max(0, a.data("watched") + s - a.data("offset") - 1) : Math.max(0, a.data("offset") - a.data("watched") + s), (r <= t || r <= n) && (n = Math.max(0, r - t))), a.slick({
                                    infinite: !1,
                                    slidesToShow: t,
                                    slidesToScroll: t,
                                    initialSlide: n,
                                    prevArrow: '<div class="slick-left"><i class="fa fa-chevron-left"></i></div>',
                                    nextArrow: '<div class="slick-right"><i class="fa fa-chevron-right"></i></div>'
                                })
                            }
                            e(".slick").on("beforeChange", function(t, i, o, n) {
                                i.$slider.data("loaded") || i.$slider.data("loaded", i.slideCount);
                                var a = [],
                                    r = parseInt(i.$slider.data("watched"));
                                if (a.push("anime_id=" + i.$slider.data("anime-id")), a.push("has_embed=" + i.$slider.data("has-embed")), a.push("is_dubbed=" + i.$slider.data("is-dubbed")), a.push("provider_id=" + i.$slider.data("provider-id")), o < n && !i.$slider.data("done")) {
                                    var l = i.$slider.data("offset");
                                    a.push("rows=" + 2 * i.options.slidesToShow), a.push("offset=" + (l + i.$slider.data("loaded"))), i.$slider.data("loaded", i.$slider.data("loaded") + 2 * i.options.slidesToShow), e.getJSON("/api/videos/episodes?" + a.join("&"), function(e) {
                                        e.length < 2 * i.options.slidesToShow && i.$slider.data("done", !0);
                                        for (var t = 0; t < e.length; t++) {
                                            var o = e[t],
                                                n = o.is_premium_only ? " cr-premium" : "",
                                                a = r && l + i.slideCount - s + t + 1 <= r ? " watched" : "";
                                            i.slickAdd('<div><div class="card landscape' + n + a + '" style="width: 100%"><a href="/anime/' + o.anime_url + "/videos/" + o.id + '" title="Episode ' + o.number + ": Enter: " + o.title + '" tabindex="-1"><div class="crop"><img src="/inc/img/card-load.gif" data-src="' + o.thumbnail + '" alt="' + o.title + ' image"></div><h4>Episode ' + o.number + "</h4></a><p>" + o.title + "</p></div></div>"), i.$slider.find("img").unveil(400)
                                        }
                                    })
                                } else if (n < o && i.$slider.data("offset")) {
                                    var l = i.$slider.data("offset"),
                                        d = 2 * i.options.slidesToShow;
                                    d = Math.min(l, d);
                                    var c = l;
                                    l -= d, a.push("rows=" + d), a.push("offset=" + l), i.$slider.data("offset", l), i.$slider.data("loaded", i.$slider.data("loaded") + d), e.getJSON("/api/videos/episodes?" + a.join("&"), function(e) {
                                        for (var t = e.length - 1; t >= 0; t--) {
                                            var o = e[t],
                                                n = e.length - t - 1,
                                                a = o.is_premium_only ? " cr-premium" : "",
                                                l = r && c - n + s <= r ? " watched" : "";
                                            i.currentSlide += 1, i.slickAdd('<div><div class="card landscape' + a + l + '" style="width: 100%"><a href="/anime/' + o.anime_url + "/videos/" + o.id + '" title="Episode ' + o.number + ": Enter: " + o.title + '" tabindex="-1"><div class="crop"><img src="/inc/img/card-load.gif" data-src="' + o.thumbnail + '" alt="' + o.title + ' image"></div><h4>Episode ' + o.number + "</h4></a><p>" + o.title + "</p></div></div>", !0), i.$slider.find("img").unveil(400)
                                        }
                                    })
                                }
                            })
                        }
                        VideoSlider = {
                            init: t
                        }
                    }(jQuery),
                    function() {
                        function e(e, t) {
                            return
                        }
                        Feed = {
                            startPulse: e
                        }
                    }(),
                    function(e, t, i) {
                        "use strict";
                        "function" == typeof window.define && window.define.amd ? window.define(i) : "undefined" != typeof module && module.exports ? module.exports = i() : t.exports ? t.exports = i() : t.f736627876b359b90d2317d699082889b = i()
                    }(0, this, function() {
                        "use strict";
                        var e = function(t) {
                            if (!(this instanceof e)) return new e(t);
                            this.options = this.extend(t, {
                                swfContainerId: "fingerprintjs2",
                                swfPath: "flash/compiled/FontList.swf",
                                detectScreenOrientation: !0,
                                sortPluginsFor: [/palemoon/i],
                                userDefinedFonts: [],
                                excludeDoNotTrack: !0,
                                excludePixelRatio: !0
                            }), this.nativeForEach = Array.prototype.forEach, this.nativeMap = Array.prototype.map
                        };
                        return e.prototype = {
                            extend: function(e, t) {
                                if (null == e) return t;
                                for (var i in e) null != e[i] && t[i] !== e[i] && (t[i] = e[i]);
                                return t
                            },
                            get: function(e) {
                                var t = this,
                                    i = {
                                        data: [],
                                        addPreprocessedComponent: function(e) {
                                            var o = e.value;
                                            "function" == typeof t.options.preprocessor && (o = t.options.preprocessor(e.key, o)), i.data.push({
                                                key: e.key,
                                                value: o
                                            })
                                        }
                                    };
                                i = this.userAgentKey(i), i = this.languageKey(i), i = this.colorDepthKey(i), i = this.deviceMemoryKey(i), i = this.pixelRatioKey(i), i = this.hardwareConcurrencyKey(i), i = this.screenResolutionKey(i), i = this.availableScreenResolutionKey(i), i = this.timezoneOffsetKey(i), i = this.sessionStorageKey(i), i = this.localStorageKey(i), i = this.indexedDbKey(i), i = this.addBehaviorKey(i), i = this.openDatabaseKey(i), i = this.cpuClassKey(i), i = this.platformKey(i), i = this.doNotTrackKey(i), i = this.pluginsKey(i), i = this.canvasKey(i), i = this.webglKey(i), i = this.webglVendorAndRendererKey(i), i = this.adBlockKey(i), i = this.hasLiedLanguagesKey(i), i = this.hasLiedResolutionKey(i), i = this.hasLiedOsKey(i), i = this.hasLiedBrowserKey(i), i = this.touchSupportKey(i), i = this.customEntropyFunction(i), this.fontsKey(i, function(i) {
                                    var o = [];
                                    t.each(i.data, function(e) {
                                        var t = e.value;
                                        t && "function" == typeof t.join && (t = t.join(";")), o.push(t)
                                    });
                                    var n = t.x64hash128(o.join("~~~"), 31);
                                    return e(n, i.data)
                                })
                            },
                            customEntropyFunction: function(e) {
                                return "function" == typeof this.options.customFunction && e.addPreprocessedComponent({
                                    key: "custom",
                                    value: this.options.customFunction()
                                }), e
                            },
                            userAgentKey: function(e) {
                                return this.options.excludeUserAgent || e.addPreprocessedComponent({
                                    key: "user_agent",
                                    value: this.getUserAgent()
                                }), e
                            },
                            getUserAgent: function() {
                                return navigator.userAgent
                            },
                            languageKey: function(e) {
                                return this.options.excludeLanguage || e.addPreprocessedComponent({
                                    key: "language",
                                    value: navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || ""
                                }), e
                            },
                            colorDepthKey: function(e) {
                                return this.options.excludeColorDepth || e.addPreprocessedComponent({
                                    key: "color_depth",
                                    value: window.screen.colorDepth || -1
                                }), e
                            },
                            deviceMemoryKey: function(e) {
                                return this.options.excludeDeviceMemory || e.addPreprocessedComponent({
                                    key: "device_memory",
                                    value: this.getDeviceMemory()
                                }), e
                            },
                            getDeviceMemory: function() {
                                return navigator.deviceMemory || -1
                            },
                            pixelRatioKey: function(e) {
                                return this.options.excludePixelRatio || e.addPreprocessedComponent({
                                    key: "pixel_ratio",
                                    value: this.getPixelRatio()
                                }), e
                            },
                            getPixelRatio: function() {
                                return window.devicePixelRatio || ""
                            },
                            screenResolutionKey: function(e) {
                                return this.options.excludeScreenResolution ? e : this.getScreenResolution(e)
                            },
                            getScreenResolution: function(e) {
                                var t;
                                return t = this.options.detectScreenOrientation && window.screen.height > window.screen.width ? [window.screen.height, window.screen.width] : [window.screen.width, window.screen.height], e.addPreprocessedComponent({
                                    key: "resolution",
                                    value: t
                                }), e
                            },
                            availableScreenResolutionKey: function(e) {
                                return this.options.excludeAvailableScreenResolution ? e : this.getAvailableScreenResolution(e)
                            },
                            getAvailableScreenResolution: function(e) {
                                var t;
                                return window.screen.availWidth && window.screen.availHeight && (t = this.options.detectScreenOrientation ? window.screen.availHeight > window.screen.availWidth ? [window.screen.availHeight, window.screen.availWidth] : [window.screen.availWidth, window.screen.availHeight] : [window.screen.availHeight, window.screen.availWidth]), void 0 !== t && e.addPreprocessedComponent({
                                    key: "available_resolution",
                                    value: t
                                }), e
                            },
                            timezoneOffsetKey: function(e) {
                                return this.options.excludeTimezoneOffset || e.addPreprocessedComponent({
                                    key: "timezone_offset",
                                    value: (new Date).getTimezoneOffset()
                                }), e
                            },
                            sessionStorageKey: function(e) {
                                return !this.options.excludeSessionStorage && this.hasSessionStorage() && e.addPreprocessedComponent({
                                    key: "session_storage",
                                    value: 1
                                }), e
                            },
                            localStorageKey: function(e) {
                                return !this.options.excludeSessionStorage && this.hasLocalStorage() && e.addPreprocessedComponent({
                                    key: "local_storage",
                                    value: 1
                                }), e
                            },
                            indexedDbKey: function(e) {
                                return !this.options.excludeIndexedDB && this.hasIndexedDB() && e.addPreprocessedComponent({
                                    key: "indexed_db",
                                    value: 1
                                }), e
                            },
                            addBehaviorKey: function(e) {
                                return !this.options.excludeAddBehavior && document.body && document.body.addBehavior && e.addPreprocessedComponent({
                                    key: "add_behavior",
                                    value: 1
                                }), e
                            },
                            openDatabaseKey: function(e) {
                                return !this.options.excludeOpenDatabase && window.openDatabase && e.addPreprocessedComponent({
                                    key: "open_database",
                                    value: 1
                                }), e
                            },
                            cpuClassKey: function(e) {
                                return this.options.excludeCpuClass || e.addPreprocessedComponent({
                                    key: "cpu_class",
                                    value: this.getNavigatorCpuClass()
                                }), e
                            },
                            platformKey: function(e) {
                                return this.options.excludePlatform || e.addPreprocessedComponent({
                                    key: "navigator_platform",
                                    value: this.getNavigatorPlatform()
                                }), e
                            },
                            doNotTrackKey: function(e) {
                                return this.options.excludeDoNotTrack || e.addPreprocessedComponent({
                                    key: "do_not_track",
                                    value: this.getDoNotTrack()
                                }), e
                            },
                            canvasKey: function(e) {
                                return !this.options.excludeCanvas && this.isCanvasSupported() && e.addPreprocessedComponent({
                                    key: "canvas",
                                    value: this.getCanvasFp()
                                }), e
                            },
                            webglKey: function(e) {
                                return !this.options.excludeWebGL && this.isWebGlSupported() && e.addPreprocessedComponent({
                                    key: "webgl",
                                    value: this.getWebglFp()
                                }), e
                            },
                            webglVendorAndRendererKey: function(e) {
                                return !this.options.excludeWebGLVendorAndRenderer && this.isWebGlSupported() && e.addPreprocessedComponent({
                                    key: "webgl_vendor",
                                    value: this.getWebglVendorAndRenderer()
                                }), e
                            },
                            adBlockKey: function(e) {
                                return this.options.excludeAdBlock || e.addPreprocessedComponent({
                                    key: "adblock",
                                    value: this.getAdBlock()
                                }), e
                            },
                            hasLiedLanguagesKey: function(e) {
                                return this.options.excludeHasLiedLanguages || e.addPreprocessedComponent({
                                    key: "has_lied_languages",
                                    value: this.getHasLiedLanguages()
                                }), e
                            },
                            hasLiedResolutionKey: function(e) {
                                return this.options.excludeHasLiedResolution || e.addPreprocessedComponent({
                                    key: "has_lied_resolution",
                                    value: this.getHasLiedResolution()
                                }), e
                            },
                            hasLiedOsKey: function(e) {
                                return this.options.excludeHasLiedOs || e.addPreprocessedComponent({
                                    key: "has_lied_os",
                                    value: this.getHasLiedOs()
                                }), e
                            },
                            hasLiedBrowserKey: function(e) {
                                return this.options.excludeHasLiedBrowser || e.addPreprocessedComponent({
                                    key: "has_lied_browser",
                                    value: this.getHasLiedBrowser()
                                }), e
                            },
                            fontsKey: function(e, t) {
                                return this.options.excludeJsFonts ? this.flashFontsKey(e, t) : this.jsFontsKey(e, t)
                            },
                            flashFontsKey: function(e, t) {
                                return this.options.excludeFlashFonts ? t(e) : this.hasSwfObjectLoaded() && this.hasMinFlashInstalled() ? void 0 === this.options.swfPath ? t(e) : void this.loadSwfAndDetectFonts(function(i) {
                                    e.addPreprocessedComponent({
                                        key: "swf_fonts",
                                        value: i.join(";")
                                    }), t(e)
                                }) : t(e)
                            },
                            jsFontsKey: function(e, t) {
                                var i = this;
                                return setTimeout(function() {
                                    var o = ["monospace", "sans-serif", "serif"],
                                        n = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"];
                                    i.options.extendedJsFonts && (n = n.concat(["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"])), n = (n = n.concat(i.options.userDefinedFonts)).filter(function(e, t) {
                                        return n.indexOf(e) === t
                                    });
                                    var a = document.getElementsByTagName("body")[0],
                                        s = document.createElement("div"),
                                        r = document.createElement("div"),
                                        l = {},
                                        d = {},
                                        c = function() {
                                            var e = document.createElement("span");
                                            return e.style.position = "absolute", e.style.left = "-9999px", e.style.fontSize = "72px", e.style.fontStyle = "normal", e.style.fontWeight = "normal", e.style.letterSpacing = "normal", e.style.lineBreak = "auto", e.style.lineHeight = "normal", e.style.textTransform = "none", e.style.textAlign = "left", e.style.textDecoration = "none", e.style.textShadow = "none", e.style.whiteSpace = "normal", e.style.wordBreak = "normal", e.style.wordSpacing = "normal", e.innerHTML = "mmmmmmmmmmlli", e
                                        },
                                        p = function() {
                                            for (var e = [], t = 0, i = o.length; t < i; t++) {
                                                var n = c();
                                                n.style.fontFamily = o[t], s.appendChild(n), e.push(n)
                                            }
                                            return e
                                        }();
                                    a.appendChild(s);
                                    for (var h = 0, u = o.length; h < u; h++) l[o[h]] = p[h].offsetWidth, d[o[h]] = p[h].offsetHeight;
                                    var f = function() {
                                        for (var e, t, i, a = {}, s = 0, l = n.length; s < l; s++) {
                                            for (var d = [], p = 0, h = o.length; p < h; p++) {
                                                var u = (e = n[s], t = o[p], i = void 0, (i = c()).style.fontFamily = "'" + e + "'," + t, i);
                                                r.appendChild(u), d.push(u)
                                            }
                                            a[n[s]] = d
                                        }
                                        return a
                                    }();
                                    a.appendChild(r);
                                    for (var g = [], m = 0, v = n.length; m < v; m++)(function(e) {
                                        for (var t = !1, i = 0; i < o.length; i++)
                                            if (t = e[i].offsetWidth !== l[o[i]] || e[i].offsetHeight !== d[o[i]]) return t;
                                        return t
                                    })(f[n[m]]) && g.push(n[m]);
                                    a.removeChild(r), a.removeChild(s), e.addPreprocessedComponent({
                                        key: "js_fonts",
                                        value: g
                                    }), t(e)
                                }, 1)
                            },
                            pluginsKey: function(e) {
                                return this.options.excludePlugins || (this.isIE() ? this.options.excludeIEPlugins || e.addPreprocessedComponent({
                                    key: "ie_plugins",
                                    value: this.getIEPlugins()
                                }) : e.addPreprocessedComponent({
                                    key: "regular_plugins",
                                    value: this.getRegularPlugins()
                                })), e
                            },
                            getRegularPlugins: function() {
                                var e = [];
                                if (navigator.plugins)
                                    for (var t = 0, i = navigator.plugins.length; t < i; t++) navigator.plugins[t] && e.push(navigator.plugins[t]);
                                return this.pluginsShouldBeSorted() && (e = e.sort(function(e, t) {
                                    return e.name > t.name ? 1 : e.name < t.name ? -1 : 0
                                })), this.map(e, function(e) {
                                    var t = this.map(e, function(e) {
                                        return [e.type, e.suffixes].join("~")
                                    }).join(",");
                                    return [e.name, e.description, t].join("::")
                                }, this)
                            },
                            getIEPlugins: function() {
                                var e = [];
                                return (Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") || "ActiveXObject" in window) && (e = this.map(["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl", "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"], function(e) {
                                    try {
                                        return new window.ActiveXObject(e), e
                                    } catch (e) {
                                        return null
                                    }
                                })), navigator.plugins && (e = e.concat(this.getRegularPlugins())), e
                            },
                            pluginsShouldBeSorted: function() {
                                for (var e = !1, t = 0, i = this.options.sortPluginsFor.length; t < i; t++) {
                                    var o = this.options.sortPluginsFor[t];
                                    if (navigator.userAgent.match(o)) {
                                        e = !0;
                                        break
                                    }
                                }
                                return e
                            },
                            touchSupportKey: function(e) {
                                return this.options.excludeTouchSupport || e.addPreprocessedComponent({
                                    key: "touch_support",
                                    value: this.getTouchSupport()
                                }), e
                            },
                            hardwareConcurrencyKey: function(e) {
                                return this.options.excludeHardwareConcurrency || e.addPreprocessedComponent({
                                    key: "hardware_concurrency",
                                    value: this.getHardwareConcurrency()
                                }), e
                            },
                            hasSessionStorage: function() {
                                try {
                                    return !!window.sessionStorage
                                } catch (e) {
                                    return !0
                                }
                            },
                            hasLocalStorage: function() {
                                try {
                                    return !!window.localStorage
                                } catch (e) {
                                    return !0
                                }
                            },
                            hasIndexedDB: function() {
                                try {
                                    return !!window.indexedDB
                                } catch (e) {
                                    return !0
                                }
                            },
                            getHardwareConcurrency: function() {
                                return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : "unknown"
                            },
                            getNavigatorCpuClass: function() {
                                return navigator.cpuClass ? navigator.cpuClass : "unknown"
                            },
                            getNavigatorPlatform: function() {
                                return navigator.platform ? navigator.platform : "unknown"
                            },
                            getDoNotTrack: function() {
                                return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : "unknown"
                            },
                            getTouchSupport: function() {
                                var e = 0,
                                    t = !1;
                                void 0 !== navigator.maxTouchPoints ? e = navigator.maxTouchPoints : void 0 !== navigator.msMaxTouchPoints && (e = navigator.msMaxTouchPoints);
                                try {
                                    document.createEvent("TouchEvent"), t = !0
                                } catch (e) {}
                                return [e, t, "ontouchstart" in window]
                            },
                            getCanvasFp: function() {
                                var e = [],
                                    t = document.createElement("canvas");
                                t.width = 2e3, t.height = 200, t.style.display = "inline";
                                var i = t.getContext("2d");
                                return i.rect(0, 0, 10, 10), i.rect(2, 2, 6, 6), e.push("canvas winding:" + (!1 === i.isPointInPath(5, 5, "evenodd") ? "yes" : "no")), i.textBaseline = "alphabetic", i.fillStyle = "#f60", i.fillRect(125, 1, 62, 20), i.fillStyle = "#069", this.options.dontUseFakeFontInCanvas ? i.font = "11pt Arial" : i.font = "11pt no-real-font-123", i.fillText("Cwm fjordbank glyphs vext quiz, ", 2, 15), i.fillStyle = "rgba(102, 204, 0, 0.2)", i.font = "18pt Arial", i.fillText("Cwm fjordbank glyphs vext quiz, ", 4, 45), i.globalCompositeOperation = "multiply", i.fillStyle = "rgb(255,0,255)", i.beginPath(), i.arc(50, 50, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(0,255,255)", i.beginPath(), i.arc(100, 50, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(255,255,0)", i.beginPath(), i.arc(75, 100, 50, 0, 2 * Math.PI, !0), i.closePath(), i.fill(), i.fillStyle = "rgb(255,0,255)", i.arc(75, 75, 75, 0, 2 * Math.PI, !0), i.arc(75, 75, 25, 0, 2 * Math.PI, !0), i.fill("evenodd"), t.toDataURL && e.push("canvas fp:" + t.toDataURL()), e.join("~")
                            },
                            getWebglFp: function() {
                                var e, t = function(t) {
                                    return e.clearColor(0, 0, 0, 1), e.enable(e.DEPTH_TEST), e.depthFunc(e.LEQUAL), e.clear(e.COLOR_BUFFER_BIT | e.DEPTH_BUFFER_BIT), "[" + t[0] + ", " + t[1] + "]"
                                };
                                if (!(e = this.getWebglCanvas())) return null;
                                var i = [],
                                    o = e.createBuffer();
                                e.bindBuffer(e.ARRAY_BUFFER, o);
                                var n = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                                e.bufferData(e.ARRAY_BUFFER, n, e.STATIC_DRAW), o.itemSize = 3, o.numItems = 3;
                                var a = e.createProgram(),
                                    s = e.createShader(e.VERTEX_SHADER);
                                e.shaderSource(s, "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"), e.compileShader(s);
                                var r = e.createShader(e.FRAGMENT_SHADER);
                                e.shaderSource(r, "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"), e.compileShader(r), e.attachShader(a, s), e.attachShader(a, r), e.linkProgram(a), e.useProgram(a), a.vertexPosAttrib = e.getAttribLocation(a, "attrVertex"), a.offsetUniform = e.getUniformLocation(a, "uniformOffset"), e.enableVertexAttribArray(a.vertexPosArray), e.vertexAttribPointer(a.vertexPosAttrib, o.itemSize, e.FLOAT, !1, 0, 0), e.uniform2f(a.offsetUniform, 1, 1), e.drawArrays(e.TRIANGLE_STRIP, 0, o.numItems);
                                try {
                                    i.push(e.canvas.toDataURL())
                                } catch (e) {}
                                i.push("extensions:" + (e.getSupportedExtensions() || []).join(";")), i.push("webgl aliased line width range:" + t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))), i.push("webgl aliased point size range:" + t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))), i.push("webgl alpha bits:" + e.getParameter(e.ALPHA_BITS)), i.push("webgl antialiasing:" + (e.getContextAttributes().antialias ? "yes" : "no")), i.push("webgl blue bits:" + e.getParameter(e.BLUE_BITS)), i.push("webgl depth bits:" + e.getParameter(e.DEPTH_BITS)), i.push("webgl green bits:" + e.getParameter(e.GREEN_BITS)), i.push("webgl max anisotropy:" + function(e) {
                                    var t = e.getExtension("EXT_texture_filter_anisotropic") || e.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || e.getExtension("MOZ_EXT_texture_filter_anisotropic");
                                    if (t) {
                                        var i = e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                                        return 0 === i && (i = 2), i
                                    }
                                    return null
                                }(e)), i.push("webgl max combined texture image units:" + e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)), i.push("webgl max cube map texture size:" + e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)), i.push("webgl max fragment uniform vectors:" + e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)), i.push("webgl max render buffer size:" + e.getParameter(e.MAX_RENDERBUFFER_SIZE)), i.push("webgl max texture image units:" + e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)), i.push("webgl max texture size:" + e.getParameter(e.MAX_TEXTURE_SIZE)), i.push("webgl max varying vectors:" + e.getParameter(e.MAX_VARYING_VECTORS)), i.push("webgl max vertex attribs:" + e.getParameter(e.MAX_VERTEX_ATTRIBS)), i.push("webgl max vertex texture image units:" + e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)), i.push("webgl max vertex uniform vectors:" + e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)), i.push("webgl max viewport dims:" + t(e.getParameter(e.MAX_VIEWPORT_DIMS))), i.push("webgl red bits:" + e.getParameter(e.RED_BITS)), i.push("webgl renderer:" + e.getParameter(e.RENDERER)), i.push("webgl shading language version:" + e.getParameter(e.SHADING_LANGUAGE_VERSION)), i.push("webgl stencil bits:" + e.getParameter(e.STENCIL_BITS)), i.push("webgl vendor:" + e.getParameter(e.VENDOR)), i.push("webgl version:" + e.getParameter(e.VERSION));
                                try {
                                    var l = e.getExtension("WEBGL_debug_renderer_info");
                                    l && (i.push("webgl unmasked vendor:" + e.getParameter(l.UNMASKED_VENDOR_WEBGL)), i.push("webgl unmasked renderer:" + e.getParameter(l.UNMASKED_RENDERER_WEBGL)))
                                } catch (e) {}
                                return e.getShaderPrecisionFormat ? (i.push("webgl vertex shader high float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).precision), i.push("webgl vertex shader high float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).rangeMin), i.push("webgl vertex shader high float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_FLOAT).rangeMax), i.push("webgl vertex shader medium float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).precision), i.push("webgl vertex shader medium float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).rangeMin), i.push("webgl vertex shader medium float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_FLOAT).rangeMax), i.push("webgl vertex shader low float precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).precision), i.push("webgl vertex shader low float precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).rangeMin), i.push("webgl vertex shader low float precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_FLOAT).rangeMax), i.push("webgl fragment shader high float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).precision), i.push("webgl fragment shader high float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).rangeMin), i.push("webgl fragment shader high float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_FLOAT).rangeMax), i.push("webgl fragment shader medium float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).precision), i.push("webgl fragment shader medium float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).rangeMin), i.push("webgl fragment shader medium float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_FLOAT).rangeMax), i.push("webgl fragment shader low float precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).precision), i.push("webgl fragment shader low float precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).rangeMin), i.push("webgl fragment shader low float precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_FLOAT).rangeMax), i.push("webgl vertex shader high int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).precision), i.push("webgl vertex shader high int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).rangeMin), i.push("webgl vertex shader high int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.HIGH_INT).rangeMax), i.push("webgl vertex shader medium int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).precision), i.push("webgl vertex shader medium int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).rangeMin), i.push("webgl vertex shader medium int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.MEDIUM_INT).rangeMax), i.push("webgl vertex shader low int precision:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).precision), i.push("webgl vertex shader low int precision rangeMin:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).rangeMin), i.push("webgl vertex shader low int precision rangeMax:" + e.getShaderPrecisionFormat(e.VERTEX_SHADER, e.LOW_INT).rangeMax), i.push("webgl fragment shader high int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).precision), i.push("webgl fragment shader high int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).rangeMin), i.push("webgl fragment shader high int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.HIGH_INT).rangeMax), i.push("webgl fragment shader medium int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).precision), i.push("webgl fragment shader medium int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).rangeMin), i.push("webgl fragment shader medium int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.MEDIUM_INT).rangeMax), i.push("webgl fragment shader low int precision:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).precision), i.push("webgl fragment shader low int precision rangeMin:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).rangeMin), i.push("webgl fragment shader low int precision rangeMax:" + e.getShaderPrecisionFormat(e.FRAGMENT_SHADER, e.LOW_INT).rangeMax), i.join("~")) : i.join("~")
                            },
                            getWebglVendorAndRenderer: function() {
                                try {
                                    var e = this.getWebglCanvas(),
                                        t = e.getExtension("WEBGL_debug_renderer_info");
                                    return e.getParameter(t.UNMASKED_VENDOR_WEBGL) + "~" + e.getParameter(t.UNMASKED_RENDERER_WEBGL)
                                } catch (e) {
                                    return null
                                }
                            },
                            getAdBlock: function() {
                                var e = document.createElement("div");
                                e.innerHTML = "&nbsp;", e.className = "adsbox";
                                var t = !1;
                                try {
                                    document.body.appendChild(e), t = 0 === document.getElementsByClassName("adsbox")[0].offsetHeight, document.body.removeChild(e)
                                } catch (e) {
                                    t = !1
                                }
                                return t
                            },
                            getHasLiedLanguages: function() {
                                if (void 0 !== navigator.languages) try {
                                    if (navigator.languages[0].substr(0, 2) !== navigator.language.substr(0, 2)) return !0
                                } catch (e) {
                                    return !0
                                }
                                return !1
                            },
                            getHasLiedResolution: function() {
                                return window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight
                            },
                            getHasLiedOs: function() {
                                var e, t = navigator.userAgent.toLowerCase(),
                                    i = navigator.oscpu,
                                    o = navigator.platform.toLowerCase();
                                if (e = t.indexOf("windows phone") >= 0 ? "Windows Phone" : t.indexOf("win") >= 0 ? "Windows" : t.indexOf("android") >= 0 ? "Android" : t.indexOf("linux") >= 0 ? "Linux" : t.indexOf("iphone") >= 0 || t.indexOf("ipad") >= 0 ? "iOS" : t.indexOf("mac") >= 0 ? "Mac" : "Other", ("ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) && "Windows Phone" !== e && "Android" !== e && "iOS" !== e && "Other" !== e) return !0;
                                if (void 0 !== i) {
                                    if ((i = i.toLowerCase()).indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e) return !0;
                                    if (i.indexOf("linux") >= 0 && "Linux" !== e && "Android" !== e) return !0;
                                    if (i.indexOf("mac") >= 0 && "Mac" !== e && "iOS" !== e) return !0;
                                    if ((-1 === i.indexOf("win") && -1 === i.indexOf("linux") && -1 === i.indexOf("mac")) != ("Other" === e)) return !0
                                }
                                return o.indexOf("win") >= 0 && "Windows" !== e && "Windows Phone" !== e || (o.indexOf("linux") >= 0 || o.indexOf("android") >= 0 || o.indexOf("pike") >= 0) && "Linux" !== e && "Android" !== e || (o.indexOf("mac") >= 0 || o.indexOf("ipad") >= 0 || o.indexOf("ipod") >= 0 || o.indexOf("iphone") >= 0) && "Mac" !== e && "iOS" !== e || (-1 === o.indexOf("win") && -1 === o.indexOf("linux") && -1 === o.indexOf("mac")) != ("Other" === e) || void 0 === navigator.plugins && "Windows" !== e && "Windows Phone" !== e
                            },
                            getHasLiedBrowser: function() {
                                var e, t = navigator.userAgent.toLowerCase(),
                                    i = navigator.productSub;
                                if (("Chrome" == (e = t.indexOf("firefox") >= 0 ? "Firefox" : t.indexOf("opera") >= 0 || t.indexOf("opr") >= 0 ? "Opera" : t.indexOf("chrome") >= 0 ? "Chrome" : t.indexOf("safari") >= 0 ? "Safari" : t.indexOf("trident") >= 0 ? "Internet Explorer" : "Other") || "Safari" === e || "Opera" === e) && "20030107" !== i) return !0;
                                var o, n = eval.toString().length;
                                if (37 === n && "Safari" !== e && "Firefox" !== e && "Other" !== e) return !0;
                                if (39 === n && "Internet Explorer" !== e && "Other" !== e) return !0;
                                if (33 === n && "Chrome" !== e && "Opera" !== e && "Other" !== e) return !0;
                                try {
                                    throw "a"
                                } catch (e) {
                                    try {
                                        e.toSource(), o = !0
                                    } catch (e) {
                                        o = !1
                                    }
                                }
                                return !(!o || "Firefox" === e || "Other" === e)
                            },
                            isCanvasSupported: function() {
                                var e = document.createElement("canvas");
                                return !(!e.getContext || !e.getContext("2d"))
                            },
                            isWebGlSupported: function() {
                                if (!this.isCanvasSupported()) return !1;
                                var e = this.getWebglCanvas();
                                return !!window.WebGLRenderingContext && !!e
                            },
                            isIE: function() {
                                return "Microsoft Internet Explorer" === navigator.appName || !("Netscape" !== navigator.appName || !/Trident/.test(navigator.userAgent))
                            },
                            hasSwfObjectLoaded: function() {
                                return void 0 !== window.swfobject
                            },
                            hasMinFlashInstalled: function() {
                                return window.swfobject.hasFlashPlayerVersion("9.0.0")
                            },
                            addFlashDivNode: function() {
                                var e = document.createElement("div");
                                e.setAttribute("id", this.options.swfContainerId), document.body.appendChild(e)
                            },
                            loadSwfAndDetectFonts: function(e) {
                                var t = "___fp_swf_loaded";
                                window[t] = function(t) {
                                    e(t)
                                };
                                var i = this.options.swfContainerId;
                                this.addFlashDivNode();
                                var o = {
                                    onReady: t
                                };
                                window.swfobject.embedSWF(this.options.swfPath, i, "1", "1", "9.0.0", !1, o, {
                                    allowScriptAccess: "always",
                                    menu: "false"
                                }, {})
                            },
                            getWebglCanvas: function() {
                                var e = document.createElement("canvas"),
                                    t = null;
                                try {
                                    t = e.getContext("webgl") || e.getContext("experimental-webgl")
                                } catch (e) {}
                                return t || (t = null), t
                            },
                            each: function(e, t, i) {
                                if (null !== e)
                                    if (this.nativeForEach && e.forEach === this.nativeForEach) e.forEach(t, i);
                                    else if (e.length === +e.length) {
                                    for (var o = 0, n = e.length; o < n; o++)
                                        if (t.call(i, e[o], o, e) === {}) return
                                } else
                                    for (var a in e)
                                        if (e.hasOwnProperty(a) && t.call(i, e[a], a, e) === {}) return
                            },
                            map: function(e, t, i) {
                                var o = [];
                                return null == e ? o : this.nativeMap && e.map === this.nativeMap ? e.map(t, i) : (this.each(e, function(e, n, a) {
                                    o[o.length] = t.call(i, e, n, a)
                                }), o)
                            },
                            x64Add: function(e, t) {
                                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                                var i = [0, 0, 0, 0];
                                return i[3] += e[3] + t[3], i[2] += i[3] >>> 16, i[3] &= 65535, i[2] += e[2] + t[2], i[1] += i[2] >>> 16, i[2] &= 65535, i[1] += e[1] + t[1], i[0] += i[1] >>> 16, i[1] &= 65535, i[0] += e[0] + t[0], i[0] &= 65535, [i[0] << 16 | i[1], i[2] << 16 | i[3]]
                            },
                            x64Multiply: function(e, t) {
                                e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]], t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]];
                                var i = [0, 0, 0, 0];
                                return i[3] += e[3] * t[3], i[2] += i[3] >>> 16, i[3] &= 65535, i[2] += e[2] * t[3], i[1] += i[2] >>> 16, i[2] &= 65535, i[2] += e[3] * t[2], i[1] += i[2] >>> 16, i[2] &= 65535, i[1] += e[1] * t[3], i[0] += i[1] >>> 16, i[1] &= 65535, i[1] += e[2] * t[2], i[0] += i[1] >>> 16, i[1] &= 65535, i[1] += e[3] * t[1], i[0] += i[1] >>> 16, i[1] &= 65535, i[0] += e[0] * t[3] + e[1] * t[2] + e[2] * t[1] + e[3] * t[0], i[0] &= 65535, [i[0] << 16 | i[1], i[2] << 16 | i[3]]
                            },
                            x64Rotl: function(e, t) {
                                return 32 == (t %= 64) ? [e[1], e[0]] : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t | e[0] >>> 32 - t] : (t -= 32, [e[1] << t | e[0] >>> 32 - t, e[0] << t | e[1] >>> 32 - t])
                            },
                            x64LeftShift: function(e, t) {
                                return 0 == (t %= 64) ? e : t < 32 ? [e[0] << t | e[1] >>> 32 - t, e[1] << t] : [e[1] << t - 32, 0]
                            },
                            x64Xor: function(e, t) {
                                return [e[0] ^ t[0], e[1] ^ t[1]]
                            },
                            x64Fmix: function(e) {
                                return e = this.x64Xor(e, [0, e[0] >>> 1]), e = this.x64Multiply(e, [4283543511, 3981806797]), e = this.x64Xor(e, [0, e[0] >>> 1]), e = this.x64Multiply(e, [3301882366, 444984403]), e = this.x64Xor(e, [0, e[0] >>> 1])
                            },
                            x64hash128: function(e, t) {
                                e = e || "", t = t || 0;
                                for (var i = e.length % 16, o = e.length - i, n = [0, t], a = [0, t], s = [0, 0], r = [0, 0], l = [2277735313, 289559509], d = [1291169091, 658871167], c = 0; c < o; c += 16) s = [255 & e.charCodeAt(c + 4) | (255 & e.charCodeAt(c + 5)) << 8 | (255 & e.charCodeAt(c + 6)) << 16 | (255 & e.charCodeAt(c + 7)) << 24, 255 & e.charCodeAt(c) | (255 & e.charCodeAt(c + 1)) << 8 | (255 & e.charCodeAt(c + 2)) << 16 | (255 & e.charCodeAt(c + 3)) << 24], r = [255 & e.charCodeAt(c + 12) | (255 & e.charCodeAt(c + 13)) << 8 | (255 & e.charCodeAt(c + 14)) << 16 | (255 & e.charCodeAt(c + 15)) << 24, 255 & e.charCodeAt(c + 8) | (255 & e.charCodeAt(c + 9)) << 8 | (255 & e.charCodeAt(c + 10)) << 16 | (255 & e.charCodeAt(c + 11)) << 24], s = this.x64Multiply(s, l), s = this.x64Rotl(s, 31), s = this.x64Multiply(s, d), n = this.x64Xor(n, s), n = this.x64Rotl(n, 27), n = this.x64Add(n, a), n = this.x64Add(this.x64Multiply(n, [0, 5]), [0, 1390208809]), r = this.x64Multiply(r, d), r = this.x64Rotl(r, 33), r = this.x64Multiply(r, l), a = this.x64Xor(a, r), a = this.x64Rotl(a, 31), a = this.x64Add(a, n), a = this.x64Add(this.x64Multiply(a, [0, 5]), [0, 944331445]);
                                switch (s = [0, 0], r = [0, 0], i) {
                                    case 15:
                                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 14)], 48));
                                    case 14:
                                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 13)], 40));
                                    case 13:
                                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 12)], 32));
                                    case 12:
                                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 11)], 24));
                                    case 11:
                                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 10)], 16));
                                    case 10:
                                        r = this.x64Xor(r, this.x64LeftShift([0, e.charCodeAt(c + 9)], 8));
                                    case 9:
                                        r = this.x64Xor(r, [0, e.charCodeAt(c + 8)]), r = this.x64Multiply(r, d), r = this.x64Rotl(r, 33), r = this.x64Multiply(r, l), a = this.x64Xor(a, r);
                                    case 8:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 7)], 56));
                                    case 7:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 6)], 48));
                                    case 6:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 5)], 40));
                                    case 5:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 4)], 32));
                                    case 4:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 3)], 24));
                                    case 3:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 2)], 16));
                                    case 2:
                                        s = this.x64Xor(s, this.x64LeftShift([0, e.charCodeAt(c + 1)], 8));
                                    case 1:
                                        s = this.x64Xor(s, [0, e.charCodeAt(c)]), s = this.x64Multiply(s, l), s = this.x64Rotl(s, 31), s = this.x64Multiply(s, d), n = this.x64Xor(n, s)
                                }
                                return n = this.x64Xor(n, [0, e.length]), a = this.x64Xor(a, [0, e.length]), n = this.x64Add(n, a), a = this.x64Add(a, n), n = this.x64Fmix(n), a = this.x64Fmix(a), n = this.x64Add(n, a), a = this.x64Add(a, n), ("00000000" + (n[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (n[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (a[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (a[1] >>> 0).toString(16)).slice(-8)
                            }
                        }, e.VERSION = "1.8.0", e
                    }), $(document).ready(function() {
                        $(".stickyHeader").stickyTableHeaders({
                            fixedOffset: $("#siteHeader")
                        });
                        var e = $("#siteSearch");
                        e.find("select").change(function() {
                            $("#siteSearch-input").unbind().autocomplete("destroy"), bindSearchAutoComplete(), submitSearch("select")
                        }), e.submit(function() {
                            $("#siteSearch-input").val() && track("Search", "submit", $("#siteSearch-input").val().toLowerCase())
                        }), bindSearchAutoComplete(), $("#siteHeader").find("label").click(function(e) {
                            var t = $("#" + $(this).attr("for"));
                            t.prop("checked") && (e.preventDefault(), t.prop("checked", !1))
                        }), $('button[type="submit"]').click(function(e) {
                            var t = $(this).parents("form").find(".required");
                            t.length && !t.val() && (e.preventDefault(), $(".required").addClass("error").focus())
                        }), $("form").on("blur", ".required", function(e) {
                            $(this).val() || $(this).addClass("error")
                        }).on("focus", ".error", function(e) {
                            $(this).removeClass("error")
                        }), $("img").unveil(400), $(window).scroll(function() {
                            parseInt($(document).scrollTop()) > 200 ? $("#siteHeader").addClass("collapse") : $("#siteHeader").removeClass("collapse")
                        }), $(".quickFilter").on("click", function(e) {
                            var t = $(this);
                            $(window).width() < 768 && !t.hasClass("open") && !t.hasClass("small") && (e.preventDefault(), e.stopPropagation(), t.addClass("open"), $("html").one("click", function(e) {
                                $(e.target).closest(".open").length && $(e.target).parent().addClass("selected"), t.removeClass("open")
                            }))
                        }), "/forum" !== location.href.replace(location.origin, "").substr(0, 6) && $("#siteContainer").find(".tabs").tabs(), $("form[class*='anime'], form[class*='manga']").each(function() {
                            this.reset()
                        }), $(".readMore").readmore(), $("#notification").find(".ui-dialog-titlebar-close").click(function() {
                            $("#notification").slideUp(), document.cookie = "note" + $(this).data("id") + "=viewed"
                        }), $("a[href='/sign-up']").click(function() {
                            var e = $(this);
                            track("Sign up", "click" + (e.parent().hasClass("loggedOut") ? " - header" : ""), e.text())
                        }), $(".homepage .button, .homepage .card").click(function() {
                            $(this).parents(".challenge-banner") ? track("Challenge", "click", "homepage") : track("hp", "click", $(this).text())
                        }), $(".quickFilter a").click(function() {
                            track("Quick Filter", "click", $(this).text() || $(this).find("i").attr("class"))
                        }), $(".pillApply").click(function() {
                            track("Adv Search", "click", $(this).text(), "Filters: " + $(".pillBottle .pill").length)
                        }), $("#menuRoot,#siteUser").find("a").click(function() {
                            var e = $(this);
                            track(e.siblings("ul,nav").length ? "Nav" : "Subnav", "click", e.text())
                        }), $(".recoCta").find(".rated").click(function() {
                            set_review_rating($(this).attr("id"))
                        }), $("#siteContainer").on("click", ".spoilerButton", function() {
                            $(this).next().slideToggle("fast")
                        })
                    }), String.prototype.trim = function() {
                        return this.replace(/^\s+|\s+$/g, "")
                    },
                    function() {
                        for (var e = 0, t = ["webkit", "moz"], i = 0; i < t.length && !window.requestAnimationFrame; ++i) window.requestAnimationFrame = window[t[i] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[t[i] + "CancelAnimationFrame"] || window[t[i] + "CancelRequestAnimationFrame"];
                        window.requestAnimationFrame || (window.requestAnimationFrame = function(t, i) {
                            var o = (new Date).getTime(),
                                n = Math.max(0, 16 - (o - e)),
                                a = window.setTimeout(function() {
                                    t(o + n)
                                }, n);
                            return e = o + n, a
                        }), window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e) {
                            clearTimeout(e)
                        })
                    }(),
                    function(e) {
                        e.fn.extend({
                            apcomplete: function(t, i, o) {
                                if (!e.fn.autocomplete) return this;
                                var n = this.autocomplete({
                                    minLength: 3,
                                    delay: 300,
                                    source: function(o, n) {
                                        e.get("/autocomplete.php?type=" + t + (i ? "" : "&show_slug=false"), {
                                            q: o.term
                                        }, function(t, i) {
                                            n(e.parseJSON(t))
                                        })
                                    }
                                }).keydown(function(t) {
                                    13 === t.keyCode && (e(this).siblings("button").click(), e(this).autocomplete("close"))
                                }).on("autocompleteselect", function(e, t) {
                                    t.item.value = t.item.name
                                });
                                return null != n && null != n.data("ui-autocomplete") && n.each(function() {
                                    e(this).data("ui-autocomplete")._renderItem = function(t, n) {
                                        return e("<li></li>").data("ui-autocomplete-item", n).append((!i && n.img ? (o ? "<a href='" + n.url + "'>" : "") + "<span><img src='" + n.img + "' /></span>" : "") + String(n.name).replace(new RegExp(this.term, "gi"), "<b>$&</b>") + (o ? "</a>" : "")).appendTo(t)
                                    }
                                }), n
                            }
                        })
                    }(jQuery),
                    function(e) {
                        e.fn.circliful = function(t, i) {
                            var o = e.extend({
                                foregroundColor: "#3498DB",
                                backgroundColor: "#ccc",
                                pointColor: "none",
                                fillColor: "none",
                                foregroundBorderWidth: 15,
                                backgroundBorderWidth: 15,
                                pointSize: 28.5,
                                fontColor: "#aaa",
                                percent: 75,
                                animation: 1,
                                animationStep: 5,
                                icon: "none",
                                iconSize: "30",
                                iconColor: "#ccc",
                                iconPosition: "top",
                                target: 0,
                                start: 0,
                                showPercent: 1,
                                percentageTextSize: 22,
                                textAdditionalCss: "",
                                targetPercent: 0,
                                targetTextSize: 17,
                                targetColor: "#2980B9",
                                text: null,
                                textStyle: null,
                                textColor: "#666",
                                multiPercentage: 0,
                                percentages: null,
                                textBelow: !1,
                                noPercentageSign: !1,
                                replacePercentageByText: null,
                                halfCircle: !1,
                                animateInView: !1
                            }, t);
                            return this.each(function() {
                                function t() {
                                    var e = window.setInterval(function() {
                                        w >= T ? (window.clearInterval(e), b = 1, "function" == typeof i && i.call(this)) : (w += y, x += k), w / 3.6 >= d && 1 == b && (w = 3.6 * d), x > o.target && 1 == b && (x = o.target), null == o.replacePercentageByText && (C = o.halfCircle ? parseInt(100 * w / 360 * 2) : parseInt(100 * w / 360)), g.attr("stroke-dasharray", w + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%")) : m.text(x)
                                    }.bind(g), v)
                                }

                                function n() {
                                    var t = -1 != navigator.userAgent.toLowerCase().indexOf("webkit") ? "body" : "html",
                                        i = e(t).scrollTop(),
                                        o = i + e(window).height(),
                                        n = Math.round(g.offset().top),
                                        a = n + g.height();
                                    return n < o && a > i
                                }

                                function a() {
                                    g.hasClass("start") || n(g) && (g.addClass("start"), setTimeout(t, 250))
                                }
                                var s, r, l = e(this),
                                    d = o.percent,
                                    c = 83,
                                    p = 100,
                                    h = 100,
                                    u = 100,
                                    f = o.backgroundBorderWidth;
                                if (o.halfCircle ? "left" == o.iconPosition ? (p = 80, c = 100, u = 117, h = 100) : o.halfCircle && (c = 80, h = 100) : "bottom" == o.iconPosition ? (c = 124, h = 95) : "left" == o.iconPosition ? (p = 80, c = 110, u = 117) : "middle" == o.iconPosition ? 1 == o.multiPercentage ? "object" == typeof o.percentages ? f = 30 : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 228, h = 47) : (c = 110, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>', s += '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>', u = 175, h = 35) : "right" == o.iconPosition && (p = 120, c = 110, u = 80), o.targetPercent > 0 && (h = 95, s = '<g stroke="' + ("none" != o.backgroundColor ? o.backgroundColor : "#ccc") + '" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>', s += '<text text-anchor="middle" x="' + u + '" y="120" style="font-size: ' + o.targetTextSize + 'px;" fill="' + o.targetColor + '">' + o.targetPercent + (o.noPercentageSign && null == o.replacePercentageByText ? "" : "%") + "</text>", s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.backgroundColor + '" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />', s += '<circle cx="100" cy="100" r="69" fill="none" stroke="' + o.targetColor + '" stroke-width="3" stroke-dasharray="' + 3.6 * o.targetPercent + ', 20000" transform="rotate(-90,100,100)" />'), null != o.text && (o.halfCircle ? o.textBelow ? s += '<text text-anchor="middle" x="100" y="120" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>") : o.textBelow ? s += '<text text-anchor="middle" x="100" y="190" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 0 == o.multiPercentage ? s += '<text text-anchor="middle" x="100" y="115" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>" : 1 == o.multiPercentage && (s += '<text text-anchor="middle" x="228" y="65" style="' + o.textStyle + '" fill="' + o.textColor + '">' + o.text + "</text>")), "none" != o.icon && (r = '<text text-anchor="middle" x="' + p + '" y="' + c + '" class="icon" style="font-size: ' + o.iconSize + 'px" fill="' + o.iconColor + '">&#x' + o.icon + "</text>"), o.halfCircle) {
                                    l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-180,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"))
                                } else l.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">' + s + '<circle cx="100" cy="100" r="57" class="border" fill="' + o.fillColor + '" stroke="' + o.backgroundColor + '" stroke-width="' + f + '" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="' + o.foregroundColor + '" stroke-width="' + o.foregroundBorderWidth + '" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="' + o.pointSize + '" fill="' + o.pointColor + '" />' + r + '<text class="timer" text-anchor="middle" x="' + u + '" y="' + h + '" style="font-size: ' + o.percentageTextSize + "px; " + void 0 + ";" + o.textAdditionalCss + '" fill="' + o.fontColor + '">' + (null == o.replacePercentageByText ? 0 : o.replacePercentageByText) + (o.noPercentageSign || null != o.replacePercentageByText ? "" : "%") + "</text>"));
                                var g = l.find(".circle"),
                                    m = l.find(".timer"),
                                    v = 30,
                                    w = 0,
                                    y = o.animationStep,
                                    b = 0,
                                    x = 0,
                                    k = 0,
                                    C = d,
                                    T = 3.6 * d;
                                o.halfCircle && (T = 3.6 * d / 2), null != o.replacePercentageByText && (C = o.replacePercentageByText), o.start > 0 && o.target > 0 && (d = o.start / (o.target / 100), k = o.target / 100), 1 == o.animation ? o.animateInView ? e(window).scroll(function() {
                                    a()
                                }) : t() : (g.attr("stroke-dasharray", T + ", 20000"), 1 == o.showPercent ? m.text(C + (o.noPercentageSign ? "" : "%")) : m.text(o.target))
                            })
                        }
                    }(jQuery), eval(function(e, t, i, o, n, a) {
                        if (n = function(e) {
                                return (e < 62 ? "" : n(parseInt(e / 62))) + ((e %= 62) > 35 ? String.fromCharCode(e + 29) : e.toString(36))
                            }, !"".replace(/^/, String)) {
                            for (; i--;) a[n(i)] = o[i] || n(i);
                            o = [function(e) {
                                return a[e]
                            }], n = function() {
                                return "\\w+"
                            }, i = 1
                        }
                        for (; i--;) o[i] && (e = e.replace(new RegExp("\\b" + n(i) + "\\b", "g"), o[i]));
                        return e
                    }("h.i['1a']=h.i['z'];h.O(h.i,{y:'D',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});", 0, 74, "||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce".split("|"), 0, {})),
                    function(e, t, i, o) {
                        "use strict";
                        var n = i(e),
                            a = i(t),
                            s = i.fancybox = function() {
                                s.open.apply(this, arguments)
                            },
                            r = navigator.userAgent.match(/msie/i),
                            l = null,
                            d = void 0 !== t.createTouch,
                            c = function(e) {
                                return e && e.hasOwnProperty && e instanceof i
                            },
                            p = function(e) {
                                return e && "string" === i.type(e)
                            },
                            h = function(e) {
                                return p(e) && e.indexOf("%") > 0
                            },
                            u = function(e) {
                                return e && !(e.style.overflow && "hidden" === e.style.overflow) && (e.clientWidth && e.scrollWidth > e.clientWidth || e.clientHeight && e.scrollHeight > e.clientHeight)
                            },
                            f = function(e, t) {
                                var i = parseInt(e, 10) || 0;
                                return t && h(e) && (i = s.getViewport()[t] / 100 * i), Math.ceil(i)
                            },
                            g = function(e, t) {
                                return f(e, t) + "px"
                            };
                        i.extend(s, {
                            version: "2.1.4",
                            defaults: {
                                padding: 15,
                                margin: 20,
                                width: 800,
                                height: 600,
                                minWidth: 100,
                                minHeight: 100,
                                maxWidth: 9999,
                                maxHeight: 9999,
                                autoSize: !0,
                                autoHeight: !1,
                                autoWidth: !1,
                                autoResize: !0,
                                autoCenter: !d,
                                fitToView: !0,
                                aspectRatio: !1,
                                topRatio: .5,
                                leftRatio: .5,
                                scrolling: "yes",
                                arrows: !0,
                                closeBtn: !0,
                                closeClick: !1,
                                nextClick: !1,
                                mouseWheel: !0,
                                preload: 3,
                                loop: !0,
                                ajax: {
                                    dataType: "html",
                                    headers: {
                                        "X-fancyBox": !0
                                    }
                                },
                                keys: {
                                    next: {
                                        13: "left",
                                        34: "up",
                                        39: "left",
                                        40: "up"
                                    },
                                    prev: {
                                        8: "right",
                                        33: "down",
                                        37: "right",
                                        38: "down"
                                    },
                                    close: [27],
                                    toggle: [70]
                                },
                                direction: {
                                    next: "left",
                                    prev: "right"
                                },
                                scrollOutside: !0,
                                index: 0,
                                type: "image",
                                href: null,
                                content: null,
                                title: null,
                                tpl: {
                                    wrap: '<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',
                                    image: '<img class="fancybox-image" src="{href}" alt="{alt}" />',
                                    error: '<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',
                                    closeBtn: '<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',
                                    next: '<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',
                                    prev: '<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'
                                },
                                openEffect: "elastic",
                                openSpeed: 250,
                                openEasing: "swing",
                                openMethod: "zoomIn",
                                closeSpeed: 250,
                                closeEasing: "swing",
                                closeOpacity: !0,
                                closeMethod: "zoomOut",
                                nextMethod: "changeIn",
                                prevEffect: "none",
                                prevSpeed: 250,
                                prevEasing: "swing",
                                prevMethod: "changeOut",
                                helpers: {
                                    overlay: !0,
                                    title: !0
                                },
                                onCancel: i.noop,
                                beforeLoad: i.noop,
                                afterLoad: i.noop,
                                beforeShow: i.noop,
                                afterShow: i.noop,
                                beforeChange: i.noop,
                                beforeClose: i.noop,
                                afterClose: i.noop
                            },
                            group: {},
                            opts: {},
                            previous: null,
                            coming: null,
                            current: null,
                            isActive: !1,
                            isOpen: !1,
                            isOpened: !1,
                            wrap: null,
                            skin: null,
                            outer: null,
                            inner: null,
                            imgPreload: null,
                            transitions: {},
                            helpers: {},
                            open: function(e, t) {
                                if (e && (i.isPlainObject(t) || (t = {}), !1 !== s.close(!0))) return i.isArray(e) || (e = c(e) ? i(e).get() : [e]), i.each(e, function(o, n) {
                                    var a, s, r, l, d = {};
                                    "object" === i.type(n) && (n.nodeType && (n = i(n)), d = c(n) ? {
                                        href: n.data("fancybox-href") || n.attr("href"),
                                        title: n.data("fancybox-title") || n.attr("title"),
                                        isDom: !0,
                                        element: n
                                    } : n), a = t.href || d.href || (p(n) ? n : null), s = void 0 !== t.title ? t.title : d.title || "", r = t.content || d.content, l = r ? "html" : t.type || d.type, r || ("inline" === l ? a ? r = i(p(a) ? a.replace(/.*(?=#[^\s]+$)/, "") : a) : d.isDom && (r = n) : "html" === l ? r = a : l || a || !d.isDom || (l = "inline", r = n)), i.extend(d, {
                                        href: a,
                                        type: l,
                                        content: r,
                                        title: s,
                                        selector: void 0
                                    }), e[o] = d
                                }), s.opts = i.extend(!0, {}, s.defaults, t), void 0 !== t.keys && (s.opts.keys = !!t.keys && i.extend({}, s.defaults.keys, t.keys)), s.group = e, s._start(s.opts.index)
                            },
                            cancel: function() {
                                var e = s.coming;
                                e && !1 !== s.trigger("onCancel") && (s.hideLoading(), s.imgPreload && (s.imgPreload.onload = s.imgPreload.onerror = null), e.wrap && e.wrap.stop(!0, !0).trigger("onReset").remove(), s.coming = null, s.current || s._afterZoomOut(e))
                            },
                            close: function(e) {
                                s.cancel(), !1 !== s.trigger("beforeClose") && (s.unbindEvents(), s.isActive && (s.isOpen && !0 !== e ? (s.isOpen = s.isOpened = !1, s.isClosing = !0, i(".fancybox-item, .fancybox-nav").remove(), s.wrap.stop(!0, !0).removeClass("fancybox-opened"), s.transitions[s.current.closeMethod]()) : (i(".fancybox-wrap").stop(!0).trigger("onReset").remove(), s._afterZoomOut())))
                            },
                            next: function(e) {
                                var t = s.current;
                                t && (p(e) || (e = t.direction.next), s.jumpto(t.index + 1, e, "next"))
                            },
                            prev: function(e) {
                                var t = s.current;
                                t && (p(e) || (e = t.direction.prev), s.jumpto(t.index - 1, e, "prev"))
                            },
                            jumpto: function(e, t, i) {
                                var o = s.current;
                                o && (e = f(e), s.direction = t || o.direction[e >= o.index ? "next" : "prev"], s.router = i || "jumpto", o.loop && (e < 0 && (e = o.group.length + e % o.group.length), e %= o.group.length), void 0 !== o.group[e] && (s.cancel(), s._start(e)))
                            },
                            reposition: function(e, t) {
                                var o, n = s.current,
                                    a = n ? n.wrap : null;
                                a && (o = s._getPosition(t), e && "scroll" === e.type ? (delete o.position, a.stop(!0, !0).animate(o, 200)) : (a.css(o), n.pos = i.extend({}, n.dim, o)))
                            },
                            update: function(e) {
                                var t = e && e.type,
                                    i = !t || "orientationchange" === t;
                                i && (clearTimeout(l), l = null), s.isOpen && !l && (l = setTimeout(function() {
                                    var o = s.current;
                                    o && !s.isClosing && (s.wrap.removeClass("fancybox-tmp"), (i || "load" === t || "resize" === t && o.autoResize) && s._setDimension(), "scroll" === t && o.canShrink || s.reposition(e), s.trigger("onUpdate"), l = null)
                                }, i && !d ? 0 : 300))
                            },
                            toggle: function(e) {
                                s.isOpen && (s.current.fitToView = "boolean" === i.type(e) ? e : !s.current.fitToView, d && (s.wrap.removeAttr("style").addClass("fancybox-tmp"), s.trigger("onUpdate")), s.update())
                            },
                            hideLoading: function() {
                                a.unbind(".loading"), i("#fancybox-loading").remove()
                            },
                            showLoading: function() {
                                s.hideLoading(), i('<div id="fancybox-loading"><div></div></div>').appendTo("body"), a.bind("keydown.loading", function(e) {
                                    27 === (e.which || e.keyCode) && (e.preventDefault(), s.cancel())
                                })
                            },
                            getViewport: function() {
                                var t = s.current && s.current.locked || !1,
                                    i = {
                                        x: n.scrollLeft(),
                                        y: n.scrollTop()
                                    };
                                return t ? (i.w = t[0].clientWidth, i.h = t[0].clientHeight) : (i.w = d && e.innerWidth ? e.innerWidth : n.width(), i.h = d && e.innerHeight ? e.innerHeight : n.height()), i
                            },
                            unbindEvents: function() {
                                s.wrap && c(s.wrap) && s.wrap.unbind(".fb"), a.unbind(".fb"), n.unbind(".fb")
                            },
                            bindEvents: function() {
                                var e, t = s.current;
                                t && (n.bind("orientationchange.fb" + (d ? "" : " resize.fb") + (t.autoCenter && !t.locked ? " scroll.fb" : ""), s.update), e = t.keys, e && a.bind("keydown.fb", function(o) {
                                    var n = o.which || o.keyCode,
                                        a = o.target || o.srcElement;
                                    if (27 === n && s.coming) return !1;
                                    o.ctrlKey || o.altKey || o.shiftKey || o.metaKey || a && (a.type || i(a).is("[contenteditable]")) || i.each(e, function(e, a) {
                                        return t.group.length > 1 && void 0 !== a[n] ? (s[e](a[n]), o.preventDefault(), !1) : i.inArray(n, a) > -1 ? (s[e](), o.preventDefault(), !1) : void 0
                                    })
                                }), i.fn.mousewheel && t.mouseWheel && s.wrap.bind("mousewheel.fb", function(e, o, n, a) {
                                    for (var r = e.target || null, l = i(r), d = !1; l.length && !(d || l.is(".fancybox-skin") || l.is(".fancybox-wrap"));) d = u(l[0]), l = i(l).parent();
                                    0 === o || d || s.group.length > 1 && !t.canShrink && (a > 0 || n > 0 ? s.prev(a > 0 ? "down" : "left") : (a < 0 || n < 0) && s.next(a < 0 ? "up" : "right"), e.preventDefault())
                                }))
                            },
                            trigger: function(e, t) {
                                var o = t || s.coming || s.current;
                                if (o) {
                                    if (i.isFunction(o[e]) && !1 === o[e].apply(o, Array.prototype.slice.call(arguments, 1))) return !1;
                                    o.helpers && i.each(o.helpers, function(t, n) {
                                        n && s.helpers[t] && i.isFunction(s.helpers[t][e]) && (n = i.extend(!0, {}, s.helpers[t].defaults, n), s.helpers[t][e](n, o))
                                    }), a.trigger(e)
                                }
                            },
                            isImage: function(e) {
                                return p(e) && e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)
                            },
                            _start: function(e) {
                                var t, o, n, a, r = {};
                                return e = f(e), !!(t = s.group[e] || null) && (r = i.extend(!0, {}, s.opts, t), n = r.margin, a = r.padding, r.margin = [n, n, n, n], r.padding = [a, a, a, a], r.autoSize && (r.autoWidth = r.autoHeight = !0), "auto" === r.width && (r.autoWidth = !0), "auto" === r.height && (r.autoHeight = !0), r.group = s.group, r.index = e, s.coming = r, !1 === s.trigger("beforeLoad") ? void(s.coming = null) : (o = r.type, r.href, o ? (s.isActive = !0, r.autoHeight = r.autoWidth = !1, r.scrolling = "visible", r.aspectRatio = !0, r.wrap = i(r.tpl.wrap).addClass("fancybox-" + (d ? "mobile" : "desktop") + " fancybox-type-" + o + " fancybox-tmp ").appendTo(r.parent || "body"), i.extend(r, {
                                    skin: i(".fancybox-skin", r.wrap),
                                    outer: i(".fancybox-outer", r.wrap),
                                    inner: i(".fancybox-inner", r.wrap)
                                }), i.each(["Top", "Right", "Bottom", "Left"], function(e, t) {
                                    r.skin.css("padding" + t, g(r.padding[e]))
                                }), s.trigger("onReady"), void s._loadImage()) : (s.coming = null, !(!s.current || !s.router || "jumpto" === s.router) && (s.current.index = e, s[s.router](s.direction)))))
                            },
                            _error: function(e) {
                                i.extend(s.coming, {
                                    type: "html",
                                    autoWidth: !0,
                                    autoHeight: !0,
                                    minWidth: 0,
                                    minHeight: 0,
                                    scrolling: "no",
                                    hasError: e,
                                    content: s.coming.tpl.error
                                }), s._afterLoad()
                            },
                            _loadImage: function() {
                                var e = s.imgPreload = new Image;
                                e.onload = function() {
                                    this.onload = this.onerror = null, s.coming.width = this.width, s.coming.height = this.height, s._afterLoad()
                                }, e.onerror = function() {
                                    this.onload = this.onerror = null, s._error("image")
                                }, e.src = s.coming.href, !0 !== e.complete && s.showLoading()
                            },
                            _preloadImages: function() {
                                var e, t, i = s.group,
                                    o = s.current,
                                    n = i.length,
                                    a = o.preload ? Math.min(o.preload, n - 1) : 0;
                                for (t = 1; t <= a; t += 1) e = i[(o.index + t) % n], e.href && ((new Image).src = e.href)
                            },
                            _afterLoad: function() {
                                var e, t, o, n, a = s.coming,
                                    r = s.current;
                                if (s.hideLoading(), a && !1 !== s.isActive) {
                                    if (!1 === s.trigger("afterLoad", a, r)) return a.wrap.stop(!0).trigger("onReset").remove(), void(s.coming = null);
                                    r && (s.trigger("beforeChange", r), r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()), s.unbindEvents(), e = a, t = a.content, a.type, o = a.scrolling, i.extend(s, {
                                        wrap: e.wrap,
                                        skin: e.skin,
                                        outer: e.outer,
                                        inner: e.inner,
                                        current: e,
                                        previous: r
                                    }), n = e.href, t = e.tpl.image.replace("{href}", n).replace("{alt}", e.alt), c(t) && t.parent().is(e.inner) || e.inner.append(t), s.trigger("beforeShow"), e.inner.css("overflow", "yes" === o ? "scroll" : "no" === o ? "hidden" : o), s._setDimension(), s.reposition(), s.isOpen = !1, s.coming = null, s.bindEvents(), s.isOpened ? r.prevMethod && s.transitions[r.prevMethod]() : i(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(), s.transitions[s.isOpened ? e.nextMethod : e.openMethod](), s._preloadImages()
                                }
                            },
                            _setDimension: function() {
                                var e, t, o, n, a, r, l, d, c, p, u, m, v, w = s.getViewport(),
                                    y = 0,
                                    b = !1,
                                    x = !1,
                                    k = s.wrap,
                                    C = s.skin,
                                    T = s.inner,
                                    S = s.current,
                                    $ = S.width,
                                    M = S.height,
                                    E = S.minWidth,
                                    A = S.minHeight,
                                    P = S.maxWidth,
                                    O = S.maxHeight,
                                    H = S.scrolling,
                                    I = S.scrollOutside ? S.scrollbarWidth : 0,
                                    D = S.margin,
                                    B = f(D[1] + D[3]),
                                    L = f(D[0] + D[2]);
                                if (k.add(C).add(T).width("auto").height("auto").removeClass("fancybox-tmp"), e = f(C.outerWidth(!0) - C.width()), t = f(C.outerHeight(!0) - C.height()), o = B + e, n = L + t, a = h($) ? (w.w - o) * f($) / 100 : $, r = h(M) ? (w.h - n) * f(M) / 100 : M, (S.autoWidth || S.autoHeight) && (T.addClass("fancybox-tmp"), S.autoWidth || T.width(a), S.autoHeight || T.height(r), S.autoWidth && (a = T.width()), S.autoHeight && (r = T.height()), T.removeClass("fancybox-tmp")), $ = f(a), M = f(r), c = a / r, E = f(h(E) ? f(E, "w") - o : E), P = f(h(P) ? f(P, "w") - o : P), A = f(h(A) ? f(A, "h") - n : A), O = f(h(O) ? f(O, "h") - n : O), l = P, d = O, S.fitToView && (P = Math.min(w.w - o, P), O = Math.min(w.h - n, O)), m = w.w - B, v = w.h - L, S.aspectRatio ? ($ > P && ($ = P, M = f($ / c)), M > O && (M = O, $ = f(M * c)), $ < E && ($ = E, M = f($ / c)), M < A && (M = A, $ = f(M * c))) : ($ = Math.max(E, Math.min($, P)), S.autoHeight && "iframe" !== S.type && (T.width($), M = T.height()), M = Math.max(A, Math.min(M, O))), S.fitToView)
                                    if (T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), S.aspectRatio)
                                        for (;
                                            (p > m || u > v) && $ > E && M > A && !(y++ > 19);) M = Math.max(A, Math.min(O, M - 10)), $ = f(M * c), $ < E && ($ = E, M = f($ / c)), $ > P && ($ = P, M = f($ / c)), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height();
                                    else $ = Math.max(E, Math.min($, $ - (p - m))), M = Math.max(A, Math.min(M, M - (u - v)));
                                I && "auto" === H && M < r && $ + e + I < m && ($ += I), T.width($).height(M), k.width($ + e), p = k.width(), u = k.height(), b = (p > m || u > v) && $ > E && M > A, x = S.aspectRatio ? $ < l && M < d && $ < a && M < r : ($ < l || M < d) && ($ < a || M < r), i.extend(S, {
                                    dim: {
                                        width: g(p),
                                        height: g(u)
                                    },
                                    origWidth: a,
                                    origHeight: r,
                                    canShrink: b,
                                    canExpand: x,
                                    wPadding: e,
                                    hPadding: t,
                                    wrapSpace: u - C.outerHeight(!0),
                                    skinSpace: C.height() - M
                                }), S.autoHeight && M > A && M < O && !x && T.height("auto")
                            },
                            _getPosition: function(e) {
                                var t = s.current,
                                    i = s.getViewport(),
                                    o = t.margin,
                                    n = s.wrap.width() + o[1] + o[3],
                                    a = s.wrap.height() + o[0] + o[2],
                                    r = {
                                        position: "absolute",
                                        top: o[0],
                                        left: o[3]
                                    };
                                return t.autoCenter && t.fixed && !e && a <= i.h && n <= i.w ? r.position = "fixed" : t.locked || (r.top += i.y, r.left += i.x), r.top = g(Math.max(r.top, r.top + (i.h - a) * t.topRatio)), r.left = g(Math.max(r.left, r.left + (i.w - n) * t.leftRatio)), r
                            },
                            _afterZoomIn: function() {
                                var e = s.current;
                                e && (s.isOpen = s.isOpened = !0, s.wrap.css("overflow", "visible").addClass("fancybox-opened"), s.update(), (e.closeClick || e.nextClick && s.group.length > 1) && s.inner.css("cursor", "pointer").bind("click.fb", function(t) {
                                    i(t.target).is("a") || i(t.target).parent().is("a") || (t.preventDefault(), s[e.closeClick ? "close" : "next"]())
                                }), e.closeBtn && i(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb", function(e) {
                                    e.preventDefault(), s.close()
                                }), e.arrows && s.group.length > 1 && ((e.loop || e.index > 0) && i(e.tpl.prev).appendTo(s.outer).bind("click.fb", s.prev), (e.loop || e.index < s.group.length - 1) && i(e.tpl.next).appendTo(s.outer).bind("click.fb", s.next)), s.trigger("afterShow"))
                            },
                            _afterZoomOut: function(e) {
                                e = e || s.current, i(".fancybox-wrap").trigger("onReset").remove(), i.extend(s, {
                                    group: {},
                                    opts: {},
                                    router: !1,
                                    current: null,
                                    isActive: !1,
                                    isOpened: !1,
                                    isOpen: !1,
                                    isClosing: !1,
                                    wrap: null,
                                    skin: null,
                                    outer: null,
                                    inner: null
                                }), s.trigger("afterClose", e)
                            }
                        }), s.transitions = {
                            getOrigPosition: function() {
                                var e = s.current,
                                    t = e.element,
                                    i = e.orig,
                                    o = {},
                                    n = 50,
                                    a = 50,
                                    r = e.hPadding,
                                    l = e.wPadding,
                                    d = s.getViewport();
                                return !i && e.isDom && t.is(":visible") && (i = t.find("img:first"), i.length || (i = t)), c(i) ? (o = i.offset(), i.is("img") && (n = i.outerWidth(), a = i.outerHeight())) : (o.top = d.y + (d.h - a) * e.topRatio, o.left = d.x + (d.w - n) * e.leftRatio), ("fixed" === s.wrap.css("position") || e.locked) && (o.top -= d.y, o.left -= d.x), o = {
                                    top: g(o.top - r * e.topRatio),
                                    left: g(o.left - l * e.leftRatio),
                                    width: g(n + l),
                                    height: g(a + r)
                                }
                            },
                            step: function(e, t) {
                                var i, o, n, a = t.prop,
                                    r = s.current,
                                    l = r.wrapSpace,
                                    d = r.skinSpace;
                                "width" !== a && "height" !== a || (i = t.end === t.start ? 1 : (e - t.start) / (t.end - t.start), s.isClosing && (i = 1 - i), o = "width" === a ? r.wPadding : r.hPadding, n = e - o, s.skin[a](f("width" === a ? n : n - l * i)), s.inner[a](f("width" === a ? n : n - l * i - d * i)))
                            },
                            zoomIn: function() {
                                var e = s.current,
                                    t = e.pos,
                                    o = i.extend({
                                        opacity: 1
                                    }, t);
                                delete o.position, t = this.getOrigPosition(), t.opacity = .1, s.wrap.css(t).animate(o, {
                                    duration: e.openSpeed,
                                    easing: e.openEasing,
                                    step: this.step,
                                    complete: s._afterZoomIn
                                })
                            },
                            zoomOut: function() {
                                var e = s.current,
                                    t = this.getOrigPosition();
                                t.opacity = .1, s.wrap.animate(t, {
                                    duration: e.closeSpeed,
                                    easing: e.closeEasing,
                                    step: this.step,
                                    complete: s._afterZoomOut
                                })
                            },
                            changeIn: function() {
                                s.current.pos.opacity = .1, s._afterZoomIn()
                            },
                            changeOut: function() {
                                var e = s.previous,
                                    t = {
                                        opacity: .1
                                    };
                                e.wrap.animate(t, {
                                    duration: 0,
                                    easing: e.prevEasing,
                                    complete: function() {
                                        i(this).trigger("onReset").remove()
                                    }
                                })
                            }
                        }, s.helpers.overlay = {
                            defaults: {
                                closeClick: !0,
                                speedOut: 200,
                                showEarly: !0,
                                css: {},
                                locked: !1,
                                fixed: !0
                            },
                            overlay: null,
                            fixed: !0,
                            create: function(e) {
                                e = i.extend({}, this.defaults, e), this.overlay && this.close(), this.overlay = i('<div class="fancybox-overlay fancybox-overlay-fixed"></div>').appendTo("body")
                            },
                            open: function(e) {
                                var t = this;
                                e = i.extend({}, this.defaults, e), this.overlay ? this.overlay.unbind(".overlay").width("auto").height("auto") : this.create(e), this.overlay.bind("click.overlay", function(e) {
                                    i(e.target).hasClass("fancybox-overlay") && (s.isActive ? s.close() : t.close())
                                }), this.overlay.css(e.css).show()
                            },
                            close: function() {
                                i(".fancybox-overlay").remove(), n.unbind("resize.overlay"), this.overlay = null, !1 !== this.margin && (i("body").css("margin-right", this.margin), this.margin = !1), this.el && this.el.removeClass("fancybox-lock")
                            },
                            update: function() {
                                var e, i = "100%";
                                this.overlay.width(i).height("100%"), r ? (e = Math.max(t.documentElement.offsetWidth, t.body.offsetWidth), a.width() > e && (i = a.width())) : a.width() > n.width() && (i = a.width()), this.overlay.width(i).height(a.height())
                            },
                            onReady: function(e, o) {
                                i(".fancybox-overlay").stop(!0, !0), this.overlay || (this.margin = (a.height() > n.height() || "scroll" === i("body").css("overflow-y")) && i("body").css("margin-right"), this.el = i(t.all && !t.querySelector ? "html" : "body"), this.create(e)), e.locked && this.fixed && (o.locked = this.overlay.append(o.wrap), o.fixed = !1), !0 === e.showEarly && this.beforeShow.apply(this, arguments)
                            },
                            beforeShow: function(e, t) {
                                this.open(e)
                            },
                            onUpdate: function() {},
                            afterClose: function(e) {
                                this.overlay && !s.isActive && this.overlay.fadeOut(e.speedOut, i.proxy(this.close, this))
                            }
                        }, s.helpers.title = {
                            defaults: {
                                type: "float",
                                position: "bottom"
                            },
                            beforeShow: function(e) {
                                var t, o = s.current,
                                    n = o.title,
                                    a = e.type,
                                    r = s.inner;
                                i.isFunction(n) && (n = n.call(o.element, o)), p(n) && "" !== i.trim(n) && (t = i('<div class="fancybox-title fancybox-title-' + a + '-wrap">' + n + "</div>"), t["top" === e.position ? "prependTo" : "appendTo"](r))
                            }
                        }, i.fn.fancybox = function(e) {
                            var t, o = i(this),
                                n = this.selector || "",
                                r = function(a) {
                                    var r, l, d = i(this).blur(),
                                        c = t;
                                    a.ctrlKey || a.altKey || a.shiftKey || a.metaKey || d.is(".fancybox-wrap") || (r = e.groupAttr || "data-fancybox-group", l = d.attr(r), l || (r = "rel", l = d.get(0)[r]), l && "" !== l && "nofollow" !== l && (d = n.length ? i(n) : o, d = d.filter("[" + r + '="' + l + '"]'), c = d.index(this)), e.index = c, !1 !== s.open(d, e) && a.preventDefault())
                                };
                            return e = e || {}, t = e.index || 0, n && !1 !== e.live ? a.undelegate(n, "click.fb-start").delegate(n + ":not('.fancybox-item, .fancybox-nav')", "click.fb-start", r) : o.unbind("click.fb-start").bind("click.fb-start", r), this.filter("[data-fancybox-start=1]").trigger("click"), this
                        }, a.ready(function() {
                            void 0 === i.scrollbarWidth && (i.scrollbarWidth = function() {
                                var e = i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),
                                    t = e.children(),
                                    o = t.innerWidth() - t.height(99).innerWidth();
                                return e.remove(), o
                            }), void 0 === i.support.fixedPosition && (i.support.fixedPosition = function() {
                                var e = i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),
                                    t = 20 === e[0].offsetTop || 15 === e[0].offsetTop;
                                return e.remove(), t
                            }()), i.extend(s.defaults, {
                                scrollbarWidth: i.scrollbarWidth(),
                                fixed: i.support.fixedPosition,
                                parent: i("body")
                            })
                        })
                    }(window, document, jQuery),
                    function(e) {
                        function t(t) {
                            var i = t || window.event,
                                o = [].slice.call(arguments, 1),
                                n = 0,
                                a = 0,
                                s = 0,
                                t = e.event.fix(i);
                            return t.type = "mousewheel", i.wheelDelta && (n = i.wheelDelta / 120), i.detail && (n = -i.detail / 3), s = n, void 0 !== i.axis && i.axis === i.HORIZONTAL_AXIS && (s = 0, a = -1 * n), void 0 !== i.wheelDeltaY && (s = i.wheelDeltaY / 120), void 0 !== i.wheelDeltaX && (a = -1 * i.wheelDeltaX / 120), o.unshift(t, n, a, s), (e.event.dispatch || e.event.handle).apply(this, o)
                        }
                        var i = ["DOMMouseScroll", "mousewheel"];
                        if (e.event.fixHooks)
                            for (var o = i.length; o;) e.event.fixHooks[i[--o]] = e.event.mouseHooks;
                        e.event.special.mousewheel = {
                            setup: function() {
                                if (this.addEventListener)
                                    for (var e = i.length; e;) this.addEventListener(i[--e], t, !1);
                                else this.onmousewheel = t
                            },
                            teardown: function() {
                                if (this.removeEventListener)
                                    for (var e = i.length; e;) this.removeEventListener(i[--e], t, !1);
                                else this.onmousewheel = null
                            }
                        }, e.fn.extend({
                            mousewheel: function(e) {
                                return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
                            },
                            unmousewheel: function(e) {
                                return this.unbind("mousewheel", e)
                            }
                        })
                    }(jQuery), new function(e) {
                        var t = e.separator || "&",
                            i = !!e.spaces,
                            o = !1 !== e.prefix,
                            n = o ? !0 === e.hash ? "#" : "?" : "",
                            a = !1 !== e.numbers;
                        $.query = new function() {
                            var e = function(e, t) {
                                    return void 0 != e && (!t || e.constructor == t)
                                },
                                o = function(e) {
                                    for (var t, i = /\[([^[]*)\]/g, o = /^([^[]+)(\[.*\])?$/.exec(e), n = o[1], a = []; t = i.exec(o[2]);) a.push(t[1]);
                                    return [n, a]
                                },
                                s = function(t, i, o) {
                                    var n = i.shift();
                                    if ("object" != typeof t && (t = null), "" === n)
                                        if (t || (t = []), e(t, Array)) t.push(0 == i.length ? o : s(null, i.slice(0), o));
                                        else if (e(t, Object)) {
                                        for (var a = 0; null != t[a++];);
                                        t[--a] = 0 == i.length ? o : s(t[a], i.slice(0), o)
                                    } else t = [], t.push(0 == i.length ? o : s(null, i.slice(0), o));
                                    else if (n && n.match(/^\s*[0-9]+\s*$/)) {
                                        var r = parseInt(n, 10);
                                        t || (t = []), t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                                    } else {
                                        if (!n) return o;
                                        var r = n.replace(/^\s*|\s*$/g, "");
                                        if (t || (t = {}), e(t, Array)) {
                                            for (var l = {}, a = 0; a < t.length; ++a) l[a] = t[a];
                                            t = l
                                        }
                                        t[r] = 0 == i.length ? o : s(t[r], i.slice(0), o)
                                    }
                                    return t
                                },
                                r = function(e) {
                                    var t = this;
                                    return t.keys = {}, e.queryObject ? $.each(e.get(), function(e, i) {
                                        t.SET(e, i)
                                    }) : $.each(arguments, function() {
                                        var e = "" + this;
                                        e = e.replace(/^[?#]/, ""), e = e.replace(/[;&]$/, ""), i && (e = e.replace(/[+]/g, " ")), $.each(e.split(/[&;]/), function() {
                                            var e = decodeURIComponent(this.split("=")[0] || ""),
                                                i = decodeURIComponent(this.split("=")[1] || "");
                                            e && (a && (/^[+-]?[0-9]+\.[0-9]*$/.test(i) ? i = parseFloat(i) : /^[+-]?[0-9]+$/.test(i) && (i = parseInt(i, 10))), i = !i && 0 !== i || i, t.SET(e, i))
                                        })
                                    }), t
                                };
                            return r.prototype = {
                                queryObject: !0,
                                has: function(t, i) {
                                    return e(this.get(t), i)
                                },
                                GET: function(t) {
                                    if (!e(t)) return this.keys;
                                    for (var i = o(t), n = i[0], a = i[1], s = this.keys[n]; null != s && 0 != a.length;) s = s[a.shift()];
                                    return "number" == typeof s ? s : s || ""
                                },
                                get: function(t) {
                                    var i = this.GET(t);
                                    return e(i, Object) ? $.extend(!0, {}, i) : e(i, Array) ? i.slice(0) : i
                                },
                                SET: function(t, i, n) {
                                    if (i && n != i) {
                                        var a = o(t),
                                            r = a[0];
                                        this.keys[r] = s(this.keys[r], a[1].slice(0), e(i) ? i : null)
                                    }
                                    return this
                                },
                                EMPTY: function() {
                                    var e = this;
                                    return $.each(e.keys, function(t) {
                                        delete e.keys[t]
                                    }), e
                                },
                                copy: function() {
                                    return new r(this)
                                },
                                toString: function() {
                                    var o = [],
                                        a = [],
                                        s = function(e) {
                                            return e += "", i && (e = e.replace(/ /g, "+")), encodeURIComponent(e).replace(/%2C/g, ",").replace(/%21/g, "!").replace(/%27/g, "'").replace(/%28/g, "(").replace(/%29/g, ")").replace(/%2A/g, "*")
                                        },
                                        r = function(t, i, o) {
                                            if (e(o) && !1 !== o) {
                                                var n = [s(i)];
                                                !0 !== o && (n.push("="), n.push(s(o))), t.push(n.join(""))
                                            }
                                        },
                                        l = function(e, t) {
                                            var i = function(e) {
                                                return t && "" != t ? [t, "[", e, "]"].join("") : [e].join("")
                                            };
                                            $.each(e, function(e, t) {
                                                "object" == typeof t ? l(t, i(e)) : r(a, i(e), t)
                                            })
                                        };
                                    return l(this.keys), a.length > 0 && o.push(n), o.push(a.join(t)), o.join("")
                                }
                            }, new r(location.search, location.hash)
                        }
                    }(jQuery.query || {}),
                    function(e) {
                        "use strict";
                        "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
                    }(function(e) {
                        "use strict";
                        var t = window.Slick || {};
                        t = function() {
                            function t(t, o) {
                                var n, a = this;
                                a.defaults = {
                                    accessibility: !0,
                                    adaptiveHeight: !1,
                                    appendArrows: e(t),
                                    appendDots: e(t),
                                    arrows: !0,
                                    asNavFor: null,
                                    prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                                    nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                                    autoplay: !1,
                                    autoplaySpeed: 3e3,
                                    centerMode: !1,
                                    centerPadding: "50px",
                                    cssEase: "ease",
                                    customPaging: function(t, i) {
                                        return e('<button type="button" />').text(i + 1)
                                    },
                                    dots: !1,
                                    dotsClass: "slick-dots",
                                    draggable: !0,
                                    easing: "linear",
                                    edgeFriction: .35,
                                    fade: !1,
                                    focusOnSelect: !1,
                                    focusOnChange: !1,
                                    infinite: !0,
                                    initialSlide: 0,
                                    lazyLoad: "ondemand",
                                    mobileFirst: !1,
                                    pauseOnHover: !0,
                                    pauseOnFocus: !0,
                                    pauseOnDotsHover: !1,
                                    respondTo: "window",
                                    responsive: null,
                                    rows: 1,
                                    rtl: !1,
                                    slide: "",
                                    slidesPerRow: 1,
                                    slidesToShow: 1,
                                    slidesToScroll: 1,
                                    speed: 500,
                                    swipe: !0,
                                    swipeToSlide: !1,
                                    touchMove: !0,
                                    touchThreshold: 5,
                                    useCSS: !0,
                                    useTransform: !0,
                                    variableWidth: !1,
                                    vertical: !1,
                                    verticalSwiping: !1,
                                    waitForAnimate: !0,
                                    zIndex: 1e3
                                }, a.initials = {
                                    animating: !1,
                                    dragging: !1,
                                    autoPlayTimer: null,
                                    currentDirection: 0,
                                    currentLeft: null,
                                    currentSlide: 0,
                                    direction: 1,
                                    $dots: null,
                                    listWidth: null,
                                    listHeight: null,
                                    loadIndex: 0,
                                    $nextArrow: null,
                                    $prevArrow: null,
                                    scrolling: !1,
                                    slideCount: null,
                                    slideWidth: null,
                                    $slideTrack: null,
                                    $slides: null,
                                    sliding: !1,
                                    slideOffset: 0,
                                    swipeLeft: null,
                                    swiping: !1,
                                    $list: null,
                                    touchObject: {},
                                    transformsEnabled: !1,
                                    unslicked: !1
                                }, e.extend(a, a.initials), a.activeBreakpoint = null, a.animType = null, a.animProp = null, a.breakpoints = [], a.breakpointSettings = [], a.cssTransitions = !1, a.focussed = !1, a.interrupted = !1, a.hidden = "hidden", a.paused = !0, a.positionProp = null, a.respondTo = null, a.rowCount = 1, a.shouldClick = !0, a.$slider = e(t), a.$slidesCache = null, a.transformType = null, a.transitionType = null, a.visibilityChange = "visibilitychange", a.windowWidth = 0, a.windowTimer = null, n = e(t).data("slick") || {}, a.options = e.extend({}, a.defaults, o, n), a.currentSlide = a.options.initialSlide, a.originalSettings = a.options, void 0 !== document.mozHidden ? (a.hidden = "mozHidden", a.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (a.hidden = "webkitHidden", a.visibilityChange = "webkitvisibilitychange"), a.autoPlay = e.proxy(a.autoPlay, a), a.autoPlayClear = e.proxy(a.autoPlayClear, a), a.autoPlayIterator = e.proxy(a.autoPlayIterator, a), a.changeSlide = e.proxy(a.changeSlide, a), a.clickHandler = e.proxy(a.clickHandler, a), a.selectHandler = e.proxy(a.selectHandler, a), a.setPosition = e.proxy(a.setPosition, a), a.swipeHandler = e.proxy(a.swipeHandler, a), a.dragHandler = e.proxy(a.dragHandler, a), a.keyHandler = e.proxy(a.keyHandler, a), a.instanceUid = i++, a.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, a.registerBreakpoints(), a.init(!0)
                            }
                            var i = 0;
                            return t
                        }(), t.prototype.activateADA = function() {
                            this.$slideTrack.find(".slick-active").attr({
                                "aria-hidden": "false"
                            }).find("a, input, button, select").attr({
                                tabindex: "0"
                            })
                        }, t.prototype.addSlide = t.prototype.slickAdd = function(t, i, o) {
                            var n = this;
                            if ("boolean" == typeof i) o = i, i = null;
                            else if (i < 0 || i >= n.slideCount) return !1;
                            n.unload(), "number" == typeof i ? 0 === i && 0 === n.$slides.length ? e(t).appendTo(n.$slideTrack) : o ? e(t).insertBefore(n.$slides.eq(i)) : e(t).insertAfter(n.$slides.eq(i)) : !0 === o ? e(t).prependTo(n.$slideTrack) : e(t).appendTo(n.$slideTrack), n.$slides = n.$slideTrack.children(this.options.slide), n.$slideTrack.children(this.options.slide).detach(), n.$slideTrack.append(n.$slides), n.$slides.each(function(t, i) {
                                e(i).attr("data-slick-index", t)
                            }), n.$slidesCache = n.$slides, n.reinit()
                        }, t.prototype.animateHeight = function() {
                            var e = this;
                            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                                e.$list.animate({
                                    height: t
                                }, e.options.speed)
                            }
                        }, t.prototype.animateSlide = function(t, i) {
                            var o = {},
                                n = this;
                            n.animateHeight(), !0 === n.options.rtl && !1 === n.options.vertical && (t = -t), !1 === n.transformsEnabled ? !1 === n.options.vertical ? n.$slideTrack.animate({
                                left: t
                            }, n.options.speed, n.options.easing, i) : n.$slideTrack.animate({
                                top: t
                            }, n.options.speed, n.options.easing, i) : !1 === n.cssTransitions ? (!0 === n.options.rtl && (n.currentLeft = -n.currentLeft), e({
                                animStart: n.currentLeft
                            }).animate({
                                animStart: t
                            }, {
                                duration: n.options.speed,
                                easing: n.options.easing,
                                step: function(e) {
                                    e = Math.ceil(e), !1 === n.options.vertical ? (o[n.animType] = "translate(" + e + "px, 0px)", n.$slideTrack.css(o)) : (o[n.animType] = "translate(0px," + e + "px)", n.$slideTrack.css(o))
                                },
                                complete: function() {
                                    i && i.call()
                                }
                            })) : (n.applyTransition(), t = Math.ceil(t), !1 === n.options.vertical ? o[n.animType] = "translate3d(" + t + "px, 0px, 0px)" : o[n.animType] = "translate3d(0px," + t + "px, 0px)", n.$slideTrack.css(o), i && setTimeout(function() {
                                n.disableTransition(), i.call()
                            }, n.options.speed))
                        }, t.prototype.getNavTarget = function() {
                            var t = this,
                                i = t.options.asNavFor;
                            return i && null !== i && (i = e(i).not(t.$slider)), i
                        }, t.prototype.asNavFor = function(t) {
                            var i = this,
                                o = i.getNavTarget();
                            null !== o && "object" == typeof o && o.each(function() {
                                var i = e(this).slick("getSlick");
                                i.unslicked || i.slideHandler(t, !0)
                            })
                        }, t.prototype.applyTransition = function(e) {
                            var t = this,
                                i = {};
                            !1 === t.options.fade ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase, !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
                        }, t.prototype.autoPlay = function() {
                            var e = this;
                            e.autoPlayClear(), e.slideCount > e.options.slidesToShow && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed))
                        }, t.prototype.autoPlayClear = function() {
                            var e = this;
                            e.autoPlayTimer && clearInterval(e.autoPlayTimer)
                        }, t.prototype.autoPlayIterator = function() {
                            var e = this,
                                t = e.currentSlide + e.options.slidesToScroll;
                            e.paused || e.interrupted || e.focussed || (!1 === e.options.infinite && (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1 ? e.direction = 0 : 0 === e.direction && (t = e.currentSlide - e.options.slidesToScroll, e.currentSlide - 1 == 0 && (e.direction = 1))), e.slideHandler(t))
                        }, t.prototype.buildArrows = function() {
                            var t = this;
                            !0 === t.options.arrows && (t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow"), t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow"), t.slideCount > t.options.slidesToShow ? (t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.prependTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), !0 !== t.options.infinite && t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({
                                "aria-disabled": "true",
                                tabindex: "-1"
                            }))
                        }, t.prototype.buildDots = function() {
                            var t, i, o = this;
                            if (!0 === o.options.dots && o.slideCount > o.options.slidesToShow) {
                                for (o.$slider.addClass("slick-dotted"), i = e("<ul />").addClass(o.options.dotsClass), t = 0; t <= o.getDotCount(); t += 1) i.append(e("<li />").append(o.options.customPaging.call(this, o, t)));
                                o.$dots = i.appendTo(o.options.appendDots), o.$dots.find("li").first().addClass("slick-active")
                            }
                        }, t.prototype.buildOut = function() {
                            var t = this;
                            t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function(t, i) {
                                e(i).attr("data-slick-index", t).data("originalStyling", e(i).attr("style") || "")
                            }), t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), !0 !== t.options.centerMode && !0 !== t.options.swipeToSlide || (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), !0 === t.options.draggable && t.$list.addClass("draggable")
                        }, t.prototype.buildRows = function() {
                            var e, t, i, o, n, a, s, r = this;
                            if (o = document.createDocumentFragment(), a = r.$slider.children(), r.options.rows > 0) {
                                for (s = r.options.slidesPerRow * r.options.rows, n = Math.ceil(a.length / s), e = 0; e < n; e++) {
                                    var l = document.createElement("div");
                                    for (t = 0; t < r.options.rows; t++) {
                                        var d = document.createElement("div");
                                        for (i = 0; i < r.options.slidesPerRow; i++) {
                                            var c = e * s + (t * r.options.slidesPerRow + i);
                                            a.get(c) && d.appendChild(a.get(c))
                                        }
                                        l.appendChild(d)
                                    }
                                    o.appendChild(l)
                                }
                                r.$slider.empty().append(o), r.$slider.children().children().children().css({
                                    width: 100 / r.options.slidesPerRow + "%",
                                    display: "inline-block"
                                })
                            }
                        }, t.prototype.checkResponsive = function(t, i) {
                            var o, n, a, s = this,
                                r = !1,
                                l = s.$slider.width(),
                                d = window.innerWidth || e(window).width();
                            if ("window" === s.respondTo ? a = d : "slider" === s.respondTo ? a = l : "min" === s.respondTo && (a = Math.min(d, l)), s.options.responsive && s.options.responsive.length && null !== s.options.responsive) {
                                n = null;
                                for (o in s.breakpoints) s.breakpoints.hasOwnProperty(o) && (!1 === s.originalSettings.mobileFirst ? a < s.breakpoints[o] && (n = s.breakpoints[o]) : a > s.breakpoints[o] && (n = s.breakpoints[o]));
                                null !== n ? null !== s.activeBreakpoint ? (n !== s.activeBreakpoint || i) && (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : (s.activeBreakpoint = n, "unslick" === s.breakpointSettings[n] ? s.unslick(n) : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[n]), !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t)), r = n) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, !0 === t && (s.currentSlide = s.options.initialSlide), s.refresh(t), r = n), t || !1 === r || s.$slider.trigger("breakpoint", [s, r])
                            }
                        }, t.prototype.changeSlide = function(t, i) {
                            var o, n, a, s = this,
                                r = e(t.currentTarget);
                            switch (r.is("a") && t.preventDefault(), r.is("li") || (r = r.closest("li")), a = s.slideCount % s.options.slidesToScroll != 0, o = a ? 0 : (s.slideCount - s.currentSlide) % s.options.slidesToScroll, t.data.message) {
                                case "previous":
                                    n = 0 === o ? s.options.slidesToScroll : s.options.slidesToShow - o, s.slideCount > s.options.slidesToShow && s.slideHandler(Math.max(0, s.currentSlide - n), !1, i);
                                    break;
                                case "next":
                                    n = 0 === o ? s.options.slidesToScroll : o, s.slideCount > s.options.slidesToShow && (n = Math.min(s.slideCount - s.currentSlide - n, n), s.slideHandler(s.currentSlide + n, !1, i));
                                    break;
                                case "index":
                                    var l = 0 === t.data.index ? 0 : t.data.index || r.index() * s.options.slidesToScroll;
                                    s.slideHandler(s.checkNavigable(l), !1, i), r.children().trigger("focus");
                                    break;
                                default:
                                    return
                            }
                        }, t.prototype.checkNavigable = function(e) {
                            var t, i, o = this;
                            if (t = o.getNavigableIndexes(), i = 0, e > t[t.length - 1]) e = t[t.length - 1];
                            else
                                for (var n in t) {
                                    if (e < t[n]) {
                                        e = i;
                                        break
                                    }
                                    i = t[n]
                                }
                            return e
                        }, t.prototype.cleanUpEvents = function() {
                            var t = this;
                            t.options.dots && null !== t.$dots && (e("li", t.$dots).off("click.slick", t.changeSlide).off("mouseenter.slick", e.proxy(t.interrupt, t, !0)).off("mouseleave.slick", e.proxy(t.interrupt, t, !1)), !0 === t.options.accessibility && t.$dots.off("keydown.slick", t.keyHandler)), t.$slider.off("focus.slick blur.slick"), !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide), t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide), !0 === t.options.accessibility && (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler), t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))), t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler), t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler), t.$list.off("touchend.slick mouseup.slick", t.swipeHandler), t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler), t.$list.off("click.slick", t.clickHandler), e(document).off(t.visibilityChange, t.visibility), t.cleanUpSlideEvents(), !0 === t.options.accessibility && t.$list.off("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().off("click.slick", t.selectHandler), e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange), e(window).off("resize.slick.slick-" + t.instanceUid, t.resize), e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault), e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition)
                        }, t.prototype.cleanUpSlideEvents = function() {
                            var t = this;
                            t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1))
                        }, t.prototype.cleanUpRows = function() {
                            var e, t = this;
                            t.options.rows > 0 && (e = t.$slides.children().children(), e.removeAttr("style"), t.$slider.empty().append(e))
                        }, t.prototype.clickHandler = function(e) {
                            !1 === this.shouldClick && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault())
                        }, t.prototype.destroy = function(t) {
                            var i = this;
                            i.autoPlayClear(), i.touchObject = {}, i.cleanUpEvents(), e(".slick-cloned", i.$slider).detach(), i.$dots && i.$dots.remove(), i.$prevArrow && i.$prevArrow.length && (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()), i.$nextArrow && i.$nextArrow.length && (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""), i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()), i.$slides && (i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function() {
                                e(this).attr("style", e(this).data("originalStyling"))
                            }), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.detach(), i.$list.detach(), i.$slider.append(i.$slides)), i.cleanUpRows(), i.$slider.removeClass("slick-slider"), i.$slider.removeClass("slick-initialized"), i.$slider.removeClass("slick-dotted"), i.unslicked = !0, t || i.$slider.trigger("destroy", [i])
                        }, t.prototype.disableTransition = function(e) {
                            var t = this,
                                i = {};
                            i[t.transitionType] = "", !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
                        }, t.prototype.fadeSlide = function(e, t) {
                            var i = this;
                            !1 === i.cssTransitions ? (i.$slides.eq(e).css({
                                zIndex: i.options.zIndex
                            }), i.$slides.eq(e).animate({
                                opacity: 1
                            }, i.options.speed, i.options.easing, t)) : (i.applyTransition(e), i.$slides.eq(e).css({
                                opacity: 1,
                                zIndex: i.options.zIndex
                            }), t && setTimeout(function() {
                                i.disableTransition(e), t.call()
                            }, i.options.speed))
                        }, t.prototype.fadeSlideOut = function(e) {
                            var t = this;
                            !1 === t.cssTransitions ? t.$slides.eq(e).animate({
                                opacity: 0,
                                zIndex: t.options.zIndex - 2
                            }, t.options.speed, t.options.easing) : (t.applyTransition(e), t.$slides.eq(e).css({
                                opacity: 0,
                                zIndex: t.options.zIndex - 2
                            }))
                        }, t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
                            var t = this;
                            null !== e && (t.$slidesCache = t.$slides, t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit())
                        }, t.prototype.focusHandler = function() {
                            var t = this;
                            t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", function(i) {
                                i.stopImmediatePropagation();
                                var o = e(this);
                                setTimeout(function() {
                                    t.options.pauseOnFocus && (t.focussed = o.is(":focus"), t.autoPlay())
                                }, 0)
                            })
                        }, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
                            return this.currentSlide
                        }, t.prototype.getDotCount = function() {
                            var e = this,
                                t = 0,
                                i = 0,
                                o = 0;
                            if (!0 === e.options.infinite)
                                if (e.slideCount <= e.options.slidesToShow) ++o;
                                else
                                    for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
                            else if (!0 === e.options.centerMode) o = e.slideCount;
                            else if (e.options.asNavFor)
                                for (; t < e.slideCount;) ++o, t = i + e.options.slidesToScroll, i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
                            else o = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
                            return o - 1
                        }, t.prototype.getLeft = function(e) {
                            var t, i, o, n, a = this,
                                s = 0;
                            return a.slideOffset = 0, i = a.$slides.first().outerHeight(!0), !0 === a.options.infinite ? (a.slideCount > a.options.slidesToShow && (a.slideOffset = a.slideWidth * a.options.slidesToShow * -1, n = -1, !0 === a.options.vertical && !0 === a.options.centerMode && (2 === a.options.slidesToShow ? n = -1.5 : 1 === a.options.slidesToShow && (n = -2)), s = i * a.options.slidesToShow * n), a.slideCount % a.options.slidesToScroll != 0 && e + a.options.slidesToScroll > a.slideCount && a.slideCount > a.options.slidesToShow && (e > a.slideCount ? (a.slideOffset = (a.options.slidesToShow - (e - a.slideCount)) * a.slideWidth * -1, s = (a.options.slidesToShow - (e - a.slideCount)) * i * -1) : (a.slideOffset = a.slideCount % a.options.slidesToScroll * a.slideWidth * -1, s = a.slideCount % a.options.slidesToScroll * i * -1))) : e + a.options.slidesToShow > a.slideCount && (a.slideOffset = (e + a.options.slidesToShow - a.slideCount) * a.slideWidth, s = (e + a.options.slidesToShow - a.slideCount) * i), a.slideCount <= a.options.slidesToShow && (a.slideOffset = 0, s = 0), !0 === a.options.centerMode && a.slideCount <= a.options.slidesToShow ? a.slideOffset = a.slideWidth * Math.floor(a.options.slidesToShow) / 2 - a.slideWidth * a.slideCount / 2 : !0 === a.options.centerMode && !0 === a.options.infinite ? a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2) - a.slideWidth : !0 === a.options.centerMode && (a.slideOffset = 0, a.slideOffset += a.slideWidth * Math.floor(a.options.slidesToShow / 2)), t = !1 === a.options.vertical ? e * a.slideWidth * -1 + a.slideOffset : e * i * -1 + s, !0 === a.options.variableWidth && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, !0 === a.options.centerMode && (o = a.slideCount <= a.options.slidesToShow || !1 === a.options.infinite ? a.$slideTrack.children(".slick-slide").eq(e) : a.$slideTrack.children(".slick-slide").eq(e + a.options.slidesToShow + 1), t = !0 === a.options.rtl ? o[0] ? -1 * (a.$slideTrack.width() - o[0].offsetLeft - o.width()) : 0 : o[0] ? -1 * o[0].offsetLeft : 0, t += (a.$list.width() - o.outerWidth()) / 2)), t
                        }, t.prototype.getOption = t.prototype.slickGetOption = function(e) {
                            return this.options[e]
                        }, t.prototype.getNavigableIndexes = function() {
                            var e, t = this,
                                i = 0,
                                o = 0,
                                n = [];
                            for (!1 === t.options.infinite ? e = t.slideCount : (i = -1 * t.options.slidesToScroll, o = -1 * t.options.slidesToScroll, e = 2 * t.slideCount); i < e;) n.push(i), i = o + t.options.slidesToScroll, o += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
                            return n
                        }, t.prototype.getSlick = function() {
                            return this
                        }, t.prototype.getSlideCount = function() {
                            var t, i, o = this;
                            return i = !0 === o.options.centerMode ? o.slideWidth * Math.floor(o.options.slidesToShow / 2) : 0, !0 === o.options.swipeToSlide ? (o.$slideTrack.find(".slick-slide").each(function(n, a) {
                                if (a.offsetLeft - i + e(a).outerWidth() / 2 > -1 * o.swipeLeft) return t = a, !1
                            }), Math.abs(e(t).attr("data-slick-index") - o.currentSlide) || 1) : o.options.slidesToScroll
                        }, t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
                            this.changeSlide({
                                data: {
                                    message: "index",
                                    index: parseInt(e)
                                }
                            }, t)
                        }, t.prototype.init = function(t) {
                            var i = this;
                            e(i.$slider).hasClass("slick-initialized") || (e(i.$slider).addClass("slick-initialized"), i.buildRows(), i.buildOut(), i.setProps(), i.startLoad(), i.loadSlider(), i.initializeEvents(), i.updateArrows(), i.updateDots(), i.checkResponsive(!0), i.focusHandler()), t && i.$slider.trigger("init", [i]), !0 === i.options.accessibility && i.initADA(), i.options.autoplay && (i.paused = !1, i.autoPlay())
                        }, t.prototype.initADA = function() {
                            var t = this,
                                i = Math.ceil(t.slideCount / t.options.slidesToShow),
                                o = t.getNavigableIndexes().filter(function(e) {
                                    return e >= 0 && e < t.slideCount
                                });
                            t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({
                                "aria-hidden": "true",
                                tabindex: "-1"
                            }).find("a, input, button, select").attr({
                                tabindex: "-1"
                            }), null !== t.$dots && (t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i) {
                                var n = o.indexOf(i);
                                if (e(this).attr({
                                        role: "tabpanel",
                                        id: "slick-slide" + t.instanceUid + i,
                                        tabindex: -1
                                    }), -1 !== n) {
                                    var a = "slick-slide-control" + t.instanceUid + n;
                                    e("#" + a).length && e(this).attr({
                                        "aria-describedby": a
                                    })
                                }
                            }), t.$dots.attr("role", "tablist").find("li").each(function(n) {
                                var a = o[n];
                                e(this).attr({
                                    role: "presentation"
                                }), e(this).find("button").first().attr({
                                    role: "tab",
                                    id: "slick-slide-control" + t.instanceUid + n,
                                    "aria-controls": "slick-slide" + t.instanceUid + a,
                                    "aria-label": n + 1 + " of " + i,
                                    "aria-selected": null,
                                    tabindex: "-1"
                                })
                            }).eq(t.currentSlide).find("button").attr({
                                "aria-selected": "true",
                                tabindex: "0"
                            }).end());
                            for (var n = t.currentSlide, a = n + t.options.slidesToShow; n < a; n++) t.options.focusOnChange ? t.$slides.eq(n).attr({
                                tabindex: "0"
                            }) : t.$slides.eq(n).removeAttr("tabindex");
                            t.activateADA()
                        }, t.prototype.initArrowEvents = function() {
                            var e = this;
                            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.off("click.slick").on("click.slick", {
                                message: "previous"
                            }, e.changeSlide), e.$nextArrow.off("click.slick").on("click.slick", {
                                message: "next"
                            }, e.changeSlide), !0 === e.options.accessibility && (e.$prevArrow.on("keydown.slick", e.keyHandler), e.$nextArrow.on("keydown.slick", e.keyHandler)))
                        }, t.prototype.initDotEvents = function() {
                            var t = this;
                            !0 === t.options.dots && t.slideCount > t.options.slidesToShow && (e("li", t.$dots).on("click.slick", {
                                message: "index"
                            }, t.changeSlide), !0 === t.options.accessibility && t.$dots.on("keydown.slick", t.keyHandler)), !0 === t.options.dots && !0 === t.options.pauseOnDotsHover && t.slideCount > t.options.slidesToShow && e("li", t.$dots).on("mouseenter.slick", e.proxy(t.interrupt, t, !0)).on("mouseleave.slick", e.proxy(t.interrupt, t, !1))
                        }, t.prototype.initSlideEvents = function() {
                            var t = this;
                            t.options.pauseOnHover && (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)))
                        }, t.prototype.initializeEvents = function() {
                            var t = this;
                            t.initArrowEvents(), t.initDotEvents(), t.initSlideEvents(), t.$list.on("touchstart.slick mousedown.slick", {
                                action: "start"
                            }, t.swipeHandler), t.$list.on("touchmove.slick mousemove.slick", {
                                action: "move"
                            }, t.swipeHandler), t.$list.on("touchend.slick mouseup.slick", {
                                action: "end"
                            }, t.swipeHandler), t.$list.on("touchcancel.slick mouseleave.slick", {
                                action: "end"
                            }, t.swipeHandler), t.$list.on("click.slick", t.clickHandler), e(document).on(t.visibilityChange, e.proxy(t.visibility, t)), !0 === t.options.accessibility && t.$list.on("keydown.slick", t.keyHandler), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), e(window).on("orientationchange.slick.slick-" + t.instanceUid, e.proxy(t.orientationChange, t)), e(window).on("resize.slick.slick-" + t.instanceUid, e.proxy(t.resize, t)), e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault), e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition), e(t.setPosition)
                        }, t.prototype.initUI = function() {
                            var e = this;
                            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.show()
                        }, t.prototype.keyHandler = function(e) {
                            var t = this;
                            e.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === e.keyCode && !0 === t.options.accessibility ? t.changeSlide({
                                data: {
                                    message: !0 === t.options.rtl ? "next" : "previous"
                                }
                            }) : 39 === e.keyCode && !0 === t.options.accessibility && t.changeSlide({
                                data: {
                                    message: !0 === t.options.rtl ? "previous" : "next"
                                }
                            }))
                        }, t.prototype.lazyLoad = function() {
                            function t(t) {
                                e("img[data-lazy]", t).each(function() {
                                    var t = e(this),
                                        i = e(this).attr("data-lazy"),
                                        o = e(this).attr("data-srcset"),
                                        n = e(this).attr("data-sizes") || s.$slider.attr("data-sizes"),
                                        a = document.createElement("img");
                                    a.onload = function() {
                                        t.animate({
                                            opacity: 0
                                        }, 100, function() {
                                            o && (t.attr("srcset", o), n && t.attr("sizes", n)), t.attr("src", i).animate({
                                                opacity: 1
                                            }, 200, function() {
                                                t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")
                                            }), s.$slider.trigger("lazyLoaded", [s, t, i])
                                        })
                                    }, a.onerror = function() {
                                        t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), s.$slider.trigger("lazyLoadError", [s, t, i])
                                    }, a.src = i
                                })
                            }
                            var i, o, n, a, s = this;
                            if (!0 === s.options.centerMode ? !0 === s.options.infinite ? (n = s.currentSlide + (s.options.slidesToShow / 2 + 1), a = n + s.options.slidesToShow + 2) : (n = Math.max(0, s.currentSlide - (s.options.slidesToShow / 2 + 1)), a = s.options.slidesToShow / 2 + 1 + 2 + s.currentSlide) : (n = s.options.infinite ? s.options.slidesToShow + s.currentSlide : s.currentSlide, a = Math.ceil(n + s.options.slidesToShow), !0 === s.options.fade && (n > 0 && n--, a <= s.slideCount && a++)), i = s.$slider.find(".slick-slide").slice(n, a), "anticipated" === s.options.lazyLoad)
                                for (var r = n - 1, l = a, d = s.$slider.find(".slick-slide"), c = 0; c < s.options.slidesToScroll; c++) r < 0 && (r = s.slideCount - 1), i = i.add(d.eq(r)), i = i.add(d.eq(l)), r--, l++;
                            t(i), s.slideCount <= s.options.slidesToShow ? (o = s.$slider.find(".slick-slide"), t(o)) : s.currentSlide >= s.slideCount - s.options.slidesToShow ? (o = s.$slider.find(".slick-cloned").slice(0, s.options.slidesToShow), t(o)) : 0 === s.currentSlide && (o = s.$slider.find(".slick-cloned").slice(-1 * s.options.slidesToShow), t(o))
                        }, t.prototype.loadSlider = function() {
                            var e = this;
                            e.setPosition(), e.$slideTrack.css({
                                opacity: 1
                            }), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad()
                        }, t.prototype.next = t.prototype.slickNext = function() {
                            this.changeSlide({
                                data: {
                                    message: "next"
                                }
                            })
                        }, t.prototype.orientationChange = function() {
                            var e = this;
                            e.checkResponsive(), e.setPosition()
                        }, t.prototype.pause = t.prototype.slickPause = function() {
                            var e = this;
                            e.autoPlayClear(), e.paused = !0
                        }, t.prototype.play = t.prototype.slickPlay = function() {
                            var e = this;
                            e.autoPlay(), e.options.autoplay = !0, e.paused = !1, e.focussed = !1, e.interrupted = !1
                        }, t.prototype.postSlide = function(t) {
                            var i = this;
                            if (!i.unslicked && (i.$slider.trigger("afterChange", [i, t]), i.animating = !1, i.slideCount > i.options.slidesToShow && i.setPosition(), i.swipeLeft = null, i.options.autoplay && i.autoPlay(), !0 === i.options.accessibility && (i.initADA(), i.options.focusOnChange))) {
                                e(i.$slides.get(i.currentSlide)).attr("tabindex", 0).focus()
                            }
                        }, t.prototype.prev = t.prototype.slickPrev = function() {
                            this.changeSlide({
                                data: {
                                    message: "previous"
                                }
                            })
                        }, t.prototype.preventDefault = function(e) {
                            e.preventDefault()
                        }, t.prototype.progressiveLazyLoad = function(t) {
                            t = t || 1;
                            var i, o, n, a, s, r = this,
                                l = e("img[data-lazy]", r.$slider);
                            l.length ? (i = l.first(), o = i.attr("data-lazy"), n = i.attr("data-srcset"), a = i.attr("data-sizes") || r.$slider.attr("data-sizes"), s = document.createElement("img"), s.onload = function() {
                                n && (i.attr("srcset", n), a && i.attr("sizes", a)), i.attr("src", o).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"), !0 === r.options.adaptiveHeight && r.setPosition(), r.$slider.trigger("lazyLoaded", [r, i, o]), r.progressiveLazyLoad()
                            }, s.onerror = function() {
                                t < 3 ? setTimeout(function() {
                                    r.progressiveLazyLoad(t + 1)
                                }, 500) : (i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), r.$slider.trigger("lazyLoadError", [r, i, o]), r.progressiveLazyLoad())
                            }, s.src = o) : r.$slider.trigger("allImagesLoaded", [r])
                        }, t.prototype.refresh = function(t) {
                            var i, o, n = this;
                            o = n.slideCount - n.options.slidesToShow, !n.options.infinite && n.currentSlide > o && (n.currentSlide = o), n.slideCount <= n.options.slidesToShow && (n.currentSlide = 0), i = n.currentSlide, n.destroy(!0), e.extend(n, n.initials, {
                                currentSlide: i
                            }), n.init(), t || n.changeSlide({
                                data: {
                                    message: "index",
                                    index: i
                                }
                            }, !1)
                        }, t.prototype.registerBreakpoints = function() {
                            var t, i, o, n = this,
                                a = n.options.responsive || null;
                            if ("array" === e.type(a) && a.length) {
                                n.respondTo = n.options.respondTo || "window";
                                for (t in a)
                                    if (o = n.breakpoints.length - 1, a.hasOwnProperty(t)) {
                                        for (i = a[t].breakpoint; o >= 0;) n.breakpoints[o] && n.breakpoints[o] === i && n.breakpoints.splice(o, 1), o--;
                                        n.breakpoints.push(i), n.breakpointSettings[i] = a[t].settings
                                    }
                                n.breakpoints.sort(function(e, t) {
                                    return n.options.mobileFirst ? e - t : t - e
                                })
                            }
                        }, t.prototype.reinit = function() {
                            var t = this;
                            t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.registerBreakpoints(), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.cleanUpSlideEvents(), t.initSlideEvents(), t.checkResponsive(!1, !0), !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler), t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0), t.setPosition(), t.focusHandler(), t.paused = !t.options.autoplay, t.autoPlay(), t.$slider.trigger("reInit", [t])
                        }, t.prototype.resize = function() {
                            var t = this;
                            e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function() {
                                t.windowWidth = e(window).width(), t.checkResponsive(), t.unslicked || t.setPosition()
                            }, 50))
                        }, t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
                            var o = this;
                            if ("boolean" == typeof e ? (t = e, e = !0 === t ? 0 : o.slideCount - 1) : e = !0 === t ? --e : e, o.slideCount < 1 || e < 0 || e > o.slideCount - 1) return !1;
                            o.unload(), !0 === i ? o.$slideTrack.children().remove() : o.$slideTrack.children(this.options.slide).eq(e).remove(), o.$slides = o.$slideTrack.children(this.options.slide), o.$slideTrack.children(this.options.slide).detach(), o.$slideTrack.append(o.$slides), o.$slidesCache = o.$slides, o.reinit()
                        }, t.prototype.setCSS = function(e) {
                            var t, i, o = this,
                                n = {};
                            !0 === o.options.rtl && (e = -e), t = "left" == o.positionProp ? Math.ceil(e) + "px" : "0px", i = "top" == o.positionProp ? Math.ceil(e) + "px" : "0px", n[o.positionProp] = e, !1 === o.transformsEnabled ? o.$slideTrack.css(n) : (n = {}, !1 === o.cssTransitions ? (n[o.animType] = "translate(" + t + ", " + i + ")", o.$slideTrack.css(n)) : (n[o.animType] = "translate3d(" + t + ", " + i + ", 0px)", o.$slideTrack.css(n)))
                        }, t.prototype.setDimensions = function() {
                            var e = this;
                            !1 === e.options.vertical ? !0 === e.options.centerMode && e.$list.css({
                                padding: "0px " + e.options.centerPadding
                            }) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), !0 === e.options.centerMode && e.$list.css({
                                padding: e.options.centerPadding + " 0px"
                            })), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), !1 === e.options.vertical && !1 === e.options.variableWidth ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : !0 === e.options.variableWidth ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
                            var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
                            !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
                        }, t.prototype.setFade = function() {
                            var t, i = this;
                            i.$slides.each(function(o, n) {
                                t = i.slideWidth * o * -1, !0 === i.options.rtl ? e(n).css({
                                    position: "relative",
                                    right: t,
                                    top: 0,
                                    zIndex: i.options.zIndex - 2,
                                    opacity: 0
                                }) : e(n).css({
                                    position: "relative",
                                    left: t,
                                    top: 0,
                                    zIndex: i.options.zIndex - 2,
                                    opacity: 0
                                })
                            }), i.$slides.eq(i.currentSlide).css({
                                zIndex: i.options.zIndex - 1,
                                opacity: 1
                            })
                        }, t.prototype.setHeight = function() {
                            var e = this;
                            if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                                var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                                e.$list.css("height", t)
                            }
                        }, t.prototype.setOption = t.prototype.slickSetOption = function() {
                            var t, i, o, n, a, s = this,
                                r = !1;
                            if ("object" === e.type(arguments[0]) ? (o = arguments[0], r = arguments[1], a = "multiple") : "string" === e.type(arguments[0]) && (o = arguments[0], n = arguments[1], r = arguments[2], "responsive" === arguments[0] && "array" === e.type(arguments[1]) ? a = "responsive" : void 0 !== arguments[1] && (a = "single")), "single" === a) s.options[o] = n;
                            else if ("multiple" === a) e.each(o, function(e, t) {
                                s.options[e] = t
                            });
                            else if ("responsive" === a)
                                for (i in n)
                                    if ("array" !== e.type(s.options.responsive)) s.options.responsive = [n[i]];
                                    else {
                                        for (t = s.options.responsive.length - 1; t >= 0;) s.options.responsive[t].breakpoint === n[i].breakpoint && s.options.responsive.splice(t, 1), t--;
                                        s.options.responsive.push(n[i])
                                    }
                            r && (s.unload(), s.reinit())
                        }, t.prototype.setPosition = function() {
                            var e = this;
                            e.setDimensions(), e.setHeight(), !1 === e.options.fade ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(), e.$slider.trigger("setPosition", [e])
                        }, t.prototype.setProps = function() {
                            var e = this,
                                t = document.body.style;
                            e.positionProp = !0 === e.options.vertical ? "top" : "left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"), void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition || !0 === e.options.useCSS && (e.cssTransitions = !0), e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : e.options.zIndex = e.defaults.zIndex), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && !1 !== e.animType && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType
                        }, t.prototype.setSlideClasses = function(e) {
                            var t, i, o, n, a = this;
                            if (i = a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"), a.$slides.eq(e).addClass("slick-current"), !0 === a.options.centerMode) {
                                var s = a.options.slidesToShow % 2 == 0 ? 1 : 0;
                                t = Math.floor(a.options.slidesToShow / 2), !0 === a.options.infinite && (e >= t && e <= a.slideCount - 1 - t ? a.$slides.slice(e - t + s, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") : (o = a.options.slidesToShow + e, i.slice(o - t + 1 + s, o + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? i.eq(i.length - 1 - a.options.slidesToShow).addClass("slick-center") : e === a.slideCount - 1 && i.eq(a.options.slidesToShow).addClass("slick-center")), a.$slides.eq(e).addClass("slick-center")
                            } else e >= 0 && e <= a.slideCount - a.options.slidesToShow ? a.$slides.slice(e, e + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : i.length <= a.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") : (n = a.slideCount % a.options.slidesToShow, o = !0 === a.options.infinite ? a.options.slidesToShow + e : e, a.options.slidesToShow == a.options.slidesToScroll && a.slideCount - e < a.options.slidesToShow ? i.slice(o - (a.options.slidesToShow - n), o + n).addClass("slick-active").attr("aria-hidden", "false") : i.slice(o, o + a.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false"));
                            "ondemand" !== a.options.lazyLoad && "anticipated" !== a.options.lazyLoad || a.lazyLoad()
                        }, t.prototype.setupInfinite = function() {
                            var t, i, o, n = this;
                            if (!0 === n.options.fade && (n.options.centerMode = !1), !0 === n.options.infinite && !1 === n.options.fade && (i = null, n.slideCount > n.options.slidesToShow)) {
                                for (o = !0 === n.options.centerMode ? n.options.slidesToShow + 1 : n.options.slidesToShow, t = n.slideCount; t > n.slideCount - o; t -= 1) i = t - 1, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");
                                for (t = 0; t < o + n.slideCount; t += 1) i = t, e(n.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");
                                n.$slideTrack.find(".slick-cloned").find("[id]").each(function() {
                                    e(this).attr("id", "")
                                })
                            }
                        }, t.prototype.interrupt = function(e) {
                            var t = this;
                            e || t.autoPlay(), t.interrupted = e
                        }, t.prototype.selectHandler = function(t) {
                            var i = this,
                                o = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide"),
                                n = parseInt(o.attr("data-slick-index"));
                            if (n || (n = 0), i.slideCount <= i.options.slidesToShow) return void i.slideHandler(n, !1, !0);
                            i.slideHandler(n)
                        }, t.prototype.slideHandler = function(e, t, i) {
                            var o, n, a, s, r, l = null,
                                d = this;
                            if (t = t || !1, !(!0 === d.animating && !0 === d.options.waitForAnimate || !0 === d.options.fade && d.currentSlide === e)) {
                                if (!1 === t && d.asNavFor(e), o = e, l = d.getLeft(o), s = d.getLeft(d.currentSlide), d.currentLeft = null === d.swipeLeft ? s : d.swipeLeft, !1 === d.options.infinite && !1 === d.options.centerMode && (e < 0 || e > d.getDotCount() * d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                                    d.postSlide(o)
                                }) : d.postSlide(o)));
                                if (!1 === d.options.infinite && !0 === d.options.centerMode && (e < 0 || e > d.slideCount - d.options.slidesToScroll)) return void(!1 === d.options.fade && (o = d.currentSlide, !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(s, function() {
                                    d.postSlide(o)
                                }) : d.postSlide(o)));
                                if (d.options.autoplay && clearInterval(d.autoPlayTimer), n = o < 0 ? d.slideCount % d.options.slidesToScroll != 0 ? d.slideCount - d.slideCount % d.options.slidesToScroll : d.slideCount + o : o >= d.slideCount ? d.slideCount % d.options.slidesToScroll != 0 ? 0 : o - d.slideCount : o, d.animating = !0, d.$slider.trigger("beforeChange", [d, d.currentSlide, n]), a = d.currentSlide, d.currentSlide = n, d.setSlideClasses(d.currentSlide), d.options.asNavFor && (r = d.getNavTarget(), r = r.slick("getSlick"), r.slideCount <= r.options.slidesToShow && r.setSlideClasses(d.currentSlide)), d.updateDots(), d.updateArrows(), !0 === d.options.fade) return !0 !== i ? (d.fadeSlideOut(a), d.fadeSlide(n, function() {
                                    d.postSlide(n)
                                })) : d.postSlide(n), void d.animateHeight();
                                !0 !== i && d.slideCount > d.options.slidesToShow ? d.animateSlide(l, function() {
                                    d.postSlide(n)
                                }) : d.postSlide(n)
                            }
                        }, t.prototype.startLoad = function() {
                            var e = this;
                            !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading")
                        }, t.prototype.swipeDirection = function() {
                            var e, t, i, o, n = this;
                            return e = n.touchObject.startX - n.touchObject.curX, t = n.touchObject.startY - n.touchObject.curY, i = Math.atan2(t, e), o = Math.round(180 * i / Math.PI), o < 0 && (o = 360 - Math.abs(o)), o <= 45 && o >= 0 ? !1 === n.options.rtl ? "left" : "right" : o <= 360 && o >= 315 ? !1 === n.options.rtl ? "left" : "right" : o >= 135 && o <= 225 ? !1 === n.options.rtl ? "right" : "left" : !0 === n.options.verticalSwiping ? o >= 35 && o <= 135 ? "down" : "up" : "vertical"
                        }, t.prototype.swipeEnd = function(e) {
                            var t, i, o = this;
                            if (o.dragging = !1, o.swiping = !1, o.scrolling) return o.scrolling = !1, !1;
                            if (o.interrupted = !1, o.shouldClick = !(o.touchObject.swipeLength > 10), void 0 === o.touchObject.curX) return !1;
                            if (!0 === o.touchObject.edgeHit && o.$slider.trigger("edge", [o, o.swipeDirection()]), o.touchObject.swipeLength >= o.touchObject.minSwipe) {
                                switch (i = o.swipeDirection()) {
                                    case "left":
                                    case "down":
                                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide + o.getSlideCount()) : o.currentSlide + o.getSlideCount(), o.currentDirection = 0;
                                        break;
                                    case "right":
                                    case "up":
                                        t = o.options.swipeToSlide ? o.checkNavigable(o.currentSlide - o.getSlideCount()) : o.currentSlide - o.getSlideCount(), o.currentDirection = 1
                                }
                                "vertical" != i && (o.slideHandler(t), o.touchObject = {}, o.$slider.trigger("swipe", [o, i]))
                            } else o.touchObject.startX !== o.touchObject.curX && (o.slideHandler(o.currentSlide), o.touchObject = {})
                        }, t.prototype.swipeHandler = function(e) {
                            var t = this;
                            if (!(!1 === t.options.swipe || "ontouchend" in document && !1 === t.options.swipe || !1 === t.options.draggable && -1 !== e.type.indexOf("mouse"))) switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold), e.data.action) {
                                case "start":
                                    t.swipeStart(e);
                                    break;
                                case "move":
                                    t.swipeMove(e);
                                    break;
                                case "end":
                                    t.swipeEnd(e)
                            }
                        }, t.prototype.swipeMove = function(e) {
                            var t, i, o, n, a, s, r = this;
                            return a = void 0 !== e.originalEvent ? e.originalEvent.touches : null, !(!r.dragging || r.scrolling || a && 1 !== a.length) && (t = r.getLeft(r.currentSlide), r.touchObject.curX = void 0 !== a ? a[0].pageX : e.clientX, r.touchObject.curY = void 0 !== a ? a[0].pageY : e.clientY, r.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(r.touchObject.curX - r.touchObject.startX, 2))), s = Math.round(Math.sqrt(Math.pow(r.touchObject.curY - r.touchObject.startY, 2))), !r.options.verticalSwiping && !r.swiping && s > 4 ? (r.scrolling = !0, !1) : (!0 === r.options.verticalSwiping && (r.touchObject.swipeLength = s), i = r.swipeDirection(), void 0 !== e.originalEvent && r.touchObject.swipeLength > 4 && (r.swiping = !0, e.preventDefault()), n = (!1 === r.options.rtl ? 1 : -1) * (r.touchObject.curX > r.touchObject.startX ? 1 : -1), !0 === r.options.verticalSwiping && (n = r.touchObject.curY > r.touchObject.startY ? 1 : -1), o = r.touchObject.swipeLength, r.touchObject.edgeHit = !1, !1 === r.options.infinite && (0 === r.currentSlide && "right" === i || r.currentSlide >= r.getDotCount() && "left" === i) && (o = r.touchObject.swipeLength * r.options.edgeFriction, r.touchObject.edgeHit = !0), !1 === r.options.vertical ? r.swipeLeft = t + o * n : r.swipeLeft = t + o * (r.$list.height() / r.listWidth) * n, !0 === r.options.verticalSwiping && (r.swipeLeft = t + o * n), !0 !== r.options.fade && !1 !== r.options.touchMove && (!0 === r.animating ? (r.swipeLeft = null, !1) : void r.setCSS(r.swipeLeft))))
                        }, t.prototype.swipeStart = function(e) {
                            var t, i = this;
                            if (i.interrupted = !0, 1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow) return i.touchObject = {}, !1;
                            void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX, i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY, i.dragging = !0
                        }, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
                            var e = this;
                            null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit())
                        }, t.prototype.unload = function() {
                            var t = this;
                            e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove(), t.$nextArrow && t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
                        }, t.prototype.unslick = function(e) {
                            var t = this;
                            t.$slider.trigger("unslick", [t, e]), t.destroy()
                        }, t.prototype.updateArrows = function() {
                            var e = this;
                            Math.floor(e.options.slidesToShow / 2), !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"), 0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode ? (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
                        }, t.prototype.updateDots = function() {
                            var e = this;
                            null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").end(), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active"))
                        }, t.prototype.visibility = function() {
                            var e = this;
                            e.options.autoplay && (document[e.hidden] ? e.interrupted = !0 : e.interrupted = !1)
                        }, e.fn.slick = function() {
                            var e, i, o = this,
                                n = arguments[0],
                                a = Array.prototype.slice.call(arguments, 1),
                                s = o.length;
                            for (e = 0; e < s; e++)
                                if ("object" == typeof n || void 0 === n ? o[e].slick = new t(o[e], n) : i = o[e].slick[n].apply(o[e].slick, a), void 0 !== i) return i;
                            return o
                        }
                    }),
                    function(e, t) {
                        "use strict";

                        function i(i, a) {
                            var s = this;
                            s.$el = e(i), s.el = i, s.$el.bind("destroyed", e.proxy(s.teardown, s)), s.$window = e(t), s.$clonedHeader = null, s.$originalHeader = null, s.isCloneVisible = !1, s.leftOffset = null, s.topOffset = null, s.init = function() {
                                s.options = e.extend({}, n, a), s.$el.each(function() {
                                    var t = e(this);
                                    t.css("padding", 0), s.$originalHeader = e("thead:first", this), s.$clonedHeader = s.$originalHeader.clone(), s.$clonedHeader.addClass("tableFloatingHeader"), s.$clonedHeader.css({
                                        position: "fixed",
                                        top: 0,
                                        "z-index": 1,
                                        display: "none"
                                    }), s.$originalHeader.addClass("tableFloatingHeaderOriginal"), s.$originalHeader.after(s.$clonedHeader), e("th", s.$clonedHeader).on("click." + o, function() {
                                        var t = e("th", s.$clonedHeader).index(this);
                                        e("th", s.$originalHeader).eq(t).click()
                                    }), t.on("sortEnd." + o, s.updateWidth)
                                }), s.updateWidth(), s.toggleHeaders(), s.bind()
                            }, s.destroy = function() {
                                s.$el.unbind("destroyed", s.teardown), s.teardown()
                            }, s.teardown = function() {
                                e.removeData(s.el, "plugin_" + o), s.unbind(), s.$clonedHeader.remove(), s.$originalHeader.removeClass("tableFloatingHeaderOriginal"), s.$originalHeader.css("visibility", "visible"), s.el = null, s.$el = null
                            }, s.bind = function() {
                                s.$window.on("scroll." + o, s.toggleHeaders), s.$window.on("resize." + o, s.toggleHeaders), s.$window.on("resize." + o, s.updateWidth)
                            }, s.unbind = function() {
                                s.$window.off("." + o, s.toggleHeaders), s.$window.off("." + o, s.updateWidth), s.$el.off("." + o), s.$el.find("*").off("." + o)
                            }, s.toggleHeaders = function() {
                                s.$el.each(function() {
                                    var t = e(this),
                                        i = isNaN(s.options.fixedOffset) ? s.options.fixedOffset.height() : s.options.fixedOffset,
                                        o = t.offset(),
                                        n = s.$window.scrollTop() + i,
                                        a = s.$window.scrollLeft();
                                    if (n > o.top && o.top + t.height() > n) {
                                        var r = o.left - a;
                                        if (s.isCloneVisible && r === s.leftOffset && i === s.topOffset) return;
                                        s.$clonedHeader.css({
                                            top: i,
                                            "margin-top": 0,
                                            left: r,
                                            display: "block"
                                        }), s.$originalHeader.css("visibility", "hidden"), s.isCloneVisible = !0, s.leftOffset = r, s.topOffset = i
                                    } else s.isCloneVisible && (s.$clonedHeader.css("display", "none"), s.$originalHeader.css("visibility", "visible"), s.isCloneVisible = !1)
                                })
                            }, s.updateWidth = function() {
                                e("th", s.$clonedHeader).each(function(t) {
                                    var i = e(this),
                                        o = e("th", s.$originalHeader).eq(t);
                                    this.className = o.attr("class") || "", i.css("width", o.width())
                                }), s.$clonedHeader.css("width", s.$originalHeader.width())
                            }, s.init()
                        }
                        var o = "stickyTableHeaders",
                            n = {
                                fixedOffset: 0
                            };
                        e.fn[o] = function(t) {
                            return this.each(function() {
                                var n = e.data(this, "plugin_" + o);
                                n ? "string" == typeof t && n[t].apply(n) : "destroy" !== t && e.data(this, "plugin_" + o, new i(this, t))
                            })
                        }
                    }(jQuery, window),
                    function(e) {
                        e.fn.unveil = function(t, i) {
                            function o() {
                                var t = r.filter(function() {
                                    var t = e(this);
                                    if (!t.is(":hidden")) {
                                        var i = a.scrollTop(),
                                            o = i + a.height(),
                                            n = t.offset().top;
                                        return n + t.height() >= i - s && n <= o + s
                                    }
                                });
                                n = t.trigger("unveil"), r = r.not(n)
                            }
                            var n, a = e(window),
                                s = t || 0,
                                r = this;
                            return this.one("unveil", function() {
                                var e = this.getAttribute("data-src");
                                (e = e || this.getAttribute("data-src")) && (this.setAttribute("src", e), "function" == typeof i && i.call(this))
                            }), a.on("scroll.unveil resize.unveil lookup.unveil", o), o(), this
                        }
                    }(window.jQuery),
                    function(e) {
                        e.fn.visible = function(t) {
                            var i = e(this),
                                o = e(window),
                                n = o.scrollTop(),
                                a = n + o.height(),
                                s = i.offset().top,
                                r = s + i.height(),
                                l = !0 === t ? r : s;
                            return (!0 === t ? s : r) <= a && l >= n
                        }
                    }(jQuery),
                    function(e) {
                        "use strict";

                        function t(e) {
                            var t = ++s;
                            return String(null == e ? "rmjs-" : e) + t
                        }

                        function i(e) {
                            var t = e.clone().css({
                                    height: "auto",
                                    width: e.width(),
                                    maxHeight: "none",
                                    overflow: "hidden"
                                }).insertAfter(e),
                                i = t.outerHeight(),
                                o = parseInt(t.css({
                                    maxHeight: ""
                                }).css("max-height").replace(/[^-\d\.]/g, ""), 10),
                                n = e.data("defaultHeight");
                            t.remove();
                            var a = o || e.data("collapsedHeight") || n;
                            e.data({
                                expandedHeight: i,
                                maxHeight: o,
                                collapsedHeight: a
                            }).css({
                                maxHeight: "none"
                            })
                        }

                        function o(t, i) {
                            this.element = t, this.options = e.extend({}, a, i), this._name = n, this.init(), window.addEventListener ? (window.addEventListener("load", r), window.addEventListener("resize", r)) : (window.attachEvent("load", r), window.attachEvent("resize", r))
                        }
                        var n = "readmore",
                            a = {
                                heightMargin: 16,
                                moreLink: '<a class="pure-1" href="#">Read More</a>',
                                lessLink: '<a href="#">Collapse</a>',
                                blockCSS: "display: block; width: 100%;"
                            },
                            s = 0,
                            r = function(e, t, i) {
                                var o;
                                return function() {
                                    var n = this,
                                        a = arguments,
                                        s = function() {
                                            o = null, i || e.apply(n, a)
                                        },
                                        r = i && !o;
                                    clearTimeout(o), o = setTimeout(s, t), r && e.apply(n, a)
                                }
                            }(function() {
                                e("[data-readmore]").each(function() {
                                    var t = e(this),
                                        o = "true" === t.attr("aria-expanded");
                                    i(t), t.css({
                                        height: t.data(o ? "expandedHeight" : "collapsedHeight")
                                    })
                                })
                            }, 100);
                        o.prototype = {
                            init: function() {
                                var o = this,
                                    n = e(this.element);
                                n.data({
                                    defaultHeight: this.options.collapsedHeight,
                                    heightMargin: this.options.heightMargin
                                }), i(n);
                                var a = n.data("collapsedHeight"),
                                    s = n.data("heightMargin");
                                if (n.outerHeight(!0) <= a + s) return n.addClass("open"), !0;
                                var r = n.attr("id") || t();
                                n.attr({
                                    "data-readmore": "",
                                    "aria-expanded": !1,
                                    id: r
                                }), n.after(e(o.options.moreLink).on("click", function(e) {
                                    o.toggle(this, n[0], e)
                                }).attr({
                                    "data-readmore-toggle": "",
                                    "aria-controls": r
                                })), n.css({
                                    height: a
                                })
                            },
                            toggle: function(t, i, o) {
                                o && o.preventDefault(), t || (t = e('[aria-controls="' + this.element.id + '"]')[0]), i || (i = this.element);
                                var n = this,
                                    a = e(i),
                                    s = !1,
                                    r = a.data("collapsedHeight"),
                                    l = r,
                                    d = "moreLink";
                                a.height() <= r ? (l = a.data("expandedHeight") + "px", s = !0, a.addClass("open"), d = "lessLink") : a.removeClass("open"), a.css({
                                    height: l
                                }), a.on("transitionend", function() {
                                    e(this).attr({
                                        "aria-expanded": s
                                    }).off("transitionend")
                                }), e(t).replaceWith(e(n.options[d]).on("click", function(e) {
                                    n.toggle(this, i, e)
                                }).attr({
                                    "data-readmore-toggle": "",
                                    "aria-controls": a.attr("id"),
                                    class: "pure-1"
                                }))
                            },
                            destroy: function() {
                                e(this.element).each(function() {
                                    var t = e(this);
                                    t.attr({
                                        "data-readmore": null,
                                        "aria-expanded": null
                                    }).css({
                                        maxHeight: "",
                                        height: ""
                                    }).next("[data-readmore-toggle]").remove(), t.removeData()
                                })
                            }
                        }, e.fn.readmore = function() {
                            return this.each(function() {
                                if (e.data(this, "plugin_" + n)) {
                                    var t = e.data(this, "plugin_" + n);
                                    t.destroy.apply(t)
                                }
                                e.data(this, "plugin_" + n, new o(this, {
                                    selector: this.selector
                                }))
                            })
                        }
                    }(jQuery),
                    function(e) {
                        function t(t, i) {
                            e(".screenshots").click(function() {
                                e.fancybox(t, {
                                    alt: i + " screenshot",
                                    afterLoad: function() {
                                        this.group.length > 1 && (this.title = '<span id="fancybox-title-over-wrap">Image ' + (this.index + 1) + " / " + this.group.length + (this.title ? " - " + this.title : "</span>"))
                                    }
                                }), track("Screenshots", "click")
                            })
                        }
                        Lightbox = {
                            init: t
                        }
                    }(jQuery);
                    const notificationIcon = $(".notificationIcon"),
                        notificationCookieName = "launchNotification",
                        notificationRegex = new RegExp(notificationCookieName + "=(\\d*)"),
                        notificationCookie = document.cookie.match(notificationRegex),
                        notificationNow = Date.now(),
                        notificationThen = notificationNow + 10368e6,
                        notificationModal = $('<div class="notificationModal"><div class="notificationContent"><img src="/inc/img/modal-design.jpg"><div class="notificationText"><h1>3... 2... 1... LIFTOFF!</h1><p>Welcome to the beginning of a new Anime-Planet, with a new brand, and the first of many upcoming visual improvements.</p><a class="button cta" href="/forum/threads/introducing-the-new-anime-planet-brand.332068">Read more about the update</a></div></div></div>');
                    (!notificationCookie || notificationCookie < notificationNow) && notificationIcon.toggle(), notificationIcon.click(function(e) {
                        e.preventDefault(), document.cookie = notificationCookieName + "=" + notificationThen + "; max-age=2592000; path=/", $("body").append(notificationModal), track("Notification", "launch"), notificationModal.click(function(e) {
                            e.currentTarget === e.target && (e.preventDefault(), notificationModal.remove())
                        })
                    }),
                    function() {
                        function e(e, t) {
                            e.on("click", ".pagination a", function(e) {
                                e.preventDefault(), $(".pagination li").removeClass("selected"), $(".pagination a[href='" + $(this).attr("href") + "']").parents("li:not('.prev,.next')").addClass("selected"), t()
                            })
                        }
                        Paginator = {
                            init: e
                        }
                    }();
                    var Rateinator = function() {
                        function e(e, t) {
                            if (e.length) {
                                var i = e.parent().attr("data-type") || e.attr("data-type"),
                                    o = e.attr("data-id");
                                t.dialog({
                                    modal: !0,
                                    title: e.find("h4").text(),
                                    width: 440,
                                    hide: {
                                        effect: "fade",
                                        easing: "easeInBack"
                                    },
                                    show: {
                                        effect: "scale",
                                        easing: "easeOutBack"
                                    },
                                    close: function() {
                                        "0" != t.find(".changeStatus").val() && $(document).trigger("rated", [{
                                            mode: i,
                                            id: o
                                        }]), t.html("")
                                    },
                                    open: function() {
                                        t.html("<div class=\"loader\"></div><button class='close-button cta'>Close</button>"), t.find(".loader").load("/api/list/get/" + i + "/" + o + "/" + TOKEN, function() {
                                            $(this).removeClass("loader"), $(".ui-widget-overlay, .close-button").on("click", function() {
                                                t.dialog("close")
                                            }), initMyListBar(t), initRating(t)
                                        })
                                    }
                                })
                            }
                        }

                        function t(e, t) {
                            if (!0 !== updatingEpisodes[t.data("id")]) {
                                updatingEpisodes[t.data("id")] = !0;
                                var o = t.find(".statusArea"),
                                    n = t.data("episodes");
                                n = isNaN(n) ? 0 : parseInt(n);
                                var a = n + 1;
                                switch (t.data("episode-type")) {
                                    case "episodes":
                                        updateValue = a, shortEpisodeType = a > 1 ? "eps" : "ep";
                                        break;
                                    case "chapters":
                                        updateValue = a + "/0", shortEpisodeType = a > 1 ? "chs" : "ch";
                                        break;
                                    case "volumes":
                                        updateValue = "0/" + a, shortEpisodeType = a > 1 ? "vols" : "vol";
                                        break;
                                    default:
                                        throw "Unknown episode type."
                                }
                                i(o, " " + n + " " + shortEpisodeType + ' <img src="/inc/img/ajax-loader.gif"></img>');
                                var s = t.find("form"),
                                    r = t.data("total-episodes");
                                n != r ? $.getJSON("/api/list/update/" + s.data("mode") + "/" + s.data("id") + "/" + updateValue + "/" + TOKEN, function(e) {
                                    if (e.success) {
                                        a == r && s.remove();
                                        var n = $("form." + e.type + e.id);
                                        n.find(".progress-img").remove(), n.parent().siblings("td").find(".incEps.working").removeClass("working"), t.data("episodes", a), i(o, " " + a + " " + shortEpisodeType), track("Lists", "incr eps", t.data("episode-type"), s.data("id"))
                                    }
                                    e.error ? alert(e.error) : (displayChallenges(e.challenge_popups), displayBadges(e.badges)), updatingEpisodes[t.data("id")] = !1
                                }) : i(o, " " + n + " eps")
                            }
                        }

                        function i(e, t) {
                            e.find("img").remove(), e.contents().filter(function() {
                                return 3 === this.nodeType
                            }).remove(), e.append(t)
                        }
                        var o = $("#tooltipModal");
                        return updatingEpisodes = {}, this.init = function(i, n, a, s) {
                            n = n || "#siteContainer", a = a || ".card", $(n).on({
                                mouseenter: function() {
                                    var e = $(this),
                                        t = e.parent().attr("data-type") || e.attr("data-type"),
                                        i = "rated off cta list-hover'>Add to list",
                                        o = "",
                                        n = ["2", "3", "5"];
                                    if (e.attr("data-status") && !e.hasClass("recommendation") && (0 != e.attr("data-status") && (i = "cta list-hover status" + e.attr("data-status") + "'> Update list"), -1 != n.indexOf(e.attr("data-status")) && (episodeType = e.data("episode-type"), episodeType))) {
                                        switch (episodeType) {
                                            case "episodes":
                                                buttonText = "ep";
                                                break;
                                            case "chapters":
                                                buttonText = "ch";
                                                break;
                                            case "volumes":
                                                buttonText = "vol";
                                                break;
                                            default:
                                                throw "Unknown episode type."
                                        }
                                        episodes = e.data("episodes"), episodes = isNaN(episodes) ? 0 : episodes;
                                        var a = e.data("total-episodes");
                                        episodes != a && (o = "<form data-id='" + e.data("id") + "' data-mode='" + t + "'><button class='increment'>" + buttonText + "</button><form>")
                                    }
                                    fadeToHidden(e.find(".rated.off").finish()), i = "<button class='" + i + "</button>", e.find(".crop").append("<div class='statusBand'>" + o + i + "</div>"), e.find(".statusBand").animate({
                                        bottom: "0"
                                    })
                                },
                                mouseleave: function() {
                                    fadeToHidden($(this).find(".rated.off").finish(), !0), $(this).find(".statusBand").slideDown().remove()
                                }
                            }, a).on("click", ".statusBand button, .statusArea", function(n) {
                                n.preventDefault(), n.stopPropagation();
                                var s = $(this).parents(a);
                                if (!i) return void needToLogin("Log in to add this " + s.parent().data("type") + " to your list", "new Rateinator().showModal", [s.find(".tooltip").attr("class").split(" ")[1], a]);
                                this.classList.contains("increment") ? t(n, s) : e(s, o)
                            }), o.on("StatusChanged", function(e, t) {
                                var i = $(a + '[data-id="' + t.id + '"]'),
                                    o = i.find(".tooltip"),
                                    n = o.attr("title"),
                                    r = "<div class='myListBar sep'><h4>my " + t.mode + ":</h4> <span class='status" + t.status + "'></span> " + t.statusname + "</div>"; - 1 != o.attr("title").indexOf("myListBar") ? -1 == o.attr("title").indexOf("theirList sep") ? n = n.replace(/status([0-9]+)/, "status" + t.status).replace(/span>(.+)<\/div>/, "span> " + t.statusname + "</div>") : n += r.replace("sep", "") : n += r, i.attr("data-status", t.status);
                                var l = $(n).closest(".myListBar").find("h4").remove().end().html();
                                t.rating && "0" != t.rating && (l += "<div class='ttRating'>" + t.rating + "</div>"), s || i.find(".statusArea").html(l), o.attr("title", n), (isNaN(i.data("episodes")) || 0 == i.data("episodes")) && i.data("episodes", 0)
                            }), o.on("Rated", function(e, t, i, o) {
                                if (!s) {
                                    var n = $(a + '[data-id="' + t + '"]').find(".statusArea");
                                    n.find(".ttRating").length ? n.find(".ttRating").html(o) : n.append($("<div class='ttRating'>" + o + "</div>"))
                                }
                            }), o.on("EpsChanged", function(e, t, i, o, n) {
                                if (!s) {
                                    var r = $(a + '[data-id="' + n + '"]'),
                                        l = r.find(".statusArea"),
                                        d = l.html();
                                    switch (l && d && (l.find(".ttRating").length ? l.html(d.replace(/<\/span>(.+)<div/, "</span> " + (t ? t + " " : "") + o + "<div")) : l.html(d.replace(/<\/span>(.+)/, "</span> " + (t ? t + " " : "") + o))), o) {
                                        case "eps":
                                            r.data("episode-type", "episodes");
                                            break;
                                        case "ch":
                                        case "chs":
                                            r.data("episode-type", "chapters");
                                            break;
                                        case "vol":
                                        case "vols":
                                            r.data("episode-type", "volumes");
                                            break;
                                        default:
                                            throw "Unknown episode type."
                                    }
                                    r.data("total-episodes", i), r.data("episodes", isNaN(t) ? 0 : t)
                                }
                            })
                        }, this.showModal = function(t, i) {
                            e($("." + t).parents(i || ".card"), o || $("#tooltipModal"))
                        }, this
                    };! function(e, t) {
                        "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Cropper = t()
                    }(this, function() {
                        "use strict";

                        function e(e) {
                            return "number" == typeof e && !ve(e)
                        }

                        function t(e) {
                            return void 0 === e
                        }

                        function i(e) {
                            return "object" === (void 0 === e ? "undefined" : fe(e)) && null !== e
                        }

                        function o(e) {
                            if (!i(e)) return !1;
                            try {
                                var t = e.constructor,
                                    o = t.prototype;
                                return t && o && we.call(o, "isPrototypeOf")
                            } catch (e) {
                                return !1
                            }
                        }

                        function n(e) {
                            return "function" == typeof e
                        }

                        function a(t, o) {
                            if (t && n(o))
                                if (Array.isArray(t) || e(t.length)) {
                                    var a = t.length,
                                        s = void 0;
                                    for (s = 0; s < a && !1 !== o.call(t, t[s], s, t); s += 1);
                                } else i(t) && Object.keys(t).forEach(function(e) {
                                    o.call(t, t[e], e, t)
                                });
                            return t
                        }

                        function s(e) {
                            var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : 1e11;
                            return be.test(e) ? Math.round(e * t) / t : e
                        }

                        function r(t, i) {
                            var o = t.style;
                            a(i, function(t, i) {
                                xe.test(i) && e(t) && (t += "px"), o[i] = t
                            })
                        }

                        function l(t, i) {
                            if (i)
                                if (e(t.length)) a(t, function(e) {
                                    l(e, i)
                                });
                                else if (t.classList) t.classList.add(i);
                            else {
                                var o = t.className.trim();
                                o ? o.indexOf(i) < 0 && (t.className = o + " " + i) : t.className = i
                            }
                        }

                        function d(t, i) {
                            i && (e(t.length) ? a(t, function(e) {
                                d(e, i)
                            }) : t.classList ? t.classList.remove(i) : 0 <= t.className.indexOf(i) && (t.className = t.className.replace(i, "")))
                        }

                        function c(t, i, o) {
                            i && (e(t.length) ? a(t, function(e) {
                                c(e, i, o)
                            }) : o ? l(t, i) : d(t, i))
                        }

                        function p(e) {
                            return e.replace(ke, "$1-$2").toLowerCase()
                        }

                        function h(e, t) {
                            return i(e[t]) ? e[t] : e.dataset ? e.dataset[t] : e.getAttribute("data-" + p(t))
                        }

                        function u(e, t, o) {
                            i(o) ? e[t] = o : e.dataset ? e.dataset[t] = o : e.setAttribute("data-" + p(t), o)
                        }

                        function f(e, t) {
                            if (i(e[t])) try {
                                delete e[t]
                            } catch (i) {
                                e[t] = void 0
                            } else if (e.dataset) try {
                                delete e.dataset[t]
                            } catch (i) {
                                e.dataset[t] = void 0
                            } else e.removeAttribute("data-" + p(t))
                        }

                        function g(e, t, i) {
                            var o = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
                                n = i;
                            t.trim().split(Ce).forEach(function(t) {
                                if (!Te) {
                                    var a = e.listeners;
                                    a && a[t] && a[t][i] && (n = a[t][i], delete a[t][i], 0 === Object.keys(a[t]).length && delete a[t], 0 === Object.keys(a).length && delete e.listeners)
                                }
                                e.removeEventListener(t, n, o)
                            })
                        }

                        function m(e, t, i) {
                            var o = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
                                n = i;
                            t.trim().split(Ce).forEach(function(t) {
                                if (o.once && !Te) {
                                    var a = e.listeners,
                                        s = void 0 === a ? {} : a;
                                    n = function() {
                                        for (var a = arguments.length, r = Array(a), l = 0; l < a; l++) r[l] = arguments[l];
                                        delete s[t][i], e.removeEventListener(t, n, o), i.apply(e, r)
                                    }, s[t] || (s[t] = {}), s[t][i] && e.removeEventListener(t, s[t][i], o), s[t][i] = n, e.listeners = s
                                }
                                e.addEventListener(t, n, o)
                            })
                        }

                        function v(e, t, i) {
                            var o = void 0;
                            return n(Event) && n(CustomEvent) ? o = new CustomEvent(t, {
                                detail: i,
                                bubbles: !0,
                                cancelable: !0
                            }) : (o = document.createEvent("CustomEvent")).initCustomEvent(t, !0, !0, i), e.dispatchEvent(o)
                        }

                        function w(e) {
                            var t = e.getBoundingClientRect();
                            return {
                                left: t.left + (window.pageXOffset - document.documentElement.clientLeft),
                                top: t.top + (window.pageYOffset - document.documentElement.clientTop)
                            }
                        }

                        function y(e) {
                            var t = e.match($e);
                            return t && (t[1] !== Se.protocol || t[2] !== Se.hostname || t[3] !== Se.port)
                        }

                        function b(e) {
                            var t = "timestamp=" + (new Date).getTime();
                            return e + (-1 === e.indexOf("?") ? "?" : "&") + t
                        }

                        function x(t) {
                            var i = t.rotate,
                                o = t.scaleX,
                                n = t.scaleY,
                                a = t.translateX,
                                s = t.translateY,
                                r = [];
                            e(a) && 0 !== a && r.push("translateX(" + a + "px)"), e(s) && 0 !== s && r.push("translateY(" + s + "px)"), e(i) && 0 !== i && r.push("rotate(" + i + "deg)"), e(o) && 1 !== o && r.push("scaleX(" + o + ")"), e(n) && 1 !== n && r.push("scaleY(" + n + ")");
                            var l = r.length ? r.join(" ") : "none";
                            return {
                                WebkitTransform: l,
                                msTransform: l,
                                transform: l
                            }
                        }

                        function k(e, t) {
                            var i = e.pageX,
                                o = e.pageY,
                                n = {
                                    endX: i,
                                    endY: o
                                };
                            return t ? n : ye({
                                startX: i,
                                startY: o
                            }, n)
                        }

                        function C(e) {
                            var t = e.aspectRatio,
                                i = e.height,
                                o = e.width,
                                n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "contain",
                                a = function(e) {
                                    return Me(e) && 0 < e
                                };
                            if (a(o) && a(i)) {
                                var s = i * t;
                                "contain" === n && o < s || "cover" === n && s < o ? i = o / t : o = i * t
                            } else a(o) ? i = o / t : a(i) && (o = i * t);
                            return {
                                width: o,
                                height: i
                            }
                        }

                        function T(e) {
                            var t = new DataView(e),
                                i = void 0,
                                o = void 0,
                                n = void 0,
                                a = void 0;
                            if (255 === t.getUint8(0) && 216 === t.getUint8(1))
                                for (var s = t.byteLength, r = 2; r < s;) {
                                    if (255 === t.getUint8(r) && 225 === t.getUint8(r + 1)) {
                                        n = r;
                                        break
                                    }
                                    r += 1
                                }
                            if (n) {
                                var l = n + 10;
                                if ("Exif" === function(e, t, i) {
                                        var o = "",
                                            n = void 0;
                                        for (i += t, n = t; n < i; n += 1) o += Ee(e.getUint8(n));
                                        return o
                                    }(t, n + 4, 4)) {
                                    var d = t.getUint16(l);
                                    if (((o = 18761 === d) || 19789 === d) && 42 === t.getUint16(l + 2, o)) {
                                        var c = t.getUint32(l + 4, o);
                                        8 <= c && (a = l + c)
                                    }
                                }
                            }
                            if (a) {
                                var p = t.getUint16(a, o),
                                    h = void 0,
                                    u = void 0;
                                for (u = 0; u < p; u += 1)
                                    if (h = a + 12 * u + 2, 274 === t.getUint16(h, o)) {
                                        h += 8, i = t.getUint16(h, o), t.setUint16(h, 1, o);
                                        break
                                    }
                            }
                            return i
                        }
                        var S = "undefined" != typeof window,
                            $ = S ? window : {},
                            M = "cropper",
                            E = "all",
                            A = "crop",
                            P = "move",
                            O = "zoom",
                            H = "e",
                            I = "w",
                            D = "s",
                            B = "n",
                            L = "ne",
                            R = "nw",
                            _ = "se",
                            j = "sw",
                            W = M + "-crop",
                            z = M + "-disabled",
                            N = M + "-hidden",
                            F = M + "-hide",
                            U = M + "-modal",
                            X = M + "-move",
                            G = M + "Action",
                            q = M + "Preview",
                            K = "crop",
                            V = "move",
                            Y = "none",
                            Q = "crop",
                            Z = "cropend",
                            J = "cropmove",
                            ee = "cropstart",
                            te = "dblclick",
                            ie = $.PointerEvent ? "pointerdown" : "touchstart mousedown",
                            oe = $.PointerEvent ? "pointermove" : "touchmove mousemove",
                            ne = $.PointerEvent ? "pointerup pointercancel" : "touchend touchcancel mouseup",
                            ae = "ready",
                            se = "resize",
                            re = "wheel mousewheel DOMMouseScroll",
                            le = "zoom",
                            de = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,
                            ce = /^data:/,
                            pe = /^data:image\/jpeg;base64,/,
                            he = /^(?:img|canvas)$/i,
                            ue = {
                                viewMode: 0,
                                dragMode: K,
                                initialAspectRatio: NaN,
                                aspectRatio: NaN,
                                data: null,
                                preview: "",
                                responsive: !0,
                                restore: !0,
                                checkCrossOrigin: !0,
                                checkOrientation: !0,
                                modal: !0,
                                guides: !0,
                                center: !0,
                                highlight: !0,
                                background: !0,
                                autoCrop: !0,
                                autoCropArea: .8,
                                movable: !0,
                                rotatable: !0,
                                scalable: !0,
                                zoomable: !0,
                                zoomOnTouch: !0,
                                zoomOnWheel: !0,
                                wheelZoomRatio: .1,
                                cropBoxMovable: !0,
                                cropBoxResizable: !0,
                                toggleDragModeOnDblclick: !0,
                                minCanvasWidth: 0,
                                minCanvasHeight: 0,
                                minCropBoxWidth: 0,
                                minCropBoxHeight: 0,
                                minContainerWidth: 200,
                                minContainerHeight: 100,
                                ready: null,
                                cropstart: null,
                                cropmove: null,
                                cropend: null,
                                crop: null,
                                zoom: null
                            },
                            fe = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                                return typeof e
                            } : function(e) {
                                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                            },
                            ge = function() {
                                function e(e, t) {
                                    for (var i = 0; i < t.length; i++) {
                                        var o = t[i];
                                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o)
                                    }
                                }
                                return function(t, i, o) {
                                    return i && e(t.prototype, i), o && e(t, o), t
                                }
                            }(),
                            me = function(e) {
                                if (Array.isArray(e)) {
                                    for (var t = 0, i = Array(e.length); t < e.length; t++) i[t] = e[t];
                                    return i
                                }
                                return Array.from(e)
                            },
                            ve = Number.isNaN || $.isNaN,
                            we = Object.prototype.hasOwnProperty,
                            ye = Object.assign || function(e) {
                                for (var t = arguments.length, o = Array(1 < t ? t - 1 : 0), n = 1; n < t; n++) o[n - 1] = arguments[n];
                                return i(e) && 0 < o.length && o.forEach(function(t) {
                                    i(t) && Object.keys(t).forEach(function(i) {
                                        e[i] = t[i]
                                    })
                                }), e
                            },
                            be = /\.\d*(?:0|9){12}\d*$/i,
                            xe = /^(?:width|height|left|top|marginLeft|marginTop)$/,
                            ke = /([a-z\d])([A-Z])/g,
                            Ce = /\s\s*/,
                            Te = function() {
                                var e = !1;
                                if (S) {
                                    var t = !1,
                                        i = function() {},
                                        o = Object.defineProperty({}, "once", {
                                            get: function() {
                                                return e = !0, t
                                            },
                                            set: function(e) {
                                                t = e
                                            }
                                        });
                                    $.addEventListener("test", i, o), $.removeEventListener("test", i, o)
                                }
                                return e
                            }(),
                            Se = $.location,
                            $e = /^(https?:)\/\/([^:\/?#]+):?(\d*)/i,
                            Me = Number.isFinite || $.isFinite,
                            Ee = String.fromCharCode,
                            Ae = /^data:.*,/,
                            Pe = {
                                render: function() {
                                    this.initContainer(), this.initCanvas(), this.initCropBox(), this.renderCanvas(), this.cropped && this.renderCropBox()
                                },
                                initContainer: function() {
                                    var e = this.element,
                                        t = this.options,
                                        i = this.container,
                                        o = this.cropper;
                                    l(o, N), d(e, N);
                                    var n = {
                                        width: Math.max(i.offsetWidth, Number(t.minContainerWidth) || 200),
                                        height: Math.max(i.offsetHeight, Number(t.minContainerHeight) || 100)
                                    };
                                    r(o, {
                                        width: (this.containerData = n).width,
                                        height: n.height
                                    }), l(e, N), d(o, N)
                                },
                                initCanvas: function() {
                                    var e = this.containerData,
                                        t = this.imageData,
                                        i = this.options.viewMode,
                                        o = Math.abs(t.rotate) % 180 == 90,
                                        n = o ? t.naturalHeight : t.naturalWidth,
                                        a = o ? t.naturalWidth : t.naturalHeight,
                                        s = n / a,
                                        r = e.width,
                                        l = e.height;
                                    e.height * s > e.width ? 3 === i ? r = e.height * s : l = e.width / s : 3 === i ? l = e.width / s : r = e.height * s;
                                    var d = {
                                        aspectRatio: s,
                                        naturalWidth: n,
                                        naturalHeight: a,
                                        width: r,
                                        height: l
                                    };
                                    d.left = (e.width - r) / 2, d.top = (e.height - l) / 2, d.oldLeft = d.left, d.oldTop = d.top, this.canvasData = d, this.limited = 1 === i || 2 === i, this.limitCanvas(!0, !0), this.initialImageData = ye({}, t), this.initialCanvasData = ye({}, d)
                                },
                                limitCanvas: function(e, t) {
                                    var i = this.options,
                                        o = this.containerData,
                                        n = this.canvasData,
                                        a = this.cropBoxData,
                                        s = i.viewMode,
                                        r = n.aspectRatio,
                                        l = this.cropped && a;
                                    if (e) {
                                        var d = Number(i.minCanvasWidth) || 0,
                                            c = Number(i.minCanvasHeight) || 0;
                                        1 < s ? (d = Math.max(d, o.width), c = Math.max(c, o.height), 3 === s && (d < c * r ? d = c * r : c = d / r)) : 0 < s && (d ? d = Math.max(d, l ? a.width : 0) : c ? c = Math.max(c, l ? a.height : 0) : l && ((d = a.width) < (c = a.height) * r ? d = c * r : c = d / r));
                                        var p = C({
                                            aspectRatio: r,
                                            width: d,
                                            height: c
                                        });
                                        d = p.width, c = p.height, n.minWidth = d, n.minHeight = c, n.maxWidth = 1 / 0, n.maxHeight = 1 / 0
                                    }
                                    if (t)
                                        if ((l ? 0 : 1) < s) {
                                            var h = o.width - n.width,
                                                u = o.height - n.height;
                                            n.minLeft = Math.min(0, h), n.minTop = Math.min(0, u), n.maxLeft = Math.max(0, h), n.maxTop = Math.max(0, u), l && this.limited && (n.minLeft = Math.min(a.left, a.left + (a.width - n.width)), n.minTop = Math.min(a.top, a.top + (a.height - n.height)), n.maxLeft = a.left, n.maxTop = a.top, 2 === s && (n.width >= o.width && (n.minLeft = Math.min(0, h), n.maxLeft = Math.max(0, h)), n.height >= o.height && (n.minTop = Math.min(0, u), n.maxTop = Math.max(0, u))))
                                        } else n.minLeft = -n.width, n.minTop = -n.height, n.maxLeft = o.width, n.maxTop = o.height
                                },
                                renderCanvas: function(e, t) {
                                    var i = this.canvasData,
                                        o = this.imageData;
                                    if (t) {
                                        var n = function(e) {
                                                var t = e.width,
                                                    i = e.height,
                                                    o = e.degree;
                                                if (90 == (o = Math.abs(o) % 180)) return {
                                                    width: i,
                                                    height: t
                                                };
                                                var n = o % 90 * Math.PI / 180,
                                                    a = Math.sin(n),
                                                    s = Math.cos(n),
                                                    r = t * s + i * a,
                                                    l = t * a + i * s;
                                                return 90 < o ? {
                                                    width: l,
                                                    height: r
                                                } : {
                                                    width: r,
                                                    height: l
                                                }
                                            }({
                                                width: o.naturalWidth * Math.abs(o.scaleX || 1),
                                                height: o.naturalHeight * Math.abs(o.scaleY || 1),
                                                degree: o.rotate || 0
                                            }),
                                            a = n.width,
                                            s = n.height,
                                            l = i.width * (a / i.naturalWidth),
                                            d = i.height * (s / i.naturalHeight);
                                        i.left -= (l - i.width) / 2, i.top -= (d - i.height) / 2, i.width = l, i.height = d, i.aspectRatio = a / s, i.naturalWidth = a, i.naturalHeight = s, this.limitCanvas(!0, !1)
                                    }(i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft), (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), this.limitCanvas(!1, !0), i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft), i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop), i.oldLeft = i.left, i.oldTop = i.top, r(this.canvas, ye({
                                        width: i.width,
                                        height: i.height
                                    }, x({
                                        translateX: i.left,
                                        translateY: i.top
                                    }))), this.renderImage(e), this.cropped && this.limited && this.limitCropBox(!0, !0)
                                },
                                renderImage: function(e) {
                                    var t = this.canvasData,
                                        i = this.imageData,
                                        o = i.naturalWidth * (t.width / t.naturalWidth),
                                        n = i.naturalHeight * (t.height / t.naturalHeight);
                                    ye(i, {
                                        width: o,
                                        height: n,
                                        left: (t.width - o) / 2,
                                        top: (t.height - n) / 2
                                    }), r(this.image, ye({
                                        width: i.width,
                                        height: i.height
                                    }, x(ye({
                                        translateX: i.left,
                                        translateY: i.top
                                    }, i)))), e && this.output()
                                },
                                initCropBox: function() {
                                    var e = this.options,
                                        t = this.canvasData,
                                        i = e.aspectRatio || e.initialAspectRatio,
                                        o = Number(e.autoCropArea) || .8,
                                        n = {
                                            width: t.width,
                                            height: t.height
                                        };
                                    i && (t.height * i > t.width ? n.height = n.width / i : n.width = n.height * i), this.cropBoxData = n, this.limitCropBox(!0, !0), n.width = Math.min(Math.max(n.width, n.minWidth), n.maxWidth), n.height = Math.min(Math.max(n.height, n.minHeight), n.maxHeight), n.width = Math.max(n.minWidth, n.width * o), n.height = Math.max(n.minHeight, n.height * o), n.left = t.left + (t.width - n.width) / 2, n.top = t.top + (t.height - n.height) / 2, n.oldLeft = n.left, n.oldTop = n.top, this.initialCropBoxData = ye({}, n)
                                },
                                limitCropBox: function(e, t) {
                                    var i = this.options,
                                        o = this.containerData,
                                        n = this.canvasData,
                                        a = this.cropBoxData,
                                        s = this.limited,
                                        r = i.aspectRatio;
                                    if (e) {
                                        var l = Number(i.minCropBoxWidth) || 0,
                                            d = Number(i.minCropBoxHeight) || 0,
                                            c = s ? Math.min(o.width, n.width, n.width + n.left, o.width - n.left) : o.width,
                                            p = s ? Math.min(o.height, n.height, n.height + n.top, o.height - n.top) : o.height;
                                        l = Math.min(l, o.width), d = Math.min(d, o.height), r && (l && d ? l < d * r ? d = l / r : l = d * r : l ? d = l / r : d && (l = d * r), c < p * r ? p = c / r : c = p * r), a.minWidth = Math.min(l, c), a.minHeight = Math.min(d, p), a.maxWidth = c, a.maxHeight = p
                                    }
                                    t && (s ? (a.minLeft = Math.max(0, n.left), a.minTop = Math.max(0, n.top), a.maxLeft = Math.min(o.width, n.left + n.width) - a.width, a.maxTop = Math.min(o.height, n.top + n.height) - a.height) : (a.minLeft = 0, a.minTop = 0, a.maxLeft = o.width - a.width, a.maxTop = o.height - a.height))
                                },
                                renderCropBox: function() {
                                    var e = this.options,
                                        t = this.containerData,
                                        i = this.cropBoxData;
                                    (i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft), (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), this.limitCropBox(!1, !0), i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft), i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop), i.oldLeft = i.left, i.oldTop = i.top, e.movable && e.cropBoxMovable && u(this.face, G, i.width >= t.width && i.height >= t.height ? P : E), r(this.cropBox, ye({
                                        width: i.width,
                                        height: i.height
                                    }, x({
                                        translateX: i.left,
                                        translateY: i.top
                                    }))), this.cropped && this.limited && this.limitCanvas(!0, !0), this.disabled || this.output()
                                },
                                output: function() {
                                    this.preview(), v(this.element, Q, this.getData())
                                }
                            },
                            Oe = {
                                initPreview: function() {
                                    var e = this.crossOrigin,
                                        t = this.options.preview,
                                        i = e ? this.crossOriginUrl : this.url,
                                        o = document.createElement("img");
                                    if (e && (o.crossOrigin = e), o.src = i, this.viewBox.appendChild(o), this.viewBoxImage = o, t) {
                                        var n = t;
                                        "string" == typeof t ? n = this.element.ownerDocument.querySelectorAll(t) : t.querySelector && (n = [t]), a(this.previews = n, function(t) {
                                            var o = document.createElement("img");
                                            u(t, q, {
                                                width: t.offsetWidth,
                                                height: t.offsetHeight,
                                                html: t.innerHTML
                                            }), e && (o.crossOrigin = e), o.src = i, o.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"', t.innerHTML = "", t.appendChild(o)
                                        })
                                    }
                                },
                                resetPreview: function() {
                                    a(this.previews, function(e) {
                                        var t = h(e, q);
                                        r(e, {
                                            width: t.width,
                                            height: t.height
                                        }), e.innerHTML = t.html, f(e, q)
                                    })
                                },
                                preview: function() {
                                    var e = this.imageData,
                                        t = this.canvasData,
                                        i = this.cropBoxData,
                                        o = i.width,
                                        n = i.height,
                                        s = e.width,
                                        l = e.height,
                                        d = i.left - t.left - e.left,
                                        c = i.top - t.top - e.top;
                                    this.cropped && !this.disabled && (r(this.viewBoxImage, ye({
                                        width: s,
                                        height: l
                                    }, x(ye({
                                        translateX: -d,
                                        translateY: -c
                                    }, e)))), a(this.previews, function(t) {
                                        var i = h(t, q),
                                            a = i.width,
                                            p = i.height,
                                            u = a,
                                            f = p,
                                            g = 1;
                                        o && (f = n * (g = a / o)), n && p < f && (u = o * (g = p / n), f = p), r(t, {
                                            width: u,
                                            height: f
                                        }), r(t.getElementsByTagName("img")[0], ye({
                                            width: s * g,
                                            height: l * g
                                        }, x(ye({
                                            translateX: -d * g,
                                            translateY: -c * g
                                        }, e))))
                                    }))
                                }
                            },
                            He = {
                                bind: function() {
                                    var e = this.element,
                                        t = this.options,
                                        i = this.cropper;
                                    n(t.cropstart) && m(e, ee, t.cropstart), n(t.cropmove) && m(e, J, t.cropmove), n(t.cropend) && m(e, Z, t.cropend), n(t.crop) && m(e, Q, t.crop), n(t.zoom) && m(e, le, t.zoom), m(i, ie, this.onCropStart = this.cropStart.bind(this)), t.zoomable && t.zoomOnWheel && m(i, re, this.onWheel = this.wheel.bind(this)), t.toggleDragModeOnDblclick && m(i, te, this.onDblclick = this.dblclick.bind(this)), m(e.ownerDocument, oe, this.onCropMove = this.cropMove.bind(this)), m(e.ownerDocument, ne, this.onCropEnd = this.cropEnd.bind(this)), t.responsive && m(window, se, this.onResize = this.resize.bind(this))
                                },
                                unbind: function() {
                                    var e = this.element,
                                        t = this.options,
                                        i = this.cropper;
                                    n(t.cropstart) && g(e, ee, t.cropstart), n(t.cropmove) && g(e, J, t.cropmove), n(t.cropend) && g(e, Z, t.cropend), n(t.crop) && g(e, Q, t.crop), n(t.zoom) && g(e, le, t.zoom), g(i, ie, this.onCropStart), t.zoomable && t.zoomOnWheel && g(i, re, this.onWheel), t.toggleDragModeOnDblclick && g(i, te, this.onDblclick), g(e.ownerDocument, oe, this.onCropMove), g(e.ownerDocument, ne, this.onCropEnd), t.responsive && g(window, se, this.onResize)
                                }
                            },
                            Ie = {
                                resize: function() {
                                    var e = this.options,
                                        t = this.container,
                                        i = this.containerData,
                                        o = Number(e.minContainerWidth) || 200,
                                        n = Number(e.minContainerHeight) || 100;
                                    if (!(this.disabled || i.width <= o || i.height <= n)) {
                                        var s = t.offsetWidth / i.width;
                                        if (1 !== s || t.offsetHeight !== i.height) {
                                            var r = void 0,
                                                l = void 0;
                                            e.restore && (r = this.getCanvasData(), l = this.getCropBoxData()), this.render(), e.restore && (this.setCanvasData(a(r, function(e, t) {
                                                r[t] = e * s
                                            })), this.setCropBoxData(a(l, function(e, t) {
                                                l[t] = e * s
                                            })))
                                        }
                                    }
                                },
                                dblclick: function() {
                                    var e, t;
                                    this.disabled || this.options.dragMode === Y || this.setDragMode((e = this.dragBox, t = W, (e.classList ? e.classList.contains(t) : -1 < e.className.indexOf(t)) ? V : K))
                                },
                                wheel: function(e) {
                                    var t = this,
                                        i = Number(this.options.wheelZoomRatio) || .1,
                                        o = 1;
                                    this.disabled || (e.preventDefault(), this.wheeling || (this.wheeling = !0, setTimeout(function() {
                                        t.wheeling = !1
                                    }, 50), e.deltaY ? o = 0 < e.deltaY ? 1 : -1 : e.wheelDelta ? o = -e.wheelDelta / 120 : e.detail && (o = 0 < e.detail ? 1 : -1), this.zoom(-o * i, e)))
                                },
                                cropStart: function(e) {
                                    if (!this.disabled) {
                                        var t = this.options,
                                            i = this.pointers,
                                            o = void 0;
                                        e.changedTouches ? a(e.changedTouches, function(e) {
                                            i[e.identifier] = k(e)
                                        }) : i[e.pointerId || 0] = k(e), o = 1 < Object.keys(i).length && t.zoomable && t.zoomOnTouch ? O : h(e.target, G), de.test(o) && !1 !== v(this.element, ee, {
                                            originalEvent: e,
                                            action: o
                                        }) && (e.preventDefault(), this.action = o, this.cropping = !1, o === A && (this.cropping = !0, l(this.dragBox, U)))
                                    }
                                },
                                cropMove: function(e) {
                                    var t = this.action;
                                    if (!this.disabled && t) {
                                        var i = this.pointers;
                                        e.preventDefault(), !1 !== v(this.element, J, {
                                            originalEvent: e,
                                            action: t
                                        }) && (e.changedTouches ? a(e.changedTouches, function(e) {
                                            ye(i[e.identifier], k(e, !0))
                                        }) : ye(i[e.pointerId || 0], k(e, !0)), this.change(e))
                                    }
                                },
                                cropEnd: function(e) {
                                    if (!this.disabled) {
                                        var t = this.action,
                                            i = this.pointers;
                                        e.changedTouches ? a(e.changedTouches, function(e) {
                                            delete i[e.identifier]
                                        }) : delete i[e.pointerId || 0], t && (e.preventDefault(), Object.keys(i).length || (this.action = ""), this.cropping && (this.cropping = !1, c(this.dragBox, U, this.cropped && this.options.modal)), v(this.element, Z, {
                                            originalEvent: e,
                                            action: t
                                        }))
                                    }
                                }
                            },
                            De = {
                                change: function(e) {
                                    var t = this.options,
                                        i = this.canvasData,
                                        o = this.containerData,
                                        n = this.cropBoxData,
                                        s = this.pointers,
                                        r = this.action,
                                        l = t.aspectRatio,
                                        c = n.left,
                                        p = n.top,
                                        h = n.width,
                                        u = n.height,
                                        f = c + h,
                                        g = p + u,
                                        m = 0,
                                        v = 0,
                                        y = o.width,
                                        b = o.height,
                                        x = !0,
                                        k = void 0;
                                    !l && e.shiftKey && (l = h && u ? h / u : 1), this.limited && (m = n.minLeft, v = n.minTop, y = m + Math.min(o.width, i.width, i.left + i.width), b = v + Math.min(o.height, i.height, i.top + i.height));
                                    var C, T, S, $ = s[Object.keys(s)[0]],
                                        M = {
                                            x: $.endX - $.startX,
                                            y: $.endY - $.startY
                                        },
                                        W = function(e) {
                                            switch (e) {
                                                case H:
                                                    f + M.x > y && (M.x = y - f);
                                                    break;
                                                case I:
                                                    c + M.x < m && (M.x = m - c);
                                                    break;
                                                case B:
                                                    p + M.y < v && (M.y = v - p);
                                                    break;
                                                case D:
                                                    g + M.y > b && (M.y = b - g)
                                            }
                                        };
                                    switch (r) {
                                        case E:
                                            c += M.x, p += M.y;
                                            break;
                                        case H:
                                            if (0 <= M.x && (y <= f || l && (p <= v || b <= g))) {
                                                x = !1;
                                                break
                                            }
                                            W(H), (h += M.x) < 0 && (r = I, c -= h = -h), l && (u = h / l, p += (n.height - u) / 2);
                                            break;
                                        case B:
                                            if (M.y <= 0 && (p <= v || l && (c <= m || y <= f))) {
                                                x = !1;
                                                break
                                            }
                                            W(B), u -= M.y, p += M.y, u < 0 && (r = D, p -= u = -u), l && (h = u * l, c += (n.width - h) / 2);
                                            break;
                                        case I:
                                            if (M.x <= 0 && (c <= m || l && (p <= v || b <= g))) {
                                                x = !1;
                                                break
                                            }
                                            W(I), h -= M.x, c += M.x, h < 0 && (r = H, c -= h = -h), l && (u = h / l, p += (n.height - u) / 2);
                                            break;
                                        case D:
                                            if (0 <= M.y && (b <= g || l && (c <= m || y <= f))) {
                                                x = !1;
                                                break
                                            }
                                            W(D), (u += M.y) < 0 && (r = B, p -= u = -u), l && (h = u * l, c += (n.width - h) / 2);
                                            break;
                                        case L:
                                            if (l) {
                                                if (M.y <= 0 && (p <= v || y <= f)) {
                                                    x = !1;
                                                    break
                                                }
                                                W(B), u -= M.y, p += M.y, h = u * l
                                            } else W(B), W(H), 0 <= M.x ? f < y ? h += M.x : M.y <= 0 && p <= v && (x = !1) : h += M.x, M.y <= 0 ? v < p && (u -= M.y, p += M.y) : (u -= M.y, p += M.y);
                                            h < 0 && u < 0 ? (r = j, p -= u = -u, c -= h = -h) : h < 0 ? (r = R, c -= h = -h) : u < 0 && (r = _, p -= u = -u);
                                            break;
                                        case R:
                                            if (l) {
                                                if (M.y <= 0 && (p <= v || c <= m)) {
                                                    x = !1;
                                                    break
                                                }
                                                W(B), u -= M.y, p += M.y, h = u * l, c += n.width - h
                                            } else W(B), W(I), M.x <= 0 ? m < c ? (h -= M.x, c += M.x) : M.y <= 0 && p <= v && (x = !1) : (h -= M.x, c += M.x), M.y <= 0 ? v < p && (u -= M.y, p += M.y) : (u -= M.y, p += M.y);
                                            h < 0 && u < 0 ? (r = _, p -= u = -u, c -= h = -h) : h < 0 ? (r = L, c -= h = -h) : u < 0 && (r = j, p -= u = -u);
                                            break;
                                        case j:
                                            if (l) {
                                                if (M.x <= 0 && (c <= m || b <= g)) {
                                                    x = !1;
                                                    break
                                                }
                                                W(I), h -= M.x, c += M.x, u = h / l
                                            } else W(D), W(I), M.x <= 0 ? m < c ? (h -= M.x, c += M.x) : 0 <= M.y && b <= g && (x = !1) : (h -= M.x, c += M.x), 0 <= M.y ? g < b && (u += M.y) : u += M.y;
                                            h < 0 && u < 0 ? (r = L, p -= u = -u, c -= h = -h) : h < 0 ? (r = _, c -= h = -h) : u < 0 && (r = R, p -= u = -u);
                                            break;
                                        case _:
                                            if (l) {
                                                if (0 <= M.x && (y <= f || b <= g)) {
                                                    x = !1;
                                                    break
                                                }
                                                W(H), u = (h += M.x) / l
                                            } else W(D), W(H), 0 <= M.x ? f < y ? h += M.x : 0 <= M.y && b <= g && (x = !1) : h += M.x, 0 <= M.y ? g < b && (u += M.y) : u += M.y;
                                            h < 0 && u < 0 ? (r = R, p -= u = -u, c -= h = -h) : h < 0 ? (r = j, c -= h = -h) : u < 0 && (r = L, p -= u = -u);
                                            break;
                                        case P:
                                            this.move(M.x, M.y), x = !1;
                                            break;
                                        case O:
                                            this.zoom((T = ye({}, C = s), S = [], a(C, function(e, t) {
                                                delete T[t], a(T, function(t) {
                                                    var i = Math.abs(e.startX - t.startX),
                                                        o = Math.abs(e.startY - t.startY),
                                                        n = Math.abs(e.endX - t.endX),
                                                        a = Math.abs(e.endY - t.endY),
                                                        s = Math.sqrt(i * i + o * o),
                                                        r = (Math.sqrt(n * n + a * a) - s) / s;
                                                    S.push(r)
                                                })
                                            }), S.sort(function(e, t) {
                                                return Math.abs(e) < Math.abs(t)
                                            }), S[0]), e), x = !1;
                                            break;
                                        case A:
                                            if (!M.x || !M.y) {
                                                x = !1;
                                                break
                                            }
                                            k = w(this.cropper), c = $.startX - k.left, p = $.startY - k.top, h = n.minWidth, u = n.minHeight, 0 < M.x ? r = 0 < M.y ? _ : L : M.x < 0 && (c -= h, r = 0 < M.y ? j : R), M.y < 0 && (p -= u), this.cropped || (d(this.cropBox, N), this.cropped = !0, this.limited && this.limitCropBox(!0, !0))
                                    }
                                    x && (n.width = h, n.height = u, n.left = c, n.top = p, this.action = r, this.renderCropBox()), a(s, function(e) {
                                        e.startX = e.endX, e.startY = e.endY
                                    })
                                }
                            },
                            Be = {
                                crop: function() {
                                    return !this.ready || this.cropped || this.disabled || (this.cropped = !0, this.limitCropBox(!0, !0), this.options.modal && l(this.dragBox, U), d(this.cropBox, N), this.setCropBoxData(this.initialCropBoxData)), this
                                },
                                reset: function() {
                                    return this.ready && !this.disabled && (this.imageData = ye({}, this.initialImageData), this.canvasData = ye({}, this.initialCanvasData), this.cropBoxData = ye({}, this.initialCropBoxData), this.renderCanvas(), this.cropped && this.renderCropBox()), this
                                },
                                clear: function() {
                                    return this.cropped && !this.disabled && (ye(this.cropBoxData, {
                                        left: 0,
                                        top: 0,
                                        width: 0,
                                        height: 0
                                    }), this.cropped = !1, this.renderCropBox(), this.limitCanvas(!0, !0), this.renderCanvas(), d(this.dragBox, U), l(this.cropBox, N)), this
                                },
                                replace: function(e) {
                                    var t = 1 < arguments.length && void 0 !== arguments[1] && arguments[1];
                                    return !this.disabled && e && (this.isImg && (this.element.src = e), t ? (this.url = e, this.image.src = e, this.ready && (this.viewBoxImage.src = e, a(this.previews, function(t) {
                                        t.getElementsByTagName("img")[0].src = e
                                    }))) : (this.isImg && (this.replaced = !0), this.options.data = null, this.uncreate(), this.load(e))), this
                                },
                                enable: function() {
                                    return this.ready && this.disabled && (this.disabled = !1, d(this.cropper, z)), this
                                },
                                disable: function() {
                                    return this.ready && !this.disabled && (this.disabled = !0, l(this.cropper, z)), this
                                },
                                destroy: function() {
                                    var e = this.element;
                                    return h(e, M) && (this.isImg && this.replaced && (e.src = this.originalUrl), this.uncreate(), f(e, M)), this
                                },
                                move: function(e) {
                                    var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : e,
                                        o = this.canvasData,
                                        n = o.left,
                                        a = o.top;
                                    return this.moveTo(t(e) ? e : n + Number(e), t(i) ? i : a + Number(i))
                                },
                                moveTo: function(t) {
                                    var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : t,
                                        o = this.canvasData,
                                        n = !1;
                                    return t = Number(t), i = Number(i), this.ready && !this.disabled && this.options.movable && (e(t) && (o.left = t, n = !0), e(i) && (o.top = i, n = !0), n && this.renderCanvas(!0)), this
                                },
                                zoom: function(e, t) {
                                    var i = this.canvasData;
                                    return e = (e = Number(e)) < 0 ? 1 / (1 - e) : 1 + e, this.zoomTo(i.width * e / i.naturalWidth, null, t)
                                },
                                zoomTo: function(t, i, n) {
                                    var s, r, l, d = this.options,
                                        c = this.canvasData,
                                        p = c.width,
                                        h = c.height,
                                        u = c.naturalWidth,
                                        f = c.naturalHeight;
                                    if (0 <= (t = Number(t)) && this.ready && !this.disabled && d.zoomable) {
                                        var g = u * t,
                                            m = f * t;
                                        if (!1 === v(this.element, le, {
                                                ratio: t,
                                                oldRatio: p / u,
                                                originalEvent: n
                                            })) return this;
                                        if (n) {
                                            var y = this.pointers,
                                                b = w(this.cropper),
                                                x = y && Object.keys(y).length ? (l = r = s = 0, a(y, function(e) {
                                                    var t = e.startX,
                                                        i = e.startY;
                                                    s += t, r += i, l += 1
                                                }), {
                                                    pageX: s /= l,
                                                    pageY: r /= l
                                                }) : {
                                                    pageX: n.pageX,
                                                    pageY: n.pageY
                                                };
                                            c.left -= (g - p) * ((x.pageX - b.left - c.left) / p), c.top -= (m - h) * ((x.pageY - b.top - c.top) / h)
                                        } else o(i) && e(i.x) && e(i.y) ? (c.left -= (g - p) * ((i.x - c.left) / p), c.top -= (m - h) * ((i.y - c.top) / h)) : (c.left -= (g - p) / 2, c.top -= (m - h) / 2);
                                        c.width = g, c.height = m, this.renderCanvas(!0)
                                    }
                                    return this
                                },
                                rotate: function(e) {
                                    return this.rotateTo((this.imageData.rotate || 0) + Number(e))
                                },
                                rotateTo: function(t) {
                                    return e(t = Number(t)) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = t % 360, this.renderCanvas(!0, !0)), this
                                },
                                scaleX: function(t) {
                                    var i = this.imageData.scaleY;
                                    return this.scale(t, e(i) ? i : 1)
                                },
                                scaleY: function(t) {
                                    var i = this.imageData.scaleX;
                                    return this.scale(e(i) ? i : 1, t)
                                },
                                scale: function(t) {
                                    var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : t,
                                        o = this.imageData,
                                        n = !1;
                                    return t = Number(t), i = Number(i), this.ready && !this.disabled && this.options.scalable && (e(t) && (o.scaleX = t, n = !0), e(i) && (o.scaleY = i, n = !0), n && this.renderCanvas(!0, !0)), this
                                },
                                getData: function() {
                                    var e = 0 < arguments.length && void 0 !== arguments[0] && arguments[0],
                                        t = this.options,
                                        i = this.imageData,
                                        o = this.canvasData,
                                        n = this.cropBoxData,
                                        s = void 0;
                                    if (this.ready && this.cropped) {
                                        s = {
                                            x: n.left - o.left,
                                            y: n.top - o.top,
                                            width: n.width,
                                            height: n.height
                                        };
                                        var r = i.width / i.naturalWidth;
                                        if (a(s, function(e, t) {
                                                s[t] = e / r
                                            }), e) {
                                            var l = Math.round(s.y + s.height),
                                                d = Math.round(s.x + s.width);
                                            s.x = Math.round(s.x), s.y = Math.round(s.y), s.width = d - s.x, s.height = l - s.y
                                        }
                                    } else s = {
                                        x: 0,
                                        y: 0,
                                        width: 0,
                                        height: 0
                                    };
                                    return t.rotatable && (s.rotate = i.rotate || 0), t.scalable && (s.scaleX = i.scaleX || 1, s.scaleY = i.scaleY || 1), s
                                },
                                setData: function(t) {
                                    var i = this.options,
                                        n = this.imageData,
                                        a = this.canvasData,
                                        s = {};
                                    if (this.ready && !this.disabled && o(t)) {
                                        var r = !1;
                                        i.rotatable && e(t.rotate) && t.rotate !== n.rotate && (n.rotate = t.rotate, r = !0), i.scalable && (e(t.scaleX) && t.scaleX !== n.scaleX && (n.scaleX = t.scaleX, r = !0), e(t.scaleY) && t.scaleY !== n.scaleY && (n.scaleY = t.scaleY, r = !0)), r && this.renderCanvas(!0, !0);
                                        var l = n.width / n.naturalWidth;
                                        e(t.x) && (s.left = t.x * l + a.left), e(t.y) && (s.top = t.y * l + a.top), e(t.width) && (s.width = t.width * l), e(t.height) && (s.height = t.height * l), this.setCropBoxData(s)
                                    }
                                    return this
                                },
                                getContainerData: function() {
                                    return this.ready ? ye({}, this.containerData) : {}
                                },
                                getImageData: function() {
                                    return this.sized ? ye({}, this.imageData) : {}
                                },
                                getCanvasData: function() {
                                    var e = this.canvasData,
                                        t = {};
                                    return this.ready && a(["left", "top", "width", "height", "naturalWidth", "naturalHeight"], function(i) {
                                        t[i] = e[i]
                                    }), t
                                },
                                setCanvasData: function(t) {
                                    var i = this.canvasData,
                                        n = i.aspectRatio;
                                    return this.ready && !this.disabled && o(t) && (e(t.left) && (i.left = t.left), e(t.top) && (i.top = t.top), e(t.width) ? (i.width = t.width, i.height = t.width / n) : e(t.height) && (i.height = t.height, i.width = t.height * n), this.renderCanvas(!0)), this
                                },
                                getCropBoxData: function() {
                                    var e = this.cropBoxData,
                                        t = void 0;
                                    return this.ready && this.cropped && (t = {
                                        left: e.left,
                                        top: e.top,
                                        width: e.width,
                                        height: e.height
                                    }), t || {}
                                },
                                setCropBoxData: function(t) {
                                    var i = this.cropBoxData,
                                        n = this.options.aspectRatio,
                                        a = void 0,
                                        s = void 0;
                                    return this.ready && this.cropped && !this.disabled && o(t) && (e(t.left) && (i.left = t.left), e(t.top) && (i.top = t.top), e(t.width) && t.width !== i.width && (a = !0, i.width = t.width), e(t.height) && t.height !== i.height && (s = !0, i.height = t.height), n && (a ? i.height = i.width / n : s && (i.width = i.height * n)), this.renderCropBox()), this
                                },
                                getCroppedCanvas: function() {
                                    var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
                                    if (!this.ready || !window.HTMLCanvasElement) return null;
                                    var t, i, o, n, a, r, l, d, c, p, h, u, f, g, m, v, w, y, b, x, k, T, S, $, M, E, A, P, O, H, I, D, B, L, R, _, j, W, z, N, F, U = this.canvasData,
                                        X = (t = this.image, i = this.imageData, o = U, n = e, a = i.aspectRatio, r = i.naturalWidth, l = i.naturalHeight, d = i.rotate, c = void 0 === d ? 0 : d, p = i.scaleX, h = void 0 === p ? 1 : p, u = i.scaleY, f = void 0 === u ? 1 : u, g = o.aspectRatio, m = o.naturalWidth, v = o.naturalHeight, w = n.fillColor, y = void 0 === w ? "transparent" : w, b = n.imageSmoothingEnabled, x = void 0 === b || b, k = n.imageSmoothingQuality, T = void 0 === k ? "low" : k, S = n.maxWidth, $ = void 0 === S ? 1 / 0 : S, M = n.maxHeight, E = void 0 === M ? 1 / 0 : M, A = n.minWidth, P = void 0 === A ? 0 : A, O = n.minHeight, H = void 0 === O ? 0 : O, I = document.createElement("canvas"), D = I.getContext("2d"), B = C({
                                            aspectRatio: g,
                                            width: $,
                                            height: E
                                        }), L = C({
                                            aspectRatio: g,
                                            width: P,
                                            height: H
                                        }, "cover"), R = Math.min(B.width, Math.max(L.width, m)), _ = Math.min(B.height, Math.max(L.height, v)), j = C({
                                            aspectRatio: a,
                                            width: $,
                                            height: E
                                        }), W = C({
                                            aspectRatio: a,
                                            width: P,
                                            height: H
                                        }, "cover"), z = Math.min(j.width, Math.max(W.width, r)), N = Math.min(j.height, Math.max(W.height, l)), F = [-z / 2, -N / 2, z, N], I.width = s(R), I.height = s(_), D.fillStyle = y, D.fillRect(0, 0, R, _), D.save(), D.translate(R / 2, _ / 2), D.rotate(c * Math.PI / 180), D.scale(h, f), D.imageSmoothingEnabled = x, D.imageSmoothingQuality = T, D.drawImage.apply(D, [t].concat(me(F.map(function(e) {
                                            return Math.floor(s(e))
                                        })))), D.restore(), I);
                                    if (!this.cropped) return X;
                                    var G = this.getData(),
                                        q = G.x,
                                        K = G.y,
                                        V = G.width,
                                        Y = G.height,
                                        Q = X.width / Math.floor(U.naturalWidth);
                                    1 !== Q && (q *= Q, K *= Q, V *= Q, Y *= Q);
                                    var Z = V / Y,
                                        J = C({
                                            aspectRatio: Z,
                                            width: e.maxWidth || 1 / 0,
                                            height: e.maxHeight || 1 / 0
                                        }),
                                        ee = C({
                                            aspectRatio: Z,
                                            width: e.minWidth || 0,
                                            height: e.minHeight || 0
                                        }, "cover"),
                                        te = C({
                                            aspectRatio: Z,
                                            width: e.width || (1 !== Q ? X.width : V),
                                            height: e.height || (1 !== Q ? X.height : Y)
                                        }),
                                        ie = te.width,
                                        oe = te.height;
                                    ie = Math.min(J.width, Math.max(ee.width, ie)), oe = Math.min(J.height, Math.max(ee.height, oe));
                                    var ne = document.createElement("canvas"),
                                        ae = ne.getContext("2d");
                                    ne.width = s(ie), ne.height = s(oe), ae.fillStyle = e.fillColor || "transparent", ae.fillRect(0, 0, ie, oe);
                                    var se = e.imageSmoothingEnabled,
                                        re = void 0 === se || se,
                                        le = e.imageSmoothingQuality;
                                    ae.imageSmoothingEnabled = re, le && (ae.imageSmoothingQuality = le);
                                    var de = X.width,
                                        ce = X.height,
                                        pe = q,
                                        he = K,
                                        ue = void 0,
                                        fe = void 0,
                                        ge = void 0,
                                        ve = void 0,
                                        we = void 0,
                                        ye = void 0;
                                    pe <= -V || de < pe ? we = ge = ue = pe = 0 : pe <= 0 ? (ge = -pe, pe = 0, we = ue = Math.min(de, V + pe)) : pe <= de && (ge = 0, we = ue = Math.min(V, de - pe)), ue <= 0 || he <= -Y || ce < he ? ye = ve = fe = he = 0 : he <= 0 ? (ve = -he, he = 0, ye = fe = Math.min(ce, Y + he)) : he <= ce && (ve = 0, ye = fe = Math.min(Y, ce - he));
                                    var be = [pe, he, ue, fe];
                                    if (0 < we && 0 < ye) {
                                        var xe = ie / V;
                                        be.push(ge * xe, ve * xe, we * xe, ye * xe)
                                    }
                                    return ae.drawImage.apply(ae, [X].concat(me(be.map(function(e) {
                                        return Math.floor(s(e))
                                    })))), ne
                                },
                                setAspectRatio: function(e) {
                                    var i = this.options;
                                    return this.disabled || t(e) || (i.aspectRatio = Math.max(0, e) || NaN, this.ready && (this.initCropBox(), this.cropped && this.renderCropBox())), this
                                },
                                setDragMode: function(e) {
                                    var t = this.options,
                                        i = this.dragBox,
                                        o = this.face;
                                    if (this.ready && !this.disabled) {
                                        var n = e === K,
                                            a = t.movable && e === V;
                                        e = n || a ? e : Y, t.dragMode = e, u(i, G, e), c(i, W, n), c(i, X, a), t.cropBoxMovable || (u(o, G, e), c(o, W, n), c(o, X, a))
                                    }
                                    return this
                                }
                            },
                            Le = $.Cropper,
                            Re = function() {
                                function e(t) {
                                    var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                                    if (function(e, t) {
                                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                                        }(this, e), !t || !he.test(t.tagName)) throw new Error("The first argument is required and must be an <img> or <canvas> element.");
                                    this.element = t, this.options = ye({}, ue, o(i) && i), this.cropped = !1, this.disabled = !1, this.pointers = {}, this.ready = !1, this.reloading = !1, this.replaced = !1, this.sized = !1, this.sizing = !1, this.init()
                                }
                                return ge(e, [{
                                    key: "init",
                                    value: function() {
                                        var e = this.element,
                                            t = e.tagName.toLowerCase(),
                                            i = void 0;
                                        if (!h(e, M)) {
                                            if (u(e, M, this), "img" === t) {
                                                if (this.isImg = !0, i = e.getAttribute("src") || "", !(this.originalUrl = i)) return;
                                                i = e.src
                                            } else "canvas" === t && window.HTMLCanvasElement && (i = e.toDataURL());
                                            this.load(i)
                                        }
                                    }
                                }, {
                                    key: "load",
                                    value: function(e) {
                                        var t = this;
                                        if (e) {
                                            this.url = e, this.imageData = {};
                                            var i = this.element,
                                                o = this.options;
                                            if (o.rotatable || o.scalable || (o.checkOrientation = !1), o.checkOrientation && window.ArrayBuffer)
                                                if (ce.test(e)) pe.test(e) ? this.read((n = e.replace(Ae, ""), s = atob(n), r = new ArrayBuffer(s.length), a(l = new Uint8Array(r), function(e, t) {
                                                    l[t] = s.charCodeAt(t)
                                                }), r)) : this.clone();
                                                else {
                                                    var n, s, r, l, d = new XMLHttpRequest;
                                                    this.reloading = !0, this.xhr = d;
                                                    var c = function() {
                                                        t.reloading = !1, t.xhr = null
                                                    };
                                                    d.ontimeout = c, d.onabort = c, d.onerror = function() {
                                                        c(), t.clone()
                                                    }, d.onload = function() {
                                                        c(), t.read(d.response)
                                                    }, o.checkCrossOrigin && y(e) && i.crossOrigin && (e = b(e)), d.open("get", e), d.responseType = "arraybuffer", d.withCredentials = "use-credentials" === i.crossOrigin, d.send()
                                                } else this.clone()
                                        }
                                    }
                                }, {
                                    key: "read",
                                    value: function(e) {
                                        var t, i, o, s = this.options,
                                            r = this.imageData,
                                            l = T(e),
                                            d = 0,
                                            c = 1,
                                            p = 1;
                                        if (1 < l) {
                                            this.url = (t = "image/jpeg", i = new Uint8Array(e), o = "", n(i.forEach) ? i.forEach(function(e) {
                                                o += Ee(e)
                                            }) : a(i, function(e) {
                                                o += Ee(e)
                                            }), "data:" + t + ";base64," + btoa(o));
                                            var h = function(e) {
                                                var t = 0,
                                                    i = 1,
                                                    o = 1;
                                                switch (e) {
                                                    case 2:
                                                        i = -1;
                                                        break;
                                                    case 3:
                                                        t = -180;
                                                        break;
                                                    case 4:
                                                        o = -1;
                                                        break;
                                                    case 5:
                                                        t = 90, o = -1;
                                                        break;
                                                    case 6:
                                                        t = 90;
                                                        break;
                                                    case 7:
                                                        t = 90, i = -1;
                                                        break;
                                                    case 8:
                                                        t = -90
                                                }
                                                return {
                                                    rotate: t,
                                                    scaleX: i,
                                                    scaleY: o
                                                }
                                            }(l);
                                            d = h.rotate, c = h.scaleX, p = h.scaleY
                                        }
                                        s.rotatable && (r.rotate = d), s.scalable && (r.scaleX = c, r.scaleY = p), this.clone()
                                    }
                                }, {
                                    key: "clone",
                                    value: function() {
                                        var e = this.element,
                                            t = this.url,
                                            i = void 0,
                                            o = void 0;
                                        this.options.checkCrossOrigin && y(t) && ((i = e.crossOrigin) ? o = t : (i = "anonymous", o = b(t))), this.crossOrigin = i, this.crossOriginUrl = o;
                                        var n = document.createElement("img");
                                        i && (n.crossOrigin = i), n.src = o || t, (this.image = n).onload = this.start.bind(this), n.onerror = this.stop.bind(this), l(n, F), e.parentNode.insertBefore(n, e.nextSibling)
                                    }
                                }, {
                                    key: "start",
                                    value: function() {
                                        var e = this,
                                            t = this.isImg ? this.element : this.image;
                                        t.onload = null, t.onerror = null, this.sizing = !0;
                                        var i = $.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test($.navigator.userAgent),
                                            o = function(t, i) {
                                                ye(e.imageData, {
                                                    naturalWidth: t,
                                                    naturalHeight: i,
                                                    aspectRatio: t / i
                                                }), e.sizing = !1, e.sized = !0, e.build()
                                            };
                                        if (!t.naturalWidth || i) {
                                            var n = document.createElement("img"),
                                                a = document.body || document.documentElement;
                                            (this.sizingImage = n).onload = function() {
                                                o(n.width, n.height), i || a.removeChild(n)
                                            }, n.src = t.src, i || (n.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;", a.appendChild(n))
                                        } else o(t.naturalWidth, t.naturalHeight)
                                    }
                                }, {
                                    key: "stop",
                                    value: function() {
                                        var e = this.image;
                                        e.onload = null, e.onerror = null, e.parentNode.removeChild(e), this.image = null
                                    }
                                }, {
                                    key: "build",
                                    value: function() {
                                        if (this.sized && !this.ready) {
                                            var e = this.element,
                                                t = this.options,
                                                i = this.image,
                                                o = e.parentNode,
                                                a = document.createElement("div");
                                            a.innerHTML = '<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';
                                            var s = a.querySelector("." + M + "-container"),
                                                r = s.querySelector("." + M + "-canvas"),
                                                c = s.querySelector("." + M + "-drag-box"),
                                                p = s.querySelector("." + M + "-crop-box"),
                                                h = p.querySelector("." + M + "-face");
                                            this.container = o, this.cropper = s, this.canvas = r, this.dragBox = c, this.cropBox = p, this.viewBox = s.querySelector("." + M + "-view-box"), this.face = h, r.appendChild(i), l(e, N), o.insertBefore(s, e.nextSibling), this.isImg || d(i, F), this.initPreview(), this.bind(), t.initialAspectRatio = Math.max(0, t.initialAspectRatio) || NaN, t.aspectRatio = Math.max(0, t.aspectRatio) || NaN, t.viewMode = Math.max(0, Math.min(3, Math.round(t.viewMode))) || 0, l(p, N), t.guides || l(p.getElementsByClassName(M + "-dashed"), N), t.center || l(p.getElementsByClassName(M + "-center"), N), t.background && l(s, M + "-bg"), t.highlight || l(h, "cropper-invisible"), t.cropBoxMovable && (l(h, X), u(h, G, E)), t.cropBoxResizable || (l(p.getElementsByClassName(M + "-line"), N), l(p.getElementsByClassName(M + "-point"), N)), this.render(), this.ready = !0, this.setDragMode(t.dragMode), t.autoCrop && this.crop(), this.setData(t.data), n(t.ready) && m(e, ae, t.ready, {
                                                once: !0
                                            }), v(e, ae)
                                        }
                                    }
                                }, {
                                    key: "unbuild",
                                    value: function() {
                                        this.ready && (this.ready = !1, this.unbind(), this.resetPreview(), this.cropper.parentNode.removeChild(this.cropper), d(this.element, N))
                                    }
                                }, {
                                    key: "uncreate",
                                    value: function() {
                                        this.ready ? (this.unbuild(), this.ready = !1, this.cropped = !1) : this.sizing ? (this.sizingImage.onload = null, this.sizing = !1, this.sized = !1) : this.reloading ? this.xhr.abort() : this.image && this.stop()
                                    }
                                }], [{
                                    key: "noConflict",
                                    value: function() {
                                        return window.Cropper = Le, e
                                    }
                                }, {
                                    key: "setDefaults",
                                    value: function(e) {
                                        ye(ue, o(e) && e)
                                    }
                                }]), e
                            }();
                        return ye(Re.prototype, Pe, Oe, He, Ie, De, Be), Re
                    });
                    var EditorModal = function(e) {
                        function t(e, t) {
                            e.preventDefault();
                            var n = tinyMCE.get("popup_editor") && !o ? tinyMCE.get("popup_editor").getContent() : i.find("#popup_editor").val();
                            i.find(".alert").fadeOut("fast"), "function" == typeof t && t(i, n, $(e.target))
                        }
                        var i = $("#expandButtonTemplate"),
                            o = e;
                        return this.bindRecInfo = function(e, t) {
                            i.find("label").show(), i.find(".right").html(e), i.find(":checkbox").prop("checked", t)
                        }, this.open = function(e, n, a, s, r) {
                            var l = "popup_editor";
                            try {
                                tinyMCE.execCommand("mceRemoveEditor", !1, l)
                            } catch (e) {}
                            return i.find(".progress-img").hide(), i.find(".alert").html("").hide(), i.find("p").html(a), i.find("button.right").attr(s).text(n).off("click").click(function(e) {
                                e.stopImmediatePropagation(), e.preventDefault(), t(e, r)
                            }), i.dialog({
                                title: n.replace(/&quot;/g, '"'),
                                modal: !0,
                                width: 520,
                                open: function() {
                                    if ($(".ui-widget-overlay").on("click", function() {
                                            i.dialog("close")
                                        }), o) i.find("#" + l).attr("rows", 1).val(e).focus();
                                    else try {
                                        tinymce.EditorManager.execCommand("mceAddEditor", !0, l), tinymce.EditorManager.execCommand(l, "mceFocus"), tinymce.activeEditor.setContent(e)
                                    } catch (e) {}
                                }
                            }), track("Users", "click", n), !1
                        }, this
                    };$(".myListBar").ready(function() {
                        initMyListBar(), $(".myListBar").on("click", ".moreActions a", function() {
                            track("Lists", "click", $(this).text())
                        })
                    }), $(document).ready(function() {
                        $("table.feed").on("click", ".like-item a", function(e) {
                            e.preventDefault();
                            var t = $(this),
                                i = t.attr("data-action");
                            $.getJSON("/api/user/like/feed_items/" + t.data("id") + "/" + i + "/" + TOKEN, function(e) {
                                e.success ? t.parents(".like-content").html(e.text) : alert(e.error)
                            }), track("Users", i, "Clicked like/unlike in feed")
                        })
                    }),
                    function(e) {
                        function t(e, t, i) {
                            return e + t < i && (e = i - t), e > 0 && (e = 0), e
                        }
                        e.jWindowCrop = function(i, o) {
                            function n() {
                                if (0 == f.originalWidth && (f.originalWidth = f.$image.width(), f.originalHeight = f.$image.height()), f.originalWidth > 0) {
                                    var e = f.options.targetWidth / f.originalWidth,
                                        t = f.options.targetHeight / f.originalHeight;
                                    f.minPercent = e >= t ? f.originalWidth < f.options.targetWidth ? f.options.targetWidth / f.originalWidth : e : f.originalHeight < f.options.targetHeight ? f.options.targetHeight / f.originalHeight : t, f.focalPoint = {
                                        x: Math.round(f.originalWidth / 2),
                                        y: Math.round(f.originalHeight / 2)
                                    }, f.setZoom(f.minPercent), f.$image.fadeIn("fast")
                                }
                            }

                            function a() {
                                var e = (-1 * parseInt(f.$image.css("left")) + f.options.targetWidth / 2) / f.workingPercent,
                                    t = (-1 * parseInt(f.$image.css("top")) + f.options.targetHeight / 2) / f.workingPercent;
                                f.focalPoint = {
                                    x: Math.round(e),
                                    y: Math.round(t)
                                }
                            }

                            function s() {
                                var e = t(-1 * Math.round(f.focalPoint.x * f.workingPercent - f.options.targetWidth / 2), f.$image.width(), f.options.targetWidth),
                                    i = t(-1 * Math.round(f.focalPoint.y * f.workingPercent - f.options.targetHeight / 2), f.$image.height(), f.options.targetHeight);
                                f.$image.css({
                                    left: e.toString() + "px",
                                    top: i.toString() + "px"
                                }), a()
                            }

                            function r() {
                                f.result = {
                                    cropX: Math.floor(parseInt(f.$image.css("left")) / f.workingPercent * -1),
                                    cropY: Math.floor(parseInt(f.$image.css("top")) / f.workingPercent * -1),
                                    cropW: Math.round(f.options.targetWidth / f.workingPercent),
                                    cropH: Math.round(f.options.targetHeight / f.workingPercent),
                                    mustStretch: f.minPercent > 1
                                }, f.options.onChange.call(f.image, f.result)
                            }

                            function l() {
                                n()
                            }

                            function d(e) {
                                e.preventDefault(), f.isDragging = !0, f.dragMouseCoords = {
                                    x: e.pageX || e.originalEvent.touches[0].pageX,
                                    y: e.pageY || e.originalEvent.touches[0].pageY
                                }, f.dragImageCoords = {
                                    x: parseInt(f.$image.css("left")),
                                    y: parseInt(f.$image.css("top"))
                                }
                            }

                            function c() {
                                f.isDragging = !1
                            }

                            function p(e) {
                                if (f.isDragging) {
                                    var i = (e.pageX || e.originalEvent.touches[0].pageX) - f.dragMouseCoords.x,
                                        o = (e.pageY || e.originalEvent.touches[0].pageY) - f.dragMouseCoords.y,
                                        n = t(f.dragImageCoords.x + i, f.$image.width(), f.options.targetWidth),
                                        s = t(f.dragImageCoords.y + o, f.$image.height(), f.options.targetHeight);
                                    f.$image.css({
                                        left: n.toString() + "px",
                                        top: s.toString() + "px"
                                    }), a(), r()
                                }
                            }

                            function h() {
                                f.options.smartControls && f.$frame.find(".jwc_controls").fadeIn("fast")
                            }

                            function u() {
                                f.options.smartControls && f.$frame.find(".jwc_controls").fadeOut("fast")
                            }
                            var f = this;
                            f.$image = e(i), f.image = i, f.$image.data("jWindowCrop", f), f.namespace = "jWindowCrop", f.originalWidth = 0, f.isDragging = !1, f.init = function() {
                                f.$image.css({
                                    display: "none"
                                }), f.options = e.extend({}, e.jWindowCrop.defaultOptions, o), f.options.zoomSteps < 2 && (f.options.zoomSteps = 2), f.$image.addClass("jwc_image").wrap('<div class="jwc_frame" />'), f.$frame = f.$image.parent(), f.$frame.append('<div class="jwc_loader">' + f.options.loadingText + "</div>"), f.$frame.append('<div class="jwc_controls" style="display:' + (f.options.showControlsOnStart ? "block" : "none") + ';"><span>click to drag</span><a href="#" class="jwc_zoom_in"></a><a href="#" class="jwc_zoom_out"></a></div>'), f.$frame.css({
                                    overflow: "hidden",
                                    position: "relative",
                                    width: f.options.targetWidth,
                                    height: f.options.targetHeight
                                }), f.$image.css({
                                    position: "absolute",
                                    top: "0px",
                                    left: "0px"
                                }), n(), f.$frame.find(".jwc_zoom_in").on("click." + f.namespace, f.zoomIn), f.$frame.find(".jwc_zoom_out").on("click." + f.namespace, f.zoomOut), f.$frame.on("mouseenter." + f.namespace, h), f.$frame.on("mouseleave." + f.namespace, u), f.$image.on("load." + f.namespace, l), f.$image.on("mousedown." + f.namespace + " touchstart." + f.namespace, d), e(document).on("mousemove." + f.namespace + " touchmove." + f.namespace, p), e(document).on("mouseup." + f.namespace + " touchend." + f.namespace, c)
                            }, f.destroy = function() {
                                f.$image.removeData("jWindowCrop"), e(document).unbind(), f.$image.unbind(), f.$frame.unbind(), f.$frame.find(".jwc_zoom_out").unbind(), f.$frame.find(".jwc_zoom_in").unbind(), e(".jwc_loader").remove(), e(".jwc_controls").remove(), f.$image.removeAttr("style"), f.$image.unwrap()
                            }, f.setZoom = function(e) {
                                f.minPercent >= 1 ? e = f.minPercent : e > 1 ? e = 1 : e < f.minPercent && (e = f.minPercent), f.$image.width(Math.ceil(f.originalWidth * e)), f.workingPercent = e, s(), r()
                            }, f.zoomIn = function() {
                                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                                return f.setZoom(f.workingPercent + e), !1
                            }, f.zoomOut = function() {
                                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                                return f.setZoom(f.workingPercent - e), !1
                            }, f.init()
                        }, e.jWindowCrop.defaultOptions = {
                            targetWidth: 320,
                            targetHeight: 180,
                            zoomSteps: 10,
                            loadingText: "",
                            smartControls: !0,
                            showControlsOnStart: !0,
                            onChange: function() {}
                        }, e.fn.jWindowCrop = function(t) {
                            return this.each(function() {
                                new e.jWindowCrop(this, t)
                            })
                        }, e.fn.getjWindowCrop = function() {
                            return this.data("jWindowCrop")
                        }
                    }(jQuery), jQuery.fn.rating = function(e) {
                        var t = {
                            increment: .5,
                            maxvalue: 5,
                            curvalue: 0
                        };
                        e && jQuery.extend(t, e), jQuery.extend(t, {
                            cancel: t.maxvalue > 1
                        });
                        var i = jQuery(this);
                        jQuery.extend(i, {
                            averageRating: t.curvalue
                        }), t.increment = t.increment < .75 ? .5 : 1;
                        for (var o = 0, n = 0; n <= t.maxvalue; n++) {
                            if (0 == n) {
                                if (1 == t.cancel) {
                                    i.append('<div class="cancel"><a href="#0" title="Cancel Rating">Cancel Rating</a></div>')
                                }
                            } else {
                                var a = $('<div class="star"></div>').append('<a href="#' + n + '" title="Give it ' + n + "/" + t.maxvalue + '">' + n + "</a>").appendTo(i);.5 == t.increment && (o % 2 ? a.addClass("star-left") : a.addClass("star-right"))
                            }
                            n = n - 1 + t.increment, o++
                        }
                        var s = jQuery(i).children(".star"),
                            r = jQuery(i).children(".cancel");
                        s.mouseover(function() {
                            l.drain(), l.fill(this)
                        }).mouseout(function() {
                            l.drain(), l.reset()
                        }).focus(function() {
                            l.drain(), l.fill(this)
                        }).blur(function() {
                            l.drain(), l.reset()
                        }).click(function(e, i) {
                            return t.curvalue = jQuery(this).children("a")[0].href.split("#")[1], $(this).toggleClass("on"), l.drain(), l.reset(), i || set_rating(t.curvalue, this), !1
                        }), r && r.mouseover(function() {
                            l.drain(), jQuery(this).addClass("on")
                        }).mouseout(function() {
                            l.reset(), jQuery(this).removeClass("on")
                        }).focus(function() {
                            l.drain(), jQuery(this).addClass("on")
                        }).blur(function() {
                            l.reset(), jQuery(this).removeClass("on")
                        }).click(function(e, i) {
                            return t.curvalue = 0, l.drain(), l.reset(), i || set_rating(jQuery(this).children("a")[0].href.split("#")[1], this), !1
                        });
                        var l = {
                            fill: function(e) {
                                var t = s.index(e) + 1;
                                s.children("a").css("width", "100%").end().slice(0, t).addClass("hover").end()
                            },
                            drain: function() {
                                s.filter(".on").removeClass("on").end().filter(".hover").removeClass("hover").end()
                            },
                            reset: function() {
                                s.slice(0, t.curvalue / t.increment).addClass("on").end()
                            }
                        };
                        return l.reset(), this
                    },
                    $(function() {
                        initRating(".desktop")
                    }),
                    function(e, t) {
                        "object" == typeof module && "object" == typeof module.exports ? module.exports = t(e, !0) : t(e)
                    }("undefined" != typeof window ? window : this, function(e, t) {
                        "use strict";

                        function i(e) {
                            return P.call(e).slice(8, -1).toLowerCase()
                        }

                        function o(e) {
                            return "number" == typeof e && !isNaN(e)
                        }

                        function n(e) {
                            return "object" == typeof e && null !== e
                        }

                        function a(e) {
                            var t, i;
                            if (!n(e)) return !1;
                            try {
                                return t = e.constructor, i = t.prototype, t && i && O.call(i, "isPrototypeOf")
                            } catch (e) {
                                return !1
                            }
                        }

                        function s(e) {
                            return "function" === i(e)
                        }

                        function r(e) {
                            return Array.isArray ? Array.isArray(e) : "array" === i(e)
                        }

                        function l(e, t) {
                            var i = [];
                            return t = t >= 0 ? t : 0, Array.from ? Array.from(e).slice(t) : i.slice.call(e, t)
                        }

                        function d(e, t) {
                            var i, a;
                            if (e && s(t))
                                if (r(e) || o(e.length))
                                    for (a = 0, i = e.length; i > a && !1 !== t.call(e, e[a], a, e); a++);
                                else if (n(e))
                                for (a in e)
                                    if (e.hasOwnProperty(a) && !1 === t.call(e, e[a], a, e)) break;
                            return e
                        }

                        function c(e) {
                            var t;
                            if (arguments.length > 1) {
                                if (t = l(arguments), Object.assign) return Object.assign.apply(Object, t);
                                t.shift(), d(t, function(t) {
                                    d(t, function(t, i) {
                                        e[i] = t
                                    })
                                })
                            }
                            return e
                        }

                        function p(e, t) {
                            var i = l(arguments, 2);
                            return function() {
                                return e.apply(t, i.concat(l(arguments)))
                            }
                        }

                        function h(e, t, i) {
                            var o = "",
                                n = t;
                            for (i += t; i > n; n++) o += H(e.getUint8(n));
                            return o
                        }

                        function u(e) {
                            var t, i = e.replace(b, ""),
                                o = atob(i),
                                n = o.length,
                                a = new w(n),
                                s = new Uint8Array(a);
                            for (t = 0; n > t; t++) s[t] = o.charCodeAt(t);
                            return a
                        }

                        function f(e) {
                            var t, i = new Uint8Array(e),
                                o = i.length,
                                n = "";
                            for (t = 0; o > t; t++) n += H(i[t]);
                            return "data:image/jpeg;base64," + btoa(n)
                        }

                        function g(e) {
                            var t = new Image;
                            return t.src = e, t
                        }

                        function m(e) {
                            var t = M(e.degree) % 180,
                                i = (t > 90 ? 180 - t : t) * k / 180,
                                o = S(i),
                                n = $(i),
                                a = e.width,
                                s = e.height;
                            return {
                                width: a * n + s * o,
                                height: a * o + s * n
                            }
                        }

                        function v(e, t) {
                            this.image = e, this.options = c({}, v.DEFAULTS, a(t) && t), this.data = null, this.init()
                        }
                        var w = e.ArrayBuffer,
                            y = /^data\:/,
                            b = /^data\:([^\;]+)\;base64,/,
                            x = /^data\:image\/jpeg.*;base64,/,
                            k = Math.PI,
                            C = Math.min,
                            T = Math.max,
                            S = Math.sin,
                            $ = Math.cos,
                            M = Math.abs,
                            E = Math.floor,
                            A = Object.prototype,
                            P = A.toString,
                            O = A.hasOwnProperty,
                            H = String.fromCharCode;
                        v.prototype = {
                            constructor: v,
                            init: function() {
                                var e, t, i = this,
                                    o = this.image;
                                if (!o || "img" !== o.tagName.toLowerCase() || !o.src) throw new Error("The given image is not a valid image");
                                return w ? (t = o.src, y.test(t) ? x.test(t) ? this.read(u(t)) : this.load(o) : (e = new XMLHttpRequest, e.onerror = e.onabort = function() {
                                    i.load(o)
                                }, e.onload = function() {
                                    i.read(this.response)
                                }, e.open("get", t), e.responseType = "arraybuffer", void e.send())) : this.load(o)
                            },
                            read: function(e) {
                                var t = this.readOrientation(e);
                                t > 1 ? (this.translate(t), this.load(g(f(e)))) : this.load(this.image)
                            },
                            readOrientation: function(e) {
                                var t, i, o, n, a, s, r, l, d, c, p = new DataView(e),
                                    u = p.byteLength;
                                if (255 === p.getUint8(0) && 216 === p.getUint8(1))
                                    for (d = 2; u > d;) {
                                        if (255 === p.getUint8(d) && 225 === p.getUint8(d + 1)) {
                                            r = d;
                                            break
                                        }
                                        d++
                                    }
                                if (r && (i = r + 4, o = r + 10, "Exif" === h(p, i, 4) && (s = p.getUint16(o), ((a = 18761 === s) || 19789 === s) && 42 === p.getUint16(o + 2, a) && (n = p.getUint32(o + 4, a)) >= 8 && (l = o + n))), l)
                                    for (u = p.getUint16(l, a), c = 0; u > c; c++)
                                        if (d = l + 12 * c + 2, 274 === p.getUint16(d, a)) {
                                            t = p.getUint16(d + 8, a), p.setUint16(d + 8, 1, a);
                                            break
                                        }
                                return t
                            },
                            translate: function(e) {
                                var t = 0,
                                    i = 1,
                                    o = 1;
                                switch (e) {
                                    case 2:
                                        i = -1;
                                        break;
                                    case 3:
                                        t = -180;
                                        break;
                                    case 4:
                                        o = -1;
                                        break;
                                    case 5:
                                        t = 90, o = -1;
                                        break;
                                    case 6:
                                        t = 90;
                                        break;
                                    case 7:
                                        t = 90, i = -1;
                                        break;
                                    case 8:
                                        t = -90
                                }
                                this.data = {
                                    rotate: t,
                                    scaleX: i,
                                    scaleY: o
                                }
                            },
                            load: function(e) {
                                var t = p(function() {
                                    e.removeEventListener("load", t, !1), this.resize(e)
                                }, this);
                                e.complete ? this.resize(e) : e.addEventListener("load", t, !1)
                            },
                            draw: function(e) {
                                var t, i, n, a = document.createElement("canvas"),
                                    s = a.getContext("2d"),
                                    r = this.data,
                                    l = 0,
                                    d = 0,
                                    c = e.naturalWidth,
                                    p = e.naturalHeight,
                                    h = r && r.rotate,
                                    u = r && r.scaleX,
                                    f = r && r.scaleY,
                                    g = o(u) && o(f) && (1 !== u || 1 !== f),
                                    v = o(h) && 0 !== h,
                                    w = v || g,
                                    y = c,
                                    b = p;
                                return g && (t = c / 2, i = p / 2), v && (n = m({
                                    width: c,
                                    height: p,
                                    degree: h
                                }), y = n.width, b = n.height, t = n.width / 2, i = n.height / 2), a.width = y, a.height = b, w && (l = -c / 2, d = -p / 2, s.save(), s.translate(t, i)), v && s.rotate(h * k / 180), g && s.scale(u, f), s.drawImage(e, E(l), E(d), E(c), E(p)), w && s.restore(), a
                            },
                            resize: function(e) {
                                var t = this.options,
                                    i = this.draw(e),
                                    n = i.width,
                                    a = i.height,
                                    s = n / a,
                                    r = document.createElement("canvas"),
                                    l = T(0, t.minWidth) || 0,
                                    d = T(0, t.minHeight) || 0,
                                    c = T(l, t.maxWidth) || 1 / 0,
                                    p = T(d, t.maxHeight) || 1 / 0,
                                    h = M(t.width) || n,
                                    u = M(t.height) || a;
                                l > 0 && isFinite(l) ? d = l / s : d > 0 && isFinite(d) && (l = d * s), c > 0 && isFinite(c) ? p = c / s : p > 0 && isFinite(p) && (c = p * s), h = C(T(h, l), c), u = C(T(u, d), p), o(h) && o(u) ? u * s > h ? u = h / s : h = u * s : (h = n, u = a), r.width = h, r.height = u, r.getContext("2d").drawImage(i, 0, 0, E(n), E(a), 0, 0, E(h), E(u)), this.done(r)
                            },
                            done: function(e) {
                                var t = this.options,
                                    i = e;
                                "image" === t.type && (i = g(e.toDataURL())), s(t.done) && t.done.call(this, i)
                            }
                        }, v.DEFAULTS = {
                            type: "image",
                            width: NaN,
                            height: NaN,
                            minWidth: 0,
                            minHeight: 0,
                            maxWidth: 1 / 0,
                            maxHeight: 1 / 0,
                            done: null
                        };
                        var I = e.Loader;
                        return v.noConflict = function() {
                            return e.Loader = I, v
                        }, "function" == typeof define && define.amd && define("loader", [], function() {
                            return v
                        }), void 0 === t && (e.Loader = v), v
                    }), $(document).ready(function() {
                        ($("body").hasClass("mobile") || $("body").hasClass("tablet")) && $("body").on("click", ".myListBar .starrating", function(e) {
                            if (!0 === e.handled) return !1;
                            var t = $(this).closest("form"),
                                i = t.data("id"),
                                o = t.data("mode"),
                                n = $(this).find(".rateme").attr("name"),
                                a = "";
                            n || (n = 0);
                            for (var s = .5; s <= 5; s++) a += "<tr><td>" + getRateDesc(s) + "</td>" + buildRateCell(s, n) + buildRateCell(s + .5, n) + "</tr>";
                            var r = $("<div><form class='" + o + i + "' data-mode='" + o + "' data-id='" + i + "'><table class='pure-table touchRateTable'>" + a + "<tr><td>No rating</td>" + buildRateCell(0, n) + "</tr></table></form></div>");
                            showModal(e, "<h5>What did you think of <b>" + t.parents().siblings(".tableTitle").text() + "</b>?</h5>" + r.html()), $(".touchRateTable").find(".starrating").off("click", doRating).on("click", doRating), t.off("Rated", updateTableRating).on("Rated", updateTableRating), e.handled = !0
                        })
                    }), $(document).ready(function() {
                        $("#siteContainer").on("click", ".expandButton", function(e) {
                            e.stopImmediatePropagation(), e.preventDefault();
                            var t = $(this).data();
                            $.post("/api/rec/get/" + TOKEN, t, function(e) {
                                if (e.error) return void alert(e.error);
                                var i = new EditorModal,
                                    o = "<a href='/" + e.from_type + "/" + e.from.url_slug,
                                    n = "If you liked " + o + "'>" + e.from.name + "</a> or <a href='/" + e.to_type + "/" + e.to.url_slug + "'>" + e.to.name + "</a>, you'd like the other because...";
                                return i.bindRecInfo("<p>or, " + o + "/recommendations/add'>add different recommendations for " + e.from.name + "</a>", e.my_reverse_rec_exists), i.open(e.reason ? e.reason : "", e.my_rec_exists ? "Update" : "Add rec", n, t, updateRec)
                            }, "json")
                        })
                    }),
                    function() {
                        function e(t, o) {
                            var n = /\W/.test(t) ? new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + t.replace(/[\r\t\n]/g, " ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');") : i[t] = i[t] || e(document.getElementById(t).innerHTML);
                            return o ? n(o) : n
                        }

                        function t(t) {
                            return e("item_tmpl", t)
                        }
                        var i = {};
                        EntryBuilder = {
                            build: t
                        }
                    }(),
                    function(e, t) {
                        function i(e, i, o) {
                            var n = new Suggestination(t);
                            n.init(e, i, o, "get"), a(n)
                        }

                        function o(e, i, o) {
                            var n = new Suggestination(t);
                            n.init(e, i, o, "get_related"), a(n)
                        }

                        function n(i, o, n, s, r) {
                            s = "number" == typeof s ? s : 4, $container = e("#" + i), prevWasStriped = !$container.hasClass("bg-themeColor"), e.post("/api/suggestions/get_tags", {
                                limit: s,
                                type: n,
                                name: r
                            }, function(s) {
                                s.success ? (s.tags.forEach(function(s) {
                                    $container.clone().attr("id", i + s.id).insertAfter($container), $newContainer = e("#" + i + s.id), $newContainer.find(".button").attr("href", "tags?name=" + s.url), prevWasStriped ? $newContainer.removeClass("bg-themeColor") : $newContainer.addClass("bg-themeColor"), prevWasStriped = !prevWasStriped;
                                    var r = new Suggestination(t);
                                    r.init(i + s.id, o, n, "get", {
                                        singleTag: !0,
                                        tag_id: s.id
                                    }), a(r)
                                }), $container.remove()) : ($container.find(".progress-img").hide(), $container.find(".NoSuggestion").html(s.error).fadeIn(), $container.find("h1").text("Suggestions based on tags you love"), $container.show())
                            }, "json")
                        }

                        function a(t) {
                            e(document).on("rated markedNotInterested", function(e, i) {
                                i.error ? t.showErrorMessage(i.error) : t.loadNewSuggestion(i.mode, i.id)
                            })
                        }

                        function s(t, i) {
                            e.post("/api/suggestions/suppress/" + TOKEN, {
                                id: i,
                                type: t,
                                requestReplacement: !1
                            }, function(o) {
                                e(document).trigger("markedNotInterested", [{
                                    mode: t,
                                    id: i,
                                    error: o.error
                                }])
                            })
                        }
                        Suggestinator = {
                            random: i,
                            related: o,
                            notInterested: s,
                            singleTag: n
                        }
                    }(jQuery, EntryBuilder);
                    var Suggestination = function(e) {
                        function t(t, i) {
                            var o = $.parseHTML(e.build(i));
                            $(t).each(function() {
                                $(this).tooltip("destroy")
                            });
                            var n = t.parent().fadeTo(50, .2, function() {
                                $(".ui-tooltip").remove(), n.find("a").replaceWith($(o).find("a")), n.attr("data-id", i.id).attr("data-status", 0), n.fadeTo(200, 1), Tooltip.newTooltips(n.find(".tooltip"))
                            })
                        }

                        function i(e, t) {
                            var i = t.map(function() {
                                    return this.className.match(/(anime|manga)([0-9]+)/g)
                                }).get(),
                                o = [];
                            return $.each(e, function(e, t) {
                                -1 == $.inArray(t.type + t.id, i) && o.push(t)
                            }), o
                        }
                        var o, n, a, s, r, l, d, c, p, h, u = [],
                            f = !1;
                        return this.init = function(e, t, i, d, u) {
                            c = d, o = $("#" + e).find(".Suggestions"), n = $("#" + e).find(".NoSuggestion"), a = $("#" + e).find("h1"), r = "number" == typeof t ? t : 7, l = i, s = this.getMoreSuggestions, h = this.showErrorMessage, p = e, s(u)
                        }, this.getMoreSuggestions = function(t) {
                            $.post("/api/suggestions/" + c, $.extend({
                                totalRequested: 2 * r,
                                type: l
                            }, t), function(t) {
                                if ($("#" + p).show(), t.list && t.list.length) {
                                    t.list.length < 2 * r && (f = !0, n.text(t.error)), t.tag_id && (d = {
                                        singleTag: !0,
                                        tag_id: t.tag_id
                                    }), t.tag_name && a.find("i").replaceWith(t.tag_name), u = t.list.slice(r);
                                    var i = "";
                                    $(t.list).each(function(t, o) {
                                        var n = e.build(o);
                                        t < r && (i += n)
                                    }), o.find(".progress-img").hide(), o.find("ul").fadeIn().append(i), o.parent().find(".button").fadeIn(), Tooltip.newTooltips(o.find(".tooltip"))
                                } else h(t.error)
                            }, "json")
                        }, this.showErrorMessage = function(e) {
                            o.find(".progress-img").hide(function() {
                                n.html(e).fadeIn()
                            })
                        }, this.loadNewSuggestion = function(e, a) {
                            var c = o.find("a." + e + a),
                                p = u[0];
                            if (p) u = u.splice(1), t(c, p);
                            else if (f) c.parent().remove(), o.find("li").length || (o.parent().find(".button").hide(), n.fadeIn());
                            else {
                                s($.extend({
                                    totalRequested: 2 * r,
                                    type: l
                                }, d), function(e) {
                                    e.list && e.list.length ? (u = i(e.list, o.find(".card a")), u.length ? (f = !1, t(c, u[0]), u = u.splice(1)) : (f = !0, n.text(e.error), c.parent().remove())) : (f = !0, h(e.error))
                                })
                            }
                        }, this
                    };! function(e) {
                        function t() {
                            e("body").hasClass("mobile") || e("body").hasClass("tablet") ? (e(".recoCta .tooltip").add(".tableReason .tooltip").add(e(".tooltip.fa-question-circle")).on("click", function(t) {
                                showModal(t, e(this).attr("title"))
                            }), e(".touchTooltip").on("click", function(t) {
                                showModal(t, e(this).siblings(".tableTitle").find(".tooltip").attr("title"))
                            })) : i(e(".tooltip"))
                        }

                        function i(t) {
                            t.each(function() {
                                var t = e(this).data("class"),
                                    i = !1,
                                    o = {
                                        effect: "hide"
                                    },
                                    n = t ? "right+11 top-22" : "right+11 top+20";
                                t && t.indexOf("hoverable") > -1 && (t = t.replace("hoverable", ""), i = !0, o = {}), e(this).tooltip({
                                    content: function() {
                                        return e(this).attr("title")
                                    },
                                    position: {
                                        my: "fav" == t ? "center bottom" : "left top",
                                        at: "fav" == t ? "center bottom+58" : n,
                                        collision: t ? "none" : "flip none",
                                        using: function(i, o) {
                                            e(this).css(i).addClass(o.horizontal).addClass(t)
                                        }
                                    },
                                    hide: o,
                                    show: {
                                        effect: "show",
                                        delay: 350
                                    },
                                    close: function(t, o) {
                                        i && o.tooltip.hover(function() {
                                            e(this).stop(!0).fadeTo(50, 1)
                                        }, function() {
                                            e(this).remove()
                                        })
                                    }
                                })
                            })
                        }
                        Tooltip = {
                            init: t,
                            newTooltips: i
                        }
                    }(jQuery), $(document).ready(Tooltip.init),
                    function(e) {
                        function t() {
                            o("anime"), o("manga"), i("tags")
                        }

                        function i(t) {
                            AjaxTooltip.data[t] = {}, ids = e.map(e('[data-tooltip="' + t + '"]'), function(i) {
                                var o = a(i),
                                    n = "Tooltip:" + t + ":" + o,
                                    s = localStorage.getItem(n);
                                s && (AjaxTooltip.data[t].hasOwnProperty(o) || (AjaxTooltip.data[t][o] = {}), AjaxTooltip.data[t][o].normal = s);
                                var r = "Tooltip:" + t + ":" + o + ":character",
                                    l = localStorage.getItem(r);
                                return l && (AjaxTooltip.data[t].hasOwnProperty(o) || (AjaxTooltip.data[t][o] = {}), AjaxTooltip.data[t][o].character = l), ("characters" === e(i).data("tooltip-entry") ? l : s) ? null : o
                            }).filter(Boolean), ids.length && e.getJSON("/api/tooltip/" + t + "?ids=" + ids.join(","), function(i) {
                                for (var o in i) AjaxTooltip.data[t][o] = {
                                    normal: i[o].tooltip,
                                    character: i[o].char_tooltip
                                }, i[o].tooltip && localStorage.setItem("Tooltip:" + t + ":" + o, i[o].tooltip), i[o].char_tooltip && localStorage.setItem("Tooltip:" + t + ":" + o + ":character", i[o].char_tooltip);
                                var n = e('.progress-img[data-type="' + t + '"]');
                                n.length && n.replaceWith(s(n.data("entry"), t, n.data("id")))
                            })
                        }

                        function o(t) {
                            AjaxTooltip.data[t] = {}, ids = e.map(e('[data-tooltip="' + t + '"]'), function(e) {
                                return a(e)
                            }).filter(Boolean), ids.length && e.getJSON("/api/tooltip/" + t + "?ids=" + ids.join(","), function(i) {
                                for (var o in i) AjaxTooltip.data[t][o] = i[o];
                                var n = e('.progress-img[data-type="' + t + '"]');
                                n.length && n.replaceWith(s(n.data("entry"), t, n.data("id")))
                            })
                        }

                        function n(e, t, i) {
                            return "<span class='progress-img' style='display:block;position:static' data-entry='" + e + "' data-type='" + t + "' data-id='" + i + "'>"
                        }

                        function a(t) {
                            var i = t.dataset.tooltipEntry,
                                o = t.dataset.tooltip,
                                a = t.dataset.tooltipId;
                            return t.title = "", e(t).tooltip({
                                hide: {
                                    effect: "hide"
                                },
                                show: {
                                    effect: "show",
                                    delay: 350
                                },
                                content: function() {
                                    var e = s(i, o, a);
                                    return null == e ? n(i, o) : e
                                },
                                position: {
                                    my: "left top",
                                    collision: "none",
                                    at: "right+11 top-22",
                                    using: function(t, i) {
                                        e(this).css(t).addClass(i.horizontal)
                                    }
                                }
                            }), a
                        }

                        function s(e, t, i) {
                            var o = AjaxTooltip.data[t][i];
                            return "anime" != t && "manga" != t && (o = o["characters" === e ? "character" : "normal"]), o && e && (o = o.replace(/&quot;/g, '"'), o = o.replace(/{type}/g, e), o = o.replace(/{Type}/g, e.substring(0, 1).toUpperCase() + e.substring(1))), o
                        }
                        if (AjaxTooltip = {}, AjaxTooltip.data = {}, AjaxTooltip.cacheExpiration = localStorage.getItem("Tooltips:CacheExpiration"), !AjaxTooltip.cacheExpiration || new Date(AjaxTooltip.cacheExpiration) < new Date) {
                            AjaxTooltip.cacheExpiration = new Date, AjaxTooltip.cacheExpiration.setDate(AjaxTooltip.cacheExpiration.getDate() + 7), localStorage.setItem("Tooltips:CacheExpiration", AjaxTooltip.cacheExpiration.toISOString());
                            for (var r in localStorage) 0 == r.indexOf("Tooltip:") && localStorage.removeItem(r)
                        }
                        AjaxTooltip.init = t
                    }(jQuery), $(document).ready(AjaxTooltip.init);
                    "naturalHeight"
                ], function(i) {
                    t[i] = e[i]
                }), t
            },
            setCanvasData: function(t) {
                var i = this.canvasData,
                    n = i.aspectRatio;
                return this.ready && !this.disabled && o(t) && (e(t.left) && (i.left = t.left), e(t.top) && (i.top = t.top), e(t.width) ? (i.width = t.width, i.height = t.width / n) : e(t.height) && (i.height = t.height, i.width = t.height * n), this.renderCanvas(!0)), this
            },
            getCropBoxData: function() {
                var e = this.cropBoxData,
                    t = void 0;
                return this.ready && this.cropped && (t = {
                    left: e.left,
                    top: e.top,
                    width: e.width,
                    height: e.height
                }), t || {}
            },
            setCropBoxData: function(t) {
                var i = this.cropBoxData,
                    n = this.options.aspectRatio,
                    a = void 0,
                    s = void 0;
                return this.ready && this.cropped && !this.disabled && o(t) && (e(t.left) && (i.left = t.left), e(t.top) && (i.top = t.top), e(t.width) && t.width !== i.width && (a = !0, i.width = t.width), e(t.height) && t.height !== i.height && (s = !0, i.height = t.height), n && (a ? i.height = i.width / n : s && (i.width = i.height * n)), this.renderCropBox()), this
            },
            getCroppedCanvas: function() {
                var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
                if (!this.ready || !window.HTMLCanvasElement) return null;
                var t, i, o, n, a, r, l, d, c, p, h, u, f, g, m, v, w, y, b, x, k, T, S, $, M, E, A, P, O, H, I, D, B, L, R, _, j, W, z, N, F, U = this.canvasData,
                    X = (t = this.image, i = this.imageData, o = U, n = e, a = i.aspectRatio, r = i.naturalWidth, l = i.naturalHeight, d = i.rotate, c = void 0 === d ? 0 : d, p = i.scaleX, h = void 0 === p ? 1 : p, u = i.scaleY, f = void 0 === u ? 1 : u, g = o.aspectRatio, m = o.naturalWidth, v = o.naturalHeight, w = n.fillColor, y = void 0 === w ? "transparent" : w, b = n.imageSmoothingEnabled, x = void 0 === b || b, k = n.imageSmoothingQuality, T = void 0 === k ? "low" : k, S = n.maxWidth, $ = void 0 === S ? 1 / 0 : S, M = n.maxHeight, E = void 0 === M ? 1 / 0 : M, A = n.minWidth, P = void 0 === A ? 0 : A, O = n.minHeight, H = void 0 === O ? 0 : O, I = document.createElement("canvas"), D = I.getContext("2d"), B = C({
                        aspectRatio: g,
                        width: $,
                        height: E
                    }), L = C({
                        aspectRatio: g,
                        width: P,
                        height: H
                    }, "cover"), R = Math.min(B.width, Math.max(L.width, m)), _ = Math.min(B.height, Math.max(L.height, v)), j = C({
                        aspectRatio: a,
                        width: $,
                        height: E
                    }), W = C({
                        aspectRatio: a,
                        width: P,
                        height: H
                    }, "cover"), z = Math.min(j.width, Math.max(W.width, r)), N = Math.min(j.height, Math.max(W.height, l)), F = [-z / 2, -N / 2, z, N], I.width = s(R), I.height = s(_), D.fillStyle = y, D.fillRect(0, 0, R, _), D.save(), D.translate(R / 2, _ / 2), D.rotate(c * Math.PI / 180), D.scale(h, f), D.imageSmoothingEnabled = x, D.imageSmoothingQuality = T, D.drawImage.apply(D, [t].concat(me(F.map(function(e) {
                        return Math.floor(s(e))
                    })))), D.restore(), I);
                if (!this.cropped) return X;
                var G = this.getData(),
                    q = G.x,
                    K = G.y,
                    V = G.width,
                    Y = G.height,
                    Q = X.width / Math.floor(U.naturalWidth);
                1 !== Q && (q *= Q, K *= Q, V *= Q, Y *= Q);
                var Z = V / Y,
                    J = C({
                        aspectRatio: Z,
                        width: e.maxWidth || 1 / 0,
                        height: e.maxHeight || 1 / 0
                    }),
                    ee = C({
                        aspectRatio: Z,
                        width: e.minWidth || 0,
                        height: e.minHeight || 0
                    }, "cover"),
                    te = C({
                        aspectRatio: Z,
                        width: e.width || (1 !== Q ? X.width : V),
                        height: e.height || (1 !== Q ? X.height : Y)
                    }),
                    ie = te.width,
                    oe = te.height;
                ie = Math.min(J.width, Math.max(ee.width, ie)), oe = Math.min(J.height, Math.max(ee.height, oe));
                var ne = document.createElement("canvas"),
                    ae = ne.getContext("2d");
                ne.width = s(ie), ne.height = s(oe), ae.fillStyle = e.fillColor || "transparent", ae.fillRect(0, 0, ie, oe);
                var se = e.imageSmoothingEnabled,
                    re = void 0 === se || se,
                    le = e.imageSmoothingQuality;
                ae.imageSmoothingEnabled = re, le && (ae.imageSmoothingQuality = le);
                var de = X.width,
                    ce = X.height,
                    pe = q,
                    he = K,
                    ue = void 0,
                    fe = void 0,
                    ge = void 0,
                    ve = void 0,
                    we = void 0,
                    ye = void 0;
                pe <= -V || de < pe ? we = ge = ue = pe = 0 : pe <= 0 ? (ge = -pe, pe = 0, we = ue = Math.min(de, V + pe)) : pe <= de && (ge = 0, we = ue = Math.min(V, de - pe)), ue <= 0 || he <= -Y || ce < he ? ye = ve = fe = he = 0 : he <= 0 ? (ve = -he, he = 0, ye = fe = Math.min(ce, Y + he)) : he <= ce && (ve = 0, ye = fe = Math.min(Y, ce - he));
                var be = [pe, he, ue, fe];
                if (0 < we && 0 < ye) {
                    var xe = ie / V;
                    be.push(ge * xe, ve * xe, we * xe, ye * xe)
                }
                return ae.drawImage.apply(ae, [X].concat(me(be.map(function(e) {
                    return Math.floor(s(e))
                })))), ne
            },
            setAspectRatio: function(e) {
                var i = this.options;
                return this.disabled || t(e) || (i.aspectRatio = Math.max(0, e) || NaN, this.ready && (this.initCropBox(), this.cropped && this.renderCropBox())), this
            },
            setDragMode: function(e) {
                var t = this.options,
                    i = this.dragBox,
                    o = this.face;
                if (this.ready && !this.disabled) {
                    var n = e === K,
                        a = t.movable && e === V;
                    e = n || a ? e : Y, t.dragMode = e, u(i, G, e), c(i, W, n), c(i, X, a), t.cropBoxMovable || (u(o, G, e), c(o, W, n), c(o, X, a))
                }
                return this
            }
        },
        Le = $.Cropper,
        Re = function() {
            function e(t) {
                var i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                if (function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), !t || !he.test(t.tagName)) throw new Error("The first argument is required and must be an <img> or <canvas> element.");
                this.element = t, this.options = ye({}, ue, o(i) && i), this.cropped = !1, this.disabled = !1, this.pointers = {}, this.ready = !1, this.reloading = !1, this.replaced = !1, this.sized = !1, this.sizing = !1, this.init()
            }
            return ge(e, [{
                key: "init",
                value: function() {
                    var e = this.element,
                        t = e.tagName.toLowerCase(),
                        i = void 0;
                    if (!h(e, M)) {
                        if (u(e, M, this), "img" === t) {
                            if (this.isImg = !0, i = e.getAttribute("src") || "", !(this.originalUrl = i)) return;
                            i = e.src
                        } else "canvas" === t && window.HTMLCanvasElement && (i = e.toDataURL());
                        this.load(i)
                    }
                }
            }, {
                key: "load",
                value: function(e) {
                    var t = this;
                    if (e) {
                        this.url = e, this.imageData = {};
                        var i = this.element,
                            o = this.options;
                        if (o.rotatable || o.scalable || (o.checkOrientation = !1), o.checkOrientation && window.ArrayBuffer)
                            if (ce.test(e)) pe.test(e) ? this.read((n = e.replace(Ae, ""), s = atob(n), r = new ArrayBuffer(s.length), a(l = new Uint8Array(r), function(e, t) {
                                l[t] = s.charCodeAt(t)
                            }), r)) : this.clone();
                            else {
                                var n, s, r, l, d = new XMLHttpRequest;
                                this.reloading = !0, this.xhr = d;
                                var c = function() {
                                    t.reloading = !1, t.xhr = null
                                };
                                d.ontimeout = c, d.onabort = c, d.onerror = function() {
                                    c(), t.clone()
                                }, d.onload = function() {
                                    c(), t.read(d.response)
                                }, o.checkCrossOrigin && y(e) && i.crossOrigin && (e = b(e)), d.open("get", e), d.responseType = "arraybuffer", d.withCredentials = "use-credentials" === i.crossOrigin, d.send()
                            } else this.clone()
                    }
                }
            }, {
                key: "read",
                value: function(e) {
                    var t, i, o, s = this.options,
                        r = this.imageData,
                        l = T(e),
                        d = 0,
                        c = 1,
                        p = 1;
                    if (1 < l) {
                        this.url = (t = "image/jpeg", i = new Uint8Array(e), o = "", n(i.forEach) ? i.forEach(function(e) {
                            o += Ee(e)
                        }) : a(i, function(e) {
                            o += Ee(e)
                        }), "data:" + t + ";base64," + btoa(o));
                        var h = function(e) {
                            var t = 0,
                                i = 1,
                                o = 1;
                            switch (e) {
                                case 2:
                                    i = -1;
                                    break;
                                case 3:
                                    t = -180;
                                    break;
                                case 4:
                                    o = -1;
                                    break;
                                case 5:
                                    t = 90, o = -1;
                                    break;
                                case 6:
                                    t = 90;
                                    break;
                                case 7:
                                    t = 90, i = -1;
                                    break;
                                case 8:
                                    t = -90
                            }
                            return {
                                rotate: t,
                                scaleX: i,
                                scaleY: o
                            }
                        }(l);
                        d = h.rotate, c = h.scaleX, p = h.scaleY
                    }
                    s.rotatable && (r.rotate = d), s.scalable && (r.scaleX = c, r.scaleY = p), this.clone()
                }
            }, {
                key: "clone",
                value: function() {
                    var e = this.element,
                        t = this.url,
                        i = void 0,
                        o = void 0;
                    this.options.checkCrossOrigin && y(t) && ((i = e.crossOrigin) ? o = t : (i = "anonymous", o = b(t))), this.crossOrigin = i, this.crossOriginUrl = o;
                    var n = document.createElement("img");
                    i && (n.crossOrigin = i), n.src = o || t, (this.image = n).onload = this.start.bind(this), n.onerror = this.stop.bind(this), l(n, F), e.parentNode.insertBefore(n, e.nextSibling)
                }
            }, {
                key: "start",
                value: function() {
                    var e = this,
                        t = this.isImg ? this.element : this.image;
                    t.onload = null, t.onerror = null, this.sizing = !0;
                    var i = $.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test($.navigator.userAgent),
                        o = function(t, i) {
                            ye(e.imageData, {
                                naturalWidth: t,
                                naturalHeight: i,
                                aspectRatio: t / i
                            }), e.sizing = !1, e.sized = !0, e.build()
                        };
                    if (!t.naturalWidth || i) {
                        var n = document.createElement("img"),
                            a = document.body || document.documentElement;
                        (this.sizingImage = n).onload = function() {
                            o(n.width, n.height), i || a.removeChild(n)
                        }, n.src = t.src, i || (n.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;", a.appendChild(n))
                    } else o(t.naturalWidth, t.naturalHeight)
                }
            }, {
                key: "stop",
                value: function() {
                    var e = this.image;
                    e.onload = null, e.onerror = null, e.parentNode.removeChild(e), this.image = null
                }
            }, {
                key: "build",
                value: function() {
                    if (this.sized && !this.ready) {
                        var e = this.element,
                            t = this.options,
                            i = this.image,
                            o = e.parentNode,
                            a = document.createElement("div");
                        a.innerHTML = '<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';
                        var s = a.querySelector("." + M + "-container"),
                            r = s.querySelector("." + M + "-canvas"),
                            c = s.querySelector("." + M + "-drag-box"),
                            p = s.querySelector("." + M + "-crop-box"),
                            h = p.querySelector("." + M + "-face");
                        this.container = o, this.cropper = s, this.canvas = r, this.dragBox = c, this.cropBox = p, this.viewBox = s.querySelector("." + M + "-view-box"), this.face = h, r.appendChild(i), l(e, N), o.insertBefore(s, e.nextSibling), this.isImg || d(i, F), this.initPreview(), this.bind(), t.initialAspectRatio = Math.max(0, t.initialAspectRatio) || NaN, t.aspectRatio = Math.max(0, t.aspectRatio) || NaN, t.viewMode = Math.max(0, Math.min(3, Math.round(t.viewMode))) || 0, l(p, N), t.guides || l(p.getElementsByClassName(M + "-dashed"), N), t.center || l(p.getElementsByClassName(M + "-center"), N), t.background && l(s, M + "-bg"), t.highlight || l(h, "cropper-invisible"), t.cropBoxMovable && (l(h, X), u(h, G, E)), t.cropBoxResizable || (l(p.getElementsByClassName(M + "-line"), N), l(p.getElementsByClassName(M + "-point"), N)), this.render(), this.ready = !0, this.setDragMode(t.dragMode), t.autoCrop && this.crop(), this.setData(t.data), n(t.ready) && m(e, ae, t.ready, {
                            once: !0
                        }), v(e, ae)
                    }
                }
            }, {
                key: "unbuild",
                value: function() {
                    this.ready && (this.ready = !1, this.unbind(), this.resetPreview(), this.cropper.parentNode.removeChild(this.cropper), d(this.element, N))
                }
            }, {
                key: "uncreate",
                value: function() {
                    this.ready ? (this.unbuild(), this.ready = !1, this.cropped = !1) : this.sizing ? (this.sizingImage.onload = null, this.sizing = !1, this.sized = !1) : this.reloading ? this.xhr.abort() : this.image && this.stop()
                }
            }], [{
                key: "noConflict",
                value: function() {
                    return window.Cropper = Le, e
                }
            }, {
                key: "setDefaults",
                value: function(e) {
                    ye(ue, o(e) && e)
                }
            }]), e
        }();
    return ye(Re.prototype, Pe, Oe, He, Ie, De, Be), Re
});
var EditorModal = function(e) {
    function t(e, t) {
        e.preventDefault();
        var n = tinyMCE.get("popup_editor") && !o ? tinyMCE.get("popup_editor").getContent() : i.find("#popup_editor").val();
        i.find(".alert").fadeOut("fast"), "function" == typeof t && t(i, n, $(e.target))
    }
    var i = $("#expandButtonTemplate"),
        o = e;
    return this.bindRecInfo = function(e, t) {
        i.find("label").show(), i.find(".right").html(e), i.find(":checkbox").prop("checked", t)
    }, this.open = function(e, n, a, s, r) {
        var l = "popup_editor";
        try {
            tinyMCE.execCommand("mceRemoveEditor", !1, l)
        } catch (e) {}
        return i.find(".progress-img").hide(), i.find(".alert").html("").hide(), i.find("p").html(a), i.find("button.right").attr(s).text(n).off("click").click(function(e) {
            e.stopImmediatePropagation(), e.preventDefault(), t(e, r)
        }), i.dialog({
            title: n.replace(/&quot;/g, '"'),
            modal: !0,
            width: 520,
            open: function() {
                if ($(".ui-widget-overlay").on("click", function() {
                        i.dialog("close")
                    }), o) i.find("#" + l).attr("rows", 1).val(e).focus();
                else try {
                    tinymce.EditorManager.execCommand("mceAddEditor", !0, l), tinymce.EditorManager.execCommand(l, "mceFocus"), tinymce.activeEditor.setContent(e)
                } catch (e) {}
            }
        }), track("Users", "click", n), !1
    }, this
};
$(".myListBar").ready(function() {
        initMyListBar(), $(".myListBar").on("click", ".moreActions a", function() {
            track("Lists", "click", $(this).text())
        })
    }), $(document).ready(function() {
        $("table.feed").on("click", ".like-item a", function(e) {
            e.preventDefault();
            var t = $(this),
                i = t.attr("data-action");
            $.getJSON("/api/user/like/feed_items/" + t.data("id") + "/" + i + "/" + TOKEN, function(e) {
                e.success ? t.parents(".like-content").html(e.text) : alert(e.error)
            }), track("Users", i, "Clicked like/unlike in feed")
        })
    }),
    function(e) {
        function t(e, t, i) {
            return e + t < i && (e = i - t), e > 0 && (e = 0), e
        }
        e.jWindowCrop = function(i, o) {
            function n() {
                if (0 == f.originalWidth && (f.originalWidth = f.$image.width(), f.originalHeight = f.$image.height()), f.originalWidth > 0) {
                    var e = f.options.targetWidth / f.originalWidth,
                        t = f.options.targetHeight / f.originalHeight;
                    f.minPercent = e >= t ? f.originalWidth < f.options.targetWidth ? f.options.targetWidth / f.originalWidth : e : f.originalHeight < f.options.targetHeight ? f.options.targetHeight / f.originalHeight : t, f.focalPoint = {
                        x: Math.round(f.originalWidth / 2),
                        y: Math.round(f.originalHeight / 2)
                    }, f.setZoom(f.minPercent), f.$image.fadeIn("fast")
                }
            }

            function a() {
                var e = (-1 * parseInt(f.$image.css("left")) + f.options.targetWidth / 2) / f.workingPercent,
                    t = (-1 * parseInt(f.$image.css("top")) + f.options.targetHeight / 2) / f.workingPercent;
                f.focalPoint = {
                    x: Math.round(e),
                    y: Math.round(t)
                }
            }

            function s() {
                var e = t(-1 * Math.round(f.focalPoint.x * f.workingPercent - f.options.targetWidth / 2), f.$image.width(), f.options.targetWidth),
                    i = t(-1 * Math.round(f.focalPoint.y * f.workingPercent - f.options.targetHeight / 2), f.$image.height(), f.options.targetHeight);
                f.$image.css({
                    left: e.toString() + "px",
                    top: i.toString() + "px"
                }), a()
            }

            function r() {
                f.result = {
                    cropX: Math.floor(parseInt(f.$image.css("left")) / f.workingPercent * -1),
                    cropY: Math.floor(parseInt(f.$image.css("top")) / f.workingPercent * -1),
                    cropW: Math.round(f.options.targetWidth / f.workingPercent),
                    cropH: Math.round(f.options.targetHeight / f.workingPercent),
                    mustStretch: f.minPercent > 1
                }, f.options.onChange.call(f.image, f.result)
            }

            function l() {
                n()
            }

            function d(e) {
                e.preventDefault(), f.isDragging = !0, f.dragMouseCoords = {
                    x: e.pageX || e.originalEvent.touches[0].pageX,
                    y: e.pageY || e.originalEvent.touches[0].pageY
                }, f.dragImageCoords = {
                    x: parseInt(f.$image.css("left")),
                    y: parseInt(f.$image.css("top"))
                }
            }

            function c() {
                f.isDragging = !1
            }

            function p(e) {
                if (f.isDragging) {
                    var i = (e.pageX || e.originalEvent.touches[0].pageX) - f.dragMouseCoords.x,
                        o = (e.pageY || e.originalEvent.touches[0].pageY) - f.dragMouseCoords.y,
                        n = t(f.dragImageCoords.x + i, f.$image.width(), f.options.targetWidth),
                        s = t(f.dragImageCoords.y + o, f.$image.height(), f.options.targetHeight);
                    f.$image.css({
                        left: n.toString() + "px",
                        top: s.toString() + "px"
                    }), a(), r()
                }
            }

            function h() {
                f.options.smartControls && f.$frame.find(".jwc_controls").fadeIn("fast")
            }

            function u() {
                f.options.smartControls && f.$frame.find(".jwc_controls").fadeOut("fast")
            }
            var f = this;
            f.$image = e(i), f.image = i, f.$image.data("jWindowCrop", f), f.namespace = "jWindowCrop", f.originalWidth = 0, f.isDragging = !1, f.init = function() {
                f.$image.css({
                    display: "none"
                }), f.options = e.extend({}, e.jWindowCrop.defaultOptions, o), f.options.zoomSteps < 2 && (f.options.zoomSteps = 2), f.$image.addClass("jwc_image").wrap('<div class="jwc_frame" />'), f.$frame = f.$image.parent(), f.$frame.append('<div class="jwc_loader">' + f.options.loadingText + "</div>"), f.$frame.append('<div class="jwc_controls" style="display:' + (f.options.showControlsOnStart ? "block" : "none") + ';"><span>click to drag</span><a href="#" class="jwc_zoom_in"></a><a href="#" class="jwc_zoom_out"></a></div>'), f.$frame.css({
                    overflow: "hidden",
                    position: "relative",
                    width: f.options.targetWidth,
                    height: f.options.targetHeight
                }), f.$image.css({
                    position: "absolute",
                    top: "0px",
                    left: "0px"
                }), n(), f.$frame.find(".jwc_zoom_in").on("click." + f.namespace, f.zoomIn), f.$frame.find(".jwc_zoom_out").on("click." + f.namespace, f.zoomOut), f.$frame.on("mouseenter." + f.namespace, h), f.$frame.on("mouseleave." + f.namespace, u), f.$image.on("load." + f.namespace, l), f.$image.on("mousedown." + f.namespace + " touchstart." + f.namespace, d), e(document).on("mousemove." + f.namespace + " touchmove." + f.namespace, p), e(document).on("mouseup." + f.namespace + " touchend." + f.namespace, c)
            }, f.destroy = function() {
                f.$image.removeData("jWindowCrop"), e(document).unbind(), f.$image.unbind(), f.$frame.unbind(), f.$frame.find(".jwc_zoom_out").unbind(), f.$frame.find(".jwc_zoom_in").unbind(), e(".jwc_loader").remove(), e(".jwc_controls").remove(), f.$image.removeAttr("style"), f.$image.unwrap()
            }, f.setZoom = function(e) {
                f.minPercent >= 1 ? e = f.minPercent : e > 1 ? e = 1 : e < f.minPercent && (e = f.minPercent), f.$image.width(Math.ceil(f.originalWidth * e)), f.workingPercent = e, s(), r()
            }, f.zoomIn = function() {
                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                return f.setZoom(f.workingPercent + e), !1
            }, f.zoomOut = function() {
                var e = (1 - f.minPercent) / (f.options.zoomSteps - 1);
                return f.setZoom(f.workingPercent - e), !1
            }, f.init()
        }, e.jWindowCrop.defaultOptions = {
            targetWidth: 320,
            targetHeight: 180,
            zoomSteps: 10,
            loadingText: "",
            smartControls: !0,
            showControlsOnStart: !0,
            onChange: function() {}
        }, e.fn.jWindowCrop = function(t) {
            return this.each(function() {
                new e.jWindowCrop(this, t)
            })
        }, e.fn.getjWindowCrop = function() {
            return this.data("jWindowCrop")
        }
    }(jQuery), jQuery.fn.rating = function(e) {
        var t = {
            increment: .5,
            maxvalue: 5,
            curvalue: 0
        };
        e && jQuery.extend(t, e), jQuery.extend(t, {
            cancel: t.maxvalue > 1
        });
        var i = jQuery(this);
        jQuery.extend(i, {
            averageRating: t.curvalue
        }), t.increment = t.increment < .75 ? .5 : 1;
        for (var o = 0, n = 0; n <= t.maxvalue; n++) {
            if (0 == n) {
                if (1 == t.cancel) {
                    i.append('<div class="cancel"><a href="#0" title="Cancel Rating">Cancel Rating</a></div>')
                }
            } else {
                var a = $('<div class="star"></div>').append('<a href="#' + n + '" title="Give it ' + n + "/" + t.maxvalue + '">' + n + "</a>").appendTo(i);.5 == t.increment && (o % 2 ? a.addClass("star-left") : a.addClass("star-right"))
            }
            n = n - 1 + t.increment, o++
        }
        var s = jQuery(i).children(".star"),
            r = jQuery(i).children(".cancel");
        s.mouseover(function() {
            l.drain(), l.fill(this)
        }).mouseout(function() {
            l.drain(), l.reset()
        }).focus(function() {
            l.drain(), l.fill(this)
        }).blur(function() {
            l.drain(), l.reset()
        }).click(function(e, i) {
            return t.curvalue = jQuery(this).children("a")[0].href.split("#")[1], $(this).toggleClass("on"), l.drain(), l.reset(), i || set_rating(t.curvalue, this), !1
        }), r && r.mouseover(function() {
            l.drain(), jQuery(this).addClass("on")
        }).mouseout(function() {
            l.reset(), jQuery(this).removeClass("on")
        }).focus(function() {
            l.drain(), jQuery(this).addClass("on")
        }).blur(function() {
            l.reset(), jQuery(this).removeClass("on")
        }).click(function(e, i) {
            return t.curvalue = 0, l.drain(), l.reset(), i || set_rating(jQuery(this).children("a")[0].href.split("#")[1], this), !1
        });
        var l = {
            fill: function(e) {
                var t = s.index(e) + 1;
                s.children("a").css("width", "100%").end().slice(0, t).addClass("hover").end()
            },
            drain: function() {
                s.filter(".on").removeClass("on").end().filter(".hover").removeClass("hover").end()
            },
            reset: function() {
                s.slice(0, t.curvalue / t.increment).addClass("on").end()
            }
        };
        return l.reset(), this
    }, $(function() {
        initRating(".desktop")
    }),
    function(e, t) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = t(e, !0) : t(e)
    }("undefined" != typeof window ? window : this, function(e, t) {
        "use strict";

        function i(e) {
            return P.call(e).slice(8, -1).toLowerCase()
        }

        function o(e) {
            return "number" == typeof e && !isNaN(e)
        }

        function n(e) {
            return "object" == typeof e && null !== e
        }

        function a(e) {
            var t, i;
            if (!n(e)) return !1;
            try {
                return t = e.constructor, i = t.prototype, t && i && O.call(i, "isPrototypeOf")
            } catch (e) {
                return !1
            }
        }

        function s(e) {
            return "function" === i(e)
        }

        function r(e) {
            return Array.isArray ? Array.isArray(e) : "array" === i(e)
        }

        function l(e, t) {
            var i = [];
            return t = t >= 0 ? t : 0, Array.from ? Array.from(e).slice(t) : i.slice.call(e, t)
        }

        function d(e, t) {
            var i, a;
            if (e && s(t))
                if (r(e) || o(e.length))
                    for (a = 0, i = e.length; i > a && !1 !== t.call(e, e[a], a, e); a++);
                else if (n(e))
                for (a in e)
                    if (e.hasOwnProperty(a) && !1 === t.call(e, e[a], a, e)) break;
            return e
        }

        function c(e) {
            var t;
            if (arguments.length > 1) {
                if (t = l(arguments), Object.assign) return Object.assign.apply(Object, t);
                t.shift(), d(t, function(t) {
                    d(t, function(t, i) {
                        e[i] = t
                    })
                })
            }
            return e
        }

        function p(e, t) {
            var i = l(arguments, 2);
            return function() {
                return e.apply(t, i.concat(l(arguments)))
            }
        }

        function h(e, t, i) {
            var o = "",
                n = t;
            for (i += t; i > n; n++) o += H(e.getUint8(n));
            return o
        }

        function u(e) {
            var t, i = e.replace(b, ""),
                o = atob(i),
                n = o.length,
                a = new w(n),
                s = new Uint8Array(a);
            for (t = 0; n > t; t++) s[t] = o.charCodeAt(t);
            return a
        }

        function f(e) {
            var t, i = new Uint8Array(e),
                o = i.length,
                n = "";
            for (t = 0; o > t; t++) n += H(i[t]);
            return "data:image/jpeg;base64," + btoa(n)
        }

        function g(e) {
            var t = new Image;
            return t.src = e, t
        }

        function m(e) {
            var t = M(e.degree) % 180,
                i = (t > 90 ? 180 - t : t) * k / 180,
                o = S(i),
                n = $(i),
                a = e.width,
                s = e.height;
            return {
                width: a * n + s * o,
                height: a * o + s * n
            }
        }

        function v(e, t) {
            this.image = e, this.options = c({}, v.DEFAULTS, a(t) && t), this.data = null, this.init()
        }
        var w = e.ArrayBuffer,
            y = /^data\:/,
            b = /^data\:([^\;]+)\;base64,/,
            x = /^data\:image\/jpeg.*;base64,/,
            k = Math.PI,
            C = Math.min,
            T = Math.max,
            S = Math.sin,
            $ = Math.cos,
            M = Math.abs,
            E = Math.floor,
            A = Object.prototype,
            P = A.toString,
            O = A.hasOwnProperty,
            H = String.fromCharCode;
        v.prototype = {
            constructor: v,
            init: function() {
                var e, t, i = this,
                    o = this.image;
                if (!o || "img" !== o.tagName.toLowerCase() || !o.src) throw new Error("The given image is not a valid image");
                return w ? (t = o.src, y.test(t) ? x.test(t) ? this.read(u(t)) : this.load(o) : (e = new XMLHttpRequest, e.onerror = e.onabort = function() {
                    i.load(o)
                }, e.onload = function() {
                    i.read(this.response)
                }, e.open("get", t), e.responseType = "arraybuffer", void e.send())) : this.load(o)
            },
            read: function(e) {
                var t = this.readOrientation(e);
                t > 1 ? (this.translate(t), this.load(g(f(e)))) : this.load(this.image)
            },
            readOrientation: function(e) {
                var t, i, o, n, a, s, r, l, d, c, p = new DataView(e),
                    u = p.byteLength;
                if (255 === p.getUint8(0) && 216 === p.getUint8(1))
                    for (d = 2; u > d;) {
                        if (255 === p.getUint8(d) && 225 === p.getUint8(d + 1)) {
                            r = d;
                            break
                        }
                        d++
                    }
                if (r && (i = r + 4, o = r + 10, "Exif" === h(p, i, 4) && (s = p.getUint16(o), ((a = 18761 === s) || 19789 === s) && 42 === p.getUint16(o + 2, a) && (n = p.getUint32(o + 4, a)) >= 8 && (l = o + n))), l)
                    for (u = p.getUint16(l, a), c = 0; u > c; c++)
                        if (d = l + 12 * c + 2, 274 === p.getUint16(d, a)) {
                            t = p.getUint16(d + 8, a), p.setUint16(d + 8, 1, a);
                            break
                        }
                return t
            },
            translate: function(e) {
                var t = 0,
                    i = 1,
                    o = 1;
                switch (e) {
                    case 2:
                        i = -1;
                        break;
                    case 3:
                        t = -180;
                        break;
                    case 4:
                        o = -1;
                        break;
                    case 5:
                        t = 90, o = -1;
                        break;
                    case 6:
                        t = 90;
                        break;
                    case 7:
                        t = 90, i = -1;
                        break;
                    case 8:
                        t = -90
                }
                this.data = {
                    rotate: t,
                    scaleX: i,
                    scaleY: o
                }
            },
            load: function(e) {
                var t = p(function() {
                    e.removeEventListener("load", t, !1), this.resize(e)
                }, this);
                e.complete ? this.resize(e) : e.addEventListener("load", t, !1)
            },
            draw: function(e) {
                var t, i, n, a = document.createElement("canvas"),
                    s = a.getContext("2d"),
                    r = this.data,
                    l = 0,
                    d = 0,
                    c = e.naturalWidth,
                    p = e.naturalHeight,
                    h = r && r.rotate,
                    u = r && r.scaleX,
                    f = r && r.scaleY,
                    g = o(u) && o(f) && (1 !== u || 1 !== f),
                    v = o(h) && 0 !== h,
                    w = v || g,
                    y = c,
                    b = p;
                return g && (t = c / 2, i = p / 2), v && (n = m({
                    width: c,
                    height: p,
                    degree: h
                }), y = n.width, b = n.height, t = n.width / 2, i = n.height / 2), a.width = y, a.height = b, w && (l = -c / 2, d = -p / 2, s.save(), s.translate(t, i)), v && s.rotate(h * k / 180), g && s.scale(u, f), s.drawImage(e, E(l), E(d), E(c), E(p)), w && s.restore(), a
            },
            resize: function(e) {
                var t = this.options,
                    i = this.draw(e),
                    n = i.width,
                    a = i.height,
                    s = n / a,
                    r = document.createElement("canvas"),
                    l = T(0, t.minWidth) || 0,
                    d = T(0, t.minHeight) || 0,
                    c = T(l, t.maxWidth) || 1 / 0,
                    p = T(d, t.maxHeight) || 1 / 0,
                    h = M(t.width) || n,
                    u = M(t.height) || a;
                l > 0 && isFinite(l) ? d = l / s : d > 0 && isFinite(d) && (l = d * s), c > 0 && isFinite(c) ? p = c / s : p > 0 && isFinite(p) && (c = p * s), h = C(T(h, l), c), u = C(T(u, d), p), o(h) && o(u) ? u * s > h ? u = h / s : h = u * s : (h = n, u = a), r.width = h, r.height = u, r.getContext("2d").drawImage(i, 0, 0, E(n), E(a), 0, 0, E(h), E(u)), this.done(r)
            },
            done: function(e) {
                var t = this.options,
                    i = e;
                "image" === t.type && (i = g(e.toDataURL())), s(t.done) && t.done.call(this, i)
            }
        }, v.DEFAULTS = {
            type: "image",
            width: NaN,
            height: NaN,
            minWidth: 0,
            minHeight: 0,
            maxWidth: 1 / 0,
            maxHeight: 1 / 0,
            done: null
        };
        var I = e.Loader;
        return v.noConflict = function() {
            return e.Loader = I, v
        }, "function" == typeof define && define.amd && define("loader", [], function() {
            return v
        }), void 0 === t && (e.Loader = v), v
    }), $(document).ready(function() {
        ($("body").hasClass("mobile") || $("body").hasClass("tablet")) && $("body").on("click", ".myListBar .starrating", function(e) {
            if (!0 === e.handled) return !1;
            var t = $(this).closest("form"),
                i = t.data("id"),
                o = t.data("mode"),
                n = $(this).find(".rateme").attr("name"),
                a = "";
            n || (n = 0);
            for (var s = .5; s <= 5; s++) a += "<tr><td>" + getRateDesc(s) + "</td>" + buildRateCell(s, n) + buildRateCell(s + .5, n) + "</tr>";
            var r = $("<div><form class='" + o + i + "' data-mode='" + o + "' data-id='" + i + "'><table class='pure-table touchRateTable'>" + a + "<tr><td>No rating</td>" + buildRateCell(0, n) + "</tr></table></form></div>");
            showModal(e, "<h5>What did you think of <b>" + t.parents().siblings(".tableTitle").text() + "</b>?</h5>" + r.html()), $(".touchRateTable").find(".starrating").off("click", doRating).on("click", doRating), t.off("Rated", updateTableRating).on("Rated", updateTableRating), e.handled = !0
        })
    }), $(document).ready(function() {
        $("#siteContainer").on("click", ".expandButton", function(e) {
            e.stopImmediatePropagation(), e.preventDefault();
            var t = $(this).data();
            $.post("/api/rec/get/" + TOKEN, t, function(e) {
                if (e.error) return void alert(e.error);
                var i = new EditorModal,
                    o = "<a href='/" + e.from_type + "/" + e.from.url_slug,
                    n = "If you liked " + o + "'>" + e.from.name + "</a> or <a href='/" + e.to_type + "/" + e.to.url_slug + "'>" + e.to.name + "</a>, you'd like the other because...";
                return i.bindRecInfo("<p>or, " + o + "/recommendations/add'>add different recommendations for " + e.from.name + "</a>", e.my_reverse_rec_exists), i.open(e.reason ? e.reason : "", e.my_rec_exists ? "Update" : "Add rec", n, t, updateRec)
            }, "json")
        })
    }),
    function() {
        function e(t, o) {
            var n = /\W/.test(t) ? new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + t.replace(/[\r\t\n]/g, " ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');") : i[t] = i[t] || e(document.getElementById(t).innerHTML);
            return o ? n(o) : n
        }

        function t(t) {
            return e("item_tmpl", t)
        }
        var i = {};
        EntryBuilder = {
            build: t
        }
    }(),
    function(e, t) {
        function i(e, i, o) {
            var n = new Suggestination(t);
            n.init(e, i, o, "get"), a(n)
        }

        function o(e, i, o) {
            var n = new Suggestination(t);
            n.init(e, i, o, "get_related"), a(n)
        }

        function n(i, o, n, s, r) {
            s = "number" == typeof s ? s : 4, $container = e("#" + i), prevWasStriped = !$container.hasClass("bg-themeColor"), e.post("/api/suggestions/get_tags", {
                limit: s,
                type: n,
                name: r
            }, function(s) {
                s.success ? (s.tags.forEach(function(s) {
                    $container.clone().attr("id", i + s.id).insertAfter($container), $newContainer = e("#" + i + s.id), $newContainer.find(".button").attr("href", "tags?name=" + s.url), prevWasStriped ? $newContainer.removeClass("bg-themeColor") : $newContainer.addClass("bg-themeColor"), prevWasStriped = !prevWasStriped;
                    var r = new Suggestination(t);
                    r.init(i + s.id, o, n, "get", {
                        singleTag: !0,
                        tag_id: s.id
                    }), a(r)
                }), $container.remove()) : ($container.find(".progress-img").hide(), $container.find(".NoSuggestion").html(s.error).fadeIn(), $container.find("h1").text("Suggestions based on tags you love"), $container.show())
            }, "json")
        }

        function a(t) {
            e(document).on("rated markedNotInterested", function(e, i) {
                i.error ? t.showErrorMessage(i.error) : t.loadNewSuggestion(i.mode, i.id)
            })
        }

        function s(t, i) {
            e.post("/api/suggestions/suppress/" + TOKEN, {
                id: i,
                type: t,
                requestReplacement: !1
            }, function(o) {
                e(document).trigger("markedNotInterested", [{
                    mode: t,
                    id: i,
                    error: o.error
                }])
            })
        }
        Suggestinator = {
            random: i,
            related: o,
            notInterested: s,
            singleTag: n
        }
    }(jQuery, EntryBuilder);
var Suggestination = function(e) {
    function t(t, i) {
        var o = $.parseHTML(e.build(i));
        $(t).each(function() {
            $(this).tooltip("destroy")
        });
        var n = t.parent().fadeTo(50, .2, function() {
            $(".ui-tooltip").remove(), n.find("a").replaceWith($(o).find("a")), n.attr("data-id", i.id).attr("data-status", 0), n.fadeTo(200, 1), Tooltip.newTooltips(n.find(".tooltip"))
        })
    }

    function i(e, t) {
        var i = t.map(function() {
                return this.className.match(/(anime|manga)([0-9]+)/g)
            }).get(),
            o = [];
        return $.each(e, function(e, t) {
            -1 == $.inArray(t.type + t.id, i) && o.push(t)
        }), o
    }
    var o, n, a, s, r, l, d, c, p, h, u = [],
        f = !1;
    return this.init = function(e, t, i, d, u) {
        c = d, o = $("#" + e).find(".Suggestions"), n = $("#" + e).find(".NoSuggestion"), a = $("#" + e).find("h1"), r = "number" == typeof t ? t : 7, l = i, s = this.getMoreSuggestions, h = this.showErrorMessage, p = e, s(u)
    }, this.getMoreSuggestions = function(t) {
        $.post("/api/suggestions/" + c, $.extend({
            totalRequested: 2 * r,
            type: l
        }, t), function(t) {
            if ($("#" + p).show(), t.list && t.list.length) {
                t.list.length < 2 * r && (f = !0, n.text(t.error)), t.tag_id && (d = {
                    singleTag: !0,
                    tag_id: t.tag_id
                }), t.tag_name && a.find("i").replaceWith(t.tag_name), u = t.list.slice(r);
                var i = "";
                $(t.list).each(function(t, o) {
                    var n = e.build(o);
                    t < r && (i += n)
                }), o.find(".progress-img").hide(), o.find("ul").fadeIn().append(i), o.parent().find(".button").fadeIn(), Tooltip.newTooltips(o.find(".tooltip"))
            } else h(t.error)
        }, "json")
    }, this.showErrorMessage = function(e) {
        o.find(".progress-img").hide(function() {
            n.html(e).fadeIn()
        })
    }, this.loadNewSuggestion = function(e, a) {
        var c = o.find("a." + e + a),
            p = u[0];
        if (p) u = u.splice(1), t(c, p);
        else if (f) c.parent().remove(), o.find("li").length || (o.parent().find(".button").hide(), n.fadeIn());
        else {
            s($.extend({
                totalRequested: 2 * r,
                type: l
            }, d), function(e) {
                e.list && e.list.length ? (u = i(e.list, o.find(".card a")), u.length ? (f = !1, t(c, u[0]), u = u.splice(1)) : (f = !0, n.text(e.error), c.parent().remove())) : (f = !0, h(e.error))
            })
        }
    }, this
};
! function(e) {
    function t() {
        e("body").hasClass("mobile") || e("body").hasClass("tablet") ? (e(".recoCta .tooltip").add(".tableReason .tooltip").add(e(".tooltip.fa-question-circle")).on("click", function(t) {
            showModal(t, e(this).attr("title"))
        }), e(".touchTooltip").on("click", function(t) {
            showModal(t, e(this).siblings(".tableTitle").find(".tooltip").attr("title"))
        })) : i(e(".tooltip"))
    }

    function i(t) {
        t.each(function() {
            var t = e(this).data("class"),
                i = !1,
                o = {
                    effect: "hide"
                },
                n = t ? "right+11 top-22" : "right+11 top+20";
            t && t.indexOf("hoverable") > -1 && (t = t.replace("hoverable", ""), i = !0, o = {}), e(this).tooltip({
                content: function() {
                    return e(this).attr("title")
                },
                position: {
                    my: "fav" == t ? "center bottom" : "left top",
                    at: "fav" == t ? "center bottom+58" : n,
                    collision: t ? "none" : "flip none",
                    using: function(i, o) {
                        e(this).css(i).addClass(o.horizontal).addClass(t)
                    }
                },
                hide: o,
                show: {
                    effect: "show",
                    delay: 350
                },
                close: function(t, o) {
                    i && o.tooltip.hover(function() {
                        e(this).stop(!0).fadeTo(50, 1)
                    }, function() {
                        e(this).remove()
                    })
                }
            })
        })
    }
    Tooltip = {
        init: t,
        newTooltips: i
    }
}(jQuery), $(document).ready(Tooltip.init),
    function(e) {
        function t() {
            o("anime"), o("manga"), i("tags")
        }

        function i(t) {
            AjaxTooltip.data[t] = {}, ids = e.map(e('[data-tooltip="' + t + '"]'), function(i) {
                var o = a(i),
                    n = "Tooltip:" + t + ":" + o,
                    s = localStorage.getItem(n);
                s && (AjaxTooltip.data[t].hasOwnProperty(o) || (AjaxTooltip.data[t][o] = {}), AjaxTooltip.data[t][o].normal = s);
                var r = "Tooltip:" + t + ":" + o + ":character",
                    l = localStorage.getItem(r);
                return l && (AjaxTooltip.data[t].hasOwnProperty(o) || (AjaxTooltip.data[t][o] = {}), AjaxTooltip.data[t][o].character = l), ("characters" === e(i).data("tooltip-entry") ? l : s) ? null : o
            }).filter(Boolean), ids.length && e.getJSON("/api/tooltip/" + t + "?ids=" + ids.join(","), function(i) {
                for (var o in i) AjaxTooltip.data[t][o] = {
                    normal: i[o].tooltip,
                    character: i[o].char_tooltip
                }, i[o].tooltip && localStorage.setItem("Tooltip:" + t + ":" + o, i[o].tooltip), i[o].char_tooltip && localStorage.setItem("Tooltip:" + t + ":" + o + ":character", i[o].char_tooltip);
                var n = e('.progress-img[data-type="' + t + '"]');
                n.length && n.replaceWith(s(n.data("entry"), t, n.data("id")))
            })
        }

        function o(t) {
            AjaxTooltip.data[t] = {}, ids = e.map(e('[data-tooltip="' + t + '"]'), function(e) {
                return a(e)
            }).filter(Boolean), ids.length && e.getJSON("/api/tooltip/" + t + "?ids=" + ids.join(","), function(i) {
                for (var o in i) AjaxTooltip.data[t][o] = i[o];
                var n = e('.progress-img[data-type="' + t + '"]');
                n.length && n.replaceWith(s(n.data("entry"), t, n.data("id")))
            })
        }

        function n(e, t, i) {
            return "<span class='progress-img' style='display:block;position:static' data-entry='" + e + "' data-type='" + t + "' data-id='" + i + "'>"
        }

        function a(t) {
            var i = t.dataset.tooltipEntry,
                o = t.dataset.tooltip,
                a = t.dataset.tooltipId;
            return t.title = "", e(t).tooltip({
                hide: {
                    effect: "hide"
                },
                show: {
                    effect: "show",
                    delay: 350
                },
                content: function() {
                    var e = s(i, o, a);
                    return null == e ? n(i, o) : e
                },
                position: {
                    my: "left top",
                    collision: "none",
                    at: "right+11 top-22",
                    using: function(t, i) {
                        e(this).css(t).addClass(i.horizontal)
                    }
                }
            }), a
        }

        function s(e, t, i) {
            var o = AjaxTooltip.data[t][i];
            return "anime" != t && "manga" != t && (o = o["characters" === e ? "character" : "normal"]), o && e && (o = o.replace(/&quot;/g, '"'), o = o.replace(/{type}/g, e), o = o.replace(/{Type}/g, e.substring(0, 1).toUpperCase() + e.substring(1))), o
        }
        if (AjaxTooltip = {}, AjaxTooltip.data = {}, AjaxTooltip.cacheExpiration = localStorage.getItem("Tooltips:CacheExpiration"), !AjaxTooltip.cacheExpiration || new Date(AjaxTooltip.cacheExpiration) < new Date) {
            AjaxTooltip.cacheExpiration = new Date, AjaxTooltip.cacheExpiration.setDate(AjaxTooltip.cacheExpiration.getDate() + 7), localStorage.setItem("Tooltips:CacheExpiration", AjaxTooltip.cacheExpiration.toISOString());
            for (var r in localStorage) 0 == r.indexOf("Tooltip:") && localStorage.removeItem(r)
        }
        AjaxTooltip.init = t
    }(jQuery), $(document).ready(AjaxTooltip.init);
